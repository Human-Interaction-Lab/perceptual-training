/*! For license information please see main.2eaf9dde.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=x.prototype=new b;w.constructor=x,h(w,y.prototype),w.isPureReactComponent=!0;var v=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var o,a={},s=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,o)&&!N.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:i,props:a,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,o,a,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+T(l,0):a,v(s)?(o="",null!=e&&(o=e.replace(_,"$&/")+"/"),P(s,t,o,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",v(e))for(var c=0;c<e.length;c++){var u=a+T(i=e[c],c);l+=P(i,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=P(i=i.value,t,o,u=a+T(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function $(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},I={transition:null},A={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:$,forEach:function(e,t,n){$(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return $(e,(function(){t++})),t},toArray:function(e){return $(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=h({},e.props),a=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!N.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:o,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>a(l,n))c<o&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<o&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,m=null,p=3,f=!1,h=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function v(e){if(g=!1,w(e),!h)if(null!==r(c))h=!0,I(S);else{var t=r(u);null!==t&&A(v,t.startTime-e)}}function S(e,n){h=!1,g&&(g=!1,b(C),C=-1),f=!0;var a=p;try{for(w(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!P());){var s=m.callback;if("function"===typeof s){m.callback=null,p=m.priorityLevel;var i=s(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&o(c),w(n)}else o(c);m=r(c)}if(null!==m)var l=!0;else{var d=r(u);null!==d&&A(v,d.startTime-n),l=!1}return l}finally{m=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,j=null,C=-1,_=5,T=-1;function P(){return!(t.unstable_now()-T<_)}function $(){if(null!==j){var e=t.unstable_now();T=e;var n=!0;try{n=j(!0,e)}finally{n?k():(N=!1,j=null)}}else N=!1}if("function"===typeof x)k=function(){x($)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,D=E.port2;E.port1.onmessage=$,k=function(){D.postMessage(null)}}else k=function(){y($,0)};function I(e){j=e,N||(N=!0,k())}function A(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,A(v,a-s))):(e.sortIndex=i,n(c,e),h||f||(h=!0,I(S))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EASTERN_TIMEZONE:()=>Nt,calculatePercentage:()=>It,cn:()=>Ct,formatDate:()=>Pt,formatDuration:()=>Ot,generateId:()=>At,getCurrentDateInEastern:()=>_t,isIPadChrome:()=>jt,isSameDay:()=>$t,isToday:()=>Dt,toEasternTime:()=>Tt});var r=n(387);const o=e=>{const t=l(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),a(n,t)||i(e)},getConflictingClassGroupIds:(e,t)=>{const o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},a=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?a(e.slice(1),r):void 0;if(o)return o;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(s)}))?.classGroupId},s=/^\[(.+)\]$/,i=e=>{if(s.test(e)){const t=s.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},l=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return m(Object.entries(e.classGroups),n).forEach((e=>{let[n,o]=e;c(o,r,n,t)})),r},c=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return d(e)?void c(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[o,a]=e;c(a,u(t,o),n,r)}))}else{(""===e?t:u(t,e)).classGroupId=n}}))},u=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},d=e=>e.isThemeGetter,m=(e,t)=>t?e.map((e=>{let[n,r]=e;return[n,r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e))]})):e,p=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}},f=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,o=t[0],a=t.length,s=e=>{const n=[];let s,i=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===i){if(c===o&&(r||e.slice(d,d+a)===t)){n.push(e.slice(l,d)),l=d+a;continue}if("/"===c){s=d;continue}}"["===c?i++:"]"===c&&i--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return n?e=>n({className:e,parseClassName:s}):s},h=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},g=/\s+/;function y(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=b(e))&&(r&&(r+=" "),r+=t);return r}const b=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=b(e[r]))&&(n&&(n+=" "),n+=t);return n};function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let a,s,i,l=function(t){const r=n.reduce(((e,t)=>t(e)),e());return a=(e=>({cache:p(e.cacheSize),parseClassName:f(e),...o(e)}))(r),s=a.cache.get,i=a.cache.set,l=c,c(t)};function c(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],s=e.trim().split(g);let i="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let m=Boolean(d),p=r(m?u.substring(0,d):u);if(!p){if(!m){i=e+(i.length>0?" "+i:i);continue}if(p=r(u),!p){i=e+(i.length>0?" "+i:i);continue}m=!1}const f=h(t).join(":"),g=c?f+"!":f,y=g+p;if(a.includes(y))continue;a.push(y);const b=o(p,m);for(let n=0;n<b.length;++n){const e=b[n];a.push(g+e)}i=e+(i.length>0?" "+i:i)}return i})(e,a);return i(e,n),n}return function(){return l(y.apply(null,arguments))}}const w=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},v=/^\[(?:([a-z-]+):)?(.+)\]$/i,S=/^\d+\/\d+$/,k=new Set(["px","full","screen"]),N=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,C=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,P=e=>E(e)||k.has(e)||S.test(e),$=e=>H(e,"length",W),E=e=>Boolean(e)&&!Number.isNaN(Number(e)),D=e=>H(e,"number",E),I=e=>Boolean(e)&&Number.isInteger(Number(e)),A=e=>e.endsWith("%")&&E(e.slice(0,-1)),O=e=>v.test(e),R=e=>N.test(e),F=new Set(["length","size","percentage"]),M=e=>H(e,F,Y),z=e=>H(e,"position",Y),L=new Set(["image","url"]),U=e=>H(e,L,G),B=e=>H(e,"",V),q=()=>!0,H=(e,t,n)=>{const r=v.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},W=e=>j.test(e)&&!C.test(e),Y=()=>!1,V=e=>_.test(e),G=e=>T.test(e),Q=(Symbol.toStringTag,()=>{const e=w("colors"),t=w("spacing"),n=w("blur"),r=w("brightness"),o=w("borderColor"),a=w("borderRadius"),s=w("borderSpacing"),i=w("borderWidth"),l=w("contrast"),c=w("grayscale"),u=w("hueRotate"),d=w("invert"),m=w("gap"),p=w("gradientColorStops"),f=w("gradientColorStopPositions"),h=w("inset"),g=w("margin"),y=w("opacity"),b=w("padding"),x=w("saturate"),v=w("scale"),S=w("sepia"),k=w("skew"),N=w("space"),j=w("translate"),C=()=>["auto",O,t],_=()=>[O,t],T=()=>["",P,$],F=()=>["auto",E,O],L=()=>["","0",O],H=()=>[E,O];return{cacheSize:500,separator:":",theme:{colors:[q],spacing:[P,$],blur:["none","",R,O],brightness:H(),borderColor:[e],borderRadius:["none","","full",R,O],borderSpacing:_(),borderWidth:T(),contrast:H(),grayscale:L(),hueRotate:H(),invert:L(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[A,$],inset:C(),margin:C(),opacity:H(),padding:_(),saturate:H(),scale:H(),sepia:L(),skew:H(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",O]}],container:["container"],columns:[{columns:[R]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",O]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",I,O]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",O]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",I,O]}],"grid-cols":[{"grid-cols":[q]}],"col-start-end":[{col:["auto",{span:["full",I,O]},O]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[q]}],"row-start-end":[{row:["auto",{span:[I,O]},O]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",O]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",O]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",O,t]}],"min-w":[{"min-w":[O,t,"min","max","fit"]}],"max-w":[{"max-w":[O,t,"none","full","min","max","fit","prose",{screen:[R]},R]}],h:[{h:[O,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[O,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[O,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[O,t,"auto","min","max","fit"]}],"font-size":[{text:["base",R,$]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",D]}],"font-family":[{font:[q]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",O]}],"line-clamp":[{"line-clamp":["none",E,D]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",P,O]}],"list-image":[{"list-image":["none",O]}],"list-style-type":[{list:["none","disc","decimal",O]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",P,$]}],"underline-offset":[{"underline-offset":["auto",P,O]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",O]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",O]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",z]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",M]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},U]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[P,O]}],"outline-w":[{outline:[P,$]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[P,$]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",R,B]}],"shadow-color":[{shadow:[q]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",R,O]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",O]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",O]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",O]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[I,O]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",O]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",O]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",O]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[P,$,D]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),J=x(Q),Z={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function K(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const X={date:K({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:K({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:K({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function te(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):t;r=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function ne(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const s=a[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(i,(e=>e.test(s))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(i,(e=>e.test(s)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}var re;const oe={code:"en-US",formatDistance:(e,t,n)=>{let r;const o=Z[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:X,formatRelative:(e,t,n,r)=>ee[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:te({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:te({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:te({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:te({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:te({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(re={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(re.matchPattern);if(!n)return null;const r=n[0],o=e.match(re.parsePattern);if(!o)return null;let a=re.valueCallback?re.valueCallback(o[0]):o[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(r.length)}}),era:ne({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ne({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ne({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ne({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ne({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let ae={};function se(){return ae}Math.pow(10,8);const ie=6048e5,le=Symbol.for("constructDateFrom");function ce(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&le in e?e[le](t):e instanceof Date?new e.constructor(t):new Date(t)}function ue(e,t){return ce(t||e,e)}function de(e){const t=ue(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function me(e,t){const n=ue(e,t?.in);return n.setHours(0,0,0,0),n}function pe(e,t,n){const[r,o]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=ce.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(o)}(n?.in,e,t),a=me(r),s=me(o),i=+a-de(a),l=+s-de(s);return Math.round((i-l)/864e5)}function fe(e,t){const n=ue(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function he(e,t){const n=ue(e,t?.in);return pe(n,fe(n))+1}function ge(e,t){const n=se(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ue(e,t?.in),a=o.getDay(),s=(a<r?7:0)+a-r;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}function ye(e,t){return ge(e,{...t,weekStartsOn:1})}function be(e,t){const n=ue(e,t?.in),r=n.getFullYear(),o=ce(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=ye(o),s=ce(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=ye(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=i.getTime()?r:r-1}function xe(e,t){const n=be(e,t),r=ce(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ye(r)}function we(e,t){const n=ue(e,t?.in),r=+ye(n)-+xe(n);return Math.round(r/ie)+1}function ve(e,t){const n=ue(e,t?.in),r=n.getFullYear(),o=se(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,s=ce(t?.in||e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const i=ge(s,t),l=ce(t?.in||e,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=ge(l,t);return+n>=+i?r+1:+n>=+c?r:r-1}function Se(e,t){const n=se(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=ve(e,t),a=ce(t?.in||e,0);a.setFullYear(o,0,r),a.setHours(0,0,0,0);return ge(a,t)}function ke(e,t){const n=ue(e,t?.in),r=+ge(n,t)-+Se(n,t);return Math.round(r/ie)+1}function Ne(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const je={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ne("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Ne(n+1,2)},d:(e,t)=>Ne(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Ne(e.getHours()%12||12,t.length),H:(e,t)=>Ne(e.getHours(),t.length),m:(e,t)=>Ne(e.getMinutes(),t.length),s:(e,t)=>Ne(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Ne(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Ce="midnight",_e="noon",Te="morning",Pe="afternoon",$e="evening",Ee="night",De={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return je.y(e,t)},Y:function(e,t,n,r){const o=ve(e,r),a=o>0?o:1-o;if("YY"===t){return Ne(a%100,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):Ne(a,t.length)},R:function(e,t){return Ne(be(e),t.length)},u:function(e,t){return Ne(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ne(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ne(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return je.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ne(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=ke(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):Ne(o,t.length)},I:function(e,t,n){const r=we(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ne(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):je.d(e,t)},D:function(e,t,n){const r=he(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ne(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ne(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ne(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return Ne(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?_e:0===r?Ce:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?$e:r>=12?Pe:r>=4?Te:Ee,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return je.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):je.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ne(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ne(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):je.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):je.s(e,t)},S:function(e,t){return je.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Ae(r);case"XXXX":case"XX":return Oe(r);default:return Oe(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ae(r);case"xxxx":case"xx":return Oe(r);default:return Oe(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ie(r,":");default:return"GMT"+Oe(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ie(r,":");default:return"GMT"+Oe(r,":")}},t:function(e,t,n){return Ne(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Ne(+e,t.length)}};function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return 0===a?n+String(o):n+String(o)+t+Ne(a,2)}function Ae(e,t){if(e%60===0){return(e>0?"-":"+")+Ne(Math.abs(e)/60,2)}return Oe(e,t)}function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Ne(Math.trunc(r/60),2)+t+Ne(r%60,2)}const Re=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Fe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Me={p:Fe,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Re(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",Re(r,t)).replace("{{time}}",Fe(o,t))}},ze=/^D+$/,Le=/^Y+$/,Ue=["D","DD","YY","YYYY"];function Be(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function qe(e){return!(!Be(e)&&"number"!==typeof e||isNaN(+ue(e)))}const He=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,We=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ye=/^'([^]*?)'?$/,Ve=/''/g,Ge=/[a-zA-Z]/;function Qe(e,t,n){const r=se(),o=n?.locale??r.locale??oe,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=ue(e,n?.in);if(!qe(i))throw new RangeError("Invalid time value");let l=t.match(We).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Me[t])(e,o.formatLong)}return e})).join("").match(He).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Je(e)};if(De[t])return{isToken:!0,value:e};if(t.match(Ge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));o.localize.preprocessor&&(l=o.localize.preprocessor(i,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:o};return l.map((r=>{if(!r.isToken)return r.value;const a=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return Le.test(e)}(a)||!n?.useAdditionalDayOfYearTokens&&function(e){return ze.test(e)}(a))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Ue.includes(e))throw new RangeError(r)}(a,t,String(e));return(0,De[a[0]])(i,a,o.localize,c)})).join("")}function Je(e){const t=e.match(Ye);return t?t[1].replace(Ve,"'"):e}function Ze(e,t){const n=function(e){Xe[e]||(Xe[e]=tt?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));return Xe[e]}(t);return"formatToParts"in n?function(e,t){try{const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const t=Ke[n[e].type];void 0!==t&&(r[t]=parseInt(n[e].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}(n,e):function(e,t){const n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}(n,e)}const Ke={year:0,month:1,day:2,hour:3,minute:4,second:5};const Xe={},et=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),tt="06/25/2014, 00:00:00"===et||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===et;function nt(e,t,n,r,o,a,s){const i=new Date(0);return i.setUTCFullYear(e,t,n),i.setUTCHours(r,o,a,s),i}const rt=36e5,ot=6e4,at={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function st(e,t,n){if(!e)return 0;let r,o,a=at.timezoneZ.exec(e);if(a)return 0;if(a=at.timezoneHH.exec(e),a)return r=parseInt(a[1],10),lt(r)?-r*rt:NaN;if(a=at.timezoneHHMM.exec(e),a){r=parseInt(a[2],10);const e=parseInt(a[3],10);return lt(r,e)?(o=Math.abs(r)*rt+e*ot,"+"===a[1]?-o:o):NaN}if(function(e){if(ct[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),ct[e]=!0,!0}catch(t){return!1}}(e)){t=new Date(t||Date.now());const r=n?t:function(e){return nt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),o=it(r,e),a=n?o:function(e,t,n){const r=e.getTime();let o=r-t;const a=it(new Date(o),n);if(t===a)return t;o-=a-t;const s=it(new Date(o),n);if(a===s)return a;return Math.max(a,s)}(t,o,e);return-a}return NaN}function it(e,t){const n=Ze(e,t),r=nt(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let o=e.getTime();const a=o%1e3;return o-=a>=0?a:1e3+a,r-o}function lt(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}const ct={};function ut(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const dt=36e5,mt=6e4,pt=2,ft={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function ht(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);const n=null==t.additionalDigits?pt:Number(t.additionalDigits);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"===typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);const r=function(e){const t={};let n,r=ft.dateTimePattern.exec(e);r?(t.date=r[1],n=r[3]):(r=ft.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e));if(n){const e=ft.timeZone.exec(n);e?(t.time=n.replace(e[1],""),t.timeZone=e[1].trim()):t.time=n}return t}(e),{year:o,restDateString:a}=function(e,t){if(e){const n=ft.YYY[t],r=ft.YYYYY[t];let o=ft.YYYY.exec(e)||r.exec(e);if(o){const t=o[1];return{year:parseInt(t,10),restDateString:e.slice(t.length)}}if(o=ft.YY.exec(e)||n.exec(e),o){const t=o[1];return{year:100*parseInt(t,10),restDateString:e.slice(t.length)}}}return{year:null}}(r.date,n),s=function(e,t){if(null===t)return null;let n,r,o;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let a=ft.MM.exec(e);if(a)return n=new Date(0),r=parseInt(a[1],10)-1,wt(t,r)?(n.setUTCFullYear(t,r),n):new Date(NaN);if(a=ft.DDD.exec(e),a){n=new Date(0);const e=parseInt(a[1],10);return function(e,t){if(t<1)return!1;const n=xt(e);if(n&&t>366)return!1;if(!n&&t>365)return!1;return!0}(t,e)?(n.setUTCFullYear(t,0,e),n):new Date(NaN)}if(a=ft.MMDD.exec(e),a){n=new Date(0),r=parseInt(a[1],10)-1;const e=parseInt(a[2],10);return wt(t,r,e)?(n.setUTCFullYear(t,r,e),n):new Date(NaN)}if(a=ft.Www.exec(e),a)return o=parseInt(a[1],10)-1,vt(o)?gt(t,o):new Date(NaN);if(a=ft.WwwD.exec(e),a){o=parseInt(a[1],10)-1;const e=parseInt(a[2],10)-1;return vt(o,e)?gt(t,o,e):new Date(NaN)}return null}(a,o);if(null===s||isNaN(s.getTime()))return new Date(NaN);if(s){const e=s.getTime();let n,o=0;if(r.time&&(o=function(e){let t,n,r=ft.HH.exec(e);if(r)return t=parseFloat(r[1].replace(",",".")),St(t)?t%24*dt:NaN;if(r=ft.HHMM.exec(e),r)return t=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),St(t,n)?t%24*dt+n*mt:NaN;if(r=ft.HHMMSS.exec(e),r){t=parseInt(r[1],10),n=parseInt(r[2],10);const e=parseFloat(r[3].replace(",","."));return St(t,n,e)?t%24*dt+n*mt+1e3*e:NaN}return null}(r.time),null===o||isNaN(o)))return new Date(NaN);if(r.timeZone||t.timeZone){if(n=st(r.timeZone||t.timeZone,new Date(e+o)),isNaN(n))return new Date(NaN)}else n=ut(new Date(e+o)),n=ut(new Date(e+o+n));return new Date(e+o+n)}return new Date(NaN)}function gt(e,t,n){t=t||0,n=n||0;const r=new Date(0);r.setUTCFullYear(e,0,4);const o=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}const yt=[31,28,31,30,31,30,31,31,30,31,30,31],bt=[31,29,31,30,31,30,31,31,30,31,30,31];function xt(e){return e%400===0||e%4===0&&e%100!==0}function wt(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;const r=xt(e);if(r&&n>bt[t])return!1;if(!r&&n>yt[t])return!1}return!0}function vt(e,t){return!(e<0||e>52)&&(null==t||!(t<0||t>6))}function St(e,t,n){return!(e<0||e>=25)&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}function kt(e,t,n){const r=st(t,e=ht(e,n),!0),o=new Date(e.getTime()-r),a=new Date(0);return a.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),a}const Nt="America/New_York";function jt(){if("undefined"===typeof window||!window.navigator)return!1;const e=window.navigator.userAgent.toLowerCase(),t=/ipad/.test(e)||/macintosh/.test(e)&&"undefined"!==typeof window&&"ontouchend"in document,n=/crios|chrome/.test(e)&&!/edge|edg|firefox|fxios|opera|opr/.test(e);return t&&n}function Ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J((0,r.$)(t))}function _t(){const e=new Date;if(jt()){(function(){const e=new Date,t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1);Math.abs(t.getTimezoneOffset()),Math.abs(n.getTimezoneOffset())})();const t=new Date(e);return t.setHours(0,0,0,0),t}return kt(e,Nt)}function Tt(e){if(!e)return null;const t=new Date(e);if(jt()){const e=new Date(t);return e.setHours(0,0,0,0),e}return kt(t,Nt)}function Pt(e){if(!e)return"";return Qe(Tt(e),"MMMM d, yyyy")}function $t(e,t){if(!e||!t)return!1;const n=Et(Tt(e)),r=Et(Tt(t));return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}function Et(e){if(!e)return null;const t=new Date(e);return t.setHours(0,0,0,0),t}function Dt(e){if(!e)return!1;const t=Et(_t()),n=Et(Tt(e));return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()}function It(e,t){return Math.round(e/t*100)}function At(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Math.random().toString(36).substring(2,e+2)}function Ot(e){return`${Math.floor(e/6e4)}:${(e%6e4/1e3).toFixed(0).padStart(2,"0")}`}},387:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function o(){for(var e,t,n=0,o="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{$:()=>o,A:()=>a});const a=o},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function h(e,t,n,r,o,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(m.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R,F=Object.assign;function M(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function L(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=r.stack.split("\n"),s=o.length-1,i=a.length-1;1<=s&&0<=i&&o[s]!==a[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==a[i]){if(1!==s||1!==i)do{if(s--,0>--i||o[s]!==a[i]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case j:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case $:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function K(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ne=null;function je(e){if(e=wo(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ce(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function _e(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Te(e,t){return e(t)}function Pe(){}var $e=!1;function Ee(e,t,n){if($e)return e(t,n);$e=!0;try{return Te(e,t,n)}finally{$e=!1,(null!==ke||null!==Ne)&&(Pe(),_e())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Ie=!1}function Oe(e,t,n,r,o,a,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Fe=null,Me=!1,ze=null,Le={onError:function(e){Re=!0,Fe=e}};function Ue(e,t,n,r,o,a,s,i,l){Re=!1,Fe=null,Oe.apply(Le,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return He(o),e;if(s===r)return He(o),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ve=o.unstable_scheduleCallback,Ge=o.unstable_cancelCallback,Qe=o.unstable_shouldYield,Je=o.unstable_requestPaint,Ze=o.unstable_now,Ke=o.unstable_getCurrentPriorityLevel,Xe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~o;0!==i?r=dt(i):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~o)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var xt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,St,kt,Nt,jt,Ct=!1,_t=[],Tt=null,Pt=null,$t=null,Et=new Map,Dt=new Map,It=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Rt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=xo(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void jt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Mt(e)&&n.delete(t)}function Lt(){Ct=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==$t&&Mt($t)&&($t=null),Et.forEach(zt),Dt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Pt&&Ut(Pt,e),null!==$t&&Ut($t,e),Et.forEach(t),Dt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ft(n),null===n.blockedOn&&It.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var o=xt,a=qt.transition;qt.transition=null;try{xt=1,Vt(e,t,n,r)}finally{xt=o,qt.transition=a}}function Yt(e,t,n,r){var o=xt,a=qt.transition;qt.transition=null;try{xt=4,Vt(e,t,n,r)}finally{xt=o,qt.transition=a}}function Vt(e,t,n,r){if(Ht){var o=Qt(e,t,n,r);if(null===o)Hr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,o),!0;case"dragenter":return Pt=Rt(Pt,e,t,n,r,o),!0;case"mouseover":return $t=Rt($t,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Et.set(a,Rt(Et.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Dt.set(a,Rt(Dt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<At.indexOf(e)){for(;null!==o;){var a=wo(o);if(null!==a&&vt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Gt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=xo(e=ve(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Kt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Kt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[a-t];t++);return Xt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),mn=on(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),hn=on(F({},pn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(bn),wn=on(F({},cn,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function jn(){return Nn}var Cn=F({},dn,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(Cn),Tn=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),$n=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(En),In=[9,13,27,32],An=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Rn=u&&"TextEvent"in window&&!On,Fn=u&&(!An||On&&8<On&&11>=On),Mn=String.fromCharCode(32),zn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Vn=null;function Gn(e){Mr(e,0)}function Qn(e){if(V(vo(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Kn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Kn=Xn}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Vn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Vn)){var t=[];Wn(t,Vn,e,ve(e)),Ee(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Vn)}function ar(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ir(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ur(n,a);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,xr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Yr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionend:vr("Transition","TransitionEnd")},kr={},Nr={};function jr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return kr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=jr("animationend"),_r=jr("animationiteration"),Tr=jr("animationstart"),Pr=jr("transitionend"),$r=new Map,Er="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){$r.set(e,t),l(t,[e])}for(var Ir=0;Ir<Er.length;Ir++){var Ar=Er[Ir];Dr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Dr(Cr,"onAnimationEnd"),Dr(_r,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,i,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(a(198));var u=Fe;Re=!1,Fe=null,Me||(Me=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&o.isPropagationStopped())break e;Fr(o,i,c),a=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,c=i.currentTarget,i=i.listener,l!==a&&o.isPropagationStopped())break e;Fr(o,i,c),a=l}}}if(Me)throw e=ze,Me=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Lr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var o=Wt;break;case 4:o=Yt;break;default:o=Vt}n=o.bind(null,t,n,e),o=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===o||8===i.nodeType&&i.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==i;){if(null===(s=xo(i)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}i=i.parentNode}}r=r.return}Ee((function(){var r=a,o=ve(n),s=[];e:{var i=$r.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Cr:case _r:case Tr:l=yn;break;case Pr:l=$n;break;case"scroll":l=mn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,m=u?null!==i?i+"Capture":null:i;u=[];for(var p,f=r;null!==f;){var h=(p=f).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==m&&(null!=(h=De(f,m))&&u.push(Wr(f,h,p)))),d)break;f=f.return}0<u.length&&(i=new l(i,c,null,n,o),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!xo(c)&&!c[ho])&&(l||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xo(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,h="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,h="onPointerLeave",m="onPointerEnter",f="pointer"),d=null==l?i:vo(l),p=null==c?i:vo(c),(i=new u(h,f+"leave",l,n,o)).target=d,i.relatedTarget=p,h=null,xo(o)===r&&((u=new u(m,f+"enter",c,n,o)).target=p,u.relatedTarget=d,h=u),d=h,l&&c)e:{for(m=c,f=0,p=u=l;p;p=Vr(p))f++;for(p=0,h=m;h;h=Vr(h))p++;for(;0<f-p;)u=Vr(u),f--;for(;0<p-f;)m=Vr(m),p--;for(;f--;){if(u===m||null!==m&&u===m.alternate)break e;u=Vr(u),m=Vr(m)}u=null}else u=null;null!==l&&Gr(s,i,l,u,!1),null!==c&&null!==d&&Gr(s,d,c,u,!0)}if("select"===(l=(i=r?vo(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Jn;else if(Hn(i))if(Zn)g=sr;else{g=or;var y=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(s,g,n,o):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?vo(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,wr(s,n,o);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":wr(s,n,o)}var b;if(An)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?Ln(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(b=en()):(Kt="value"in(Zt=o)?Zt.value:Zt.textContent,Bn=!0)),0<(y=Yr(r,x)).length&&(x=new wn(x,e,null,n,o),s.push({event:x,listeners:y}),b?x.data=b:null!==(b=Un(n))&&(x.data=b))),(b=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Mn);case"textInput":return(e=t.data)===Mn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&Ln(e,t)?(e=en(),Xt=Kt=Zt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=b))}Mr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,o)),null!=(a=De(e,t))&&r.push(Wr(e,a,o))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,o){for(var a=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,o?null!=(l=De(n,a))&&s.unshift(Wr(n,l,i)):o||null!=(l=De(n,a))&&s.push(Wr(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Kr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function Xr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(io)}:ro;function io(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var mo=Math.random().toString(36).slice(2),po="__reactFiber$"+mo,fo="__reactProps$"+mo,ho="__reactContainer$"+mo,go="__reactEvents$"+mo,yo="__reactListeners$"+mo,bo="__reactHandles$"+mo;function xo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ho]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[ho])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function So(e){return e[fo]||null}var ko=[],No=-1;function jo(e){return{current:e}}function Co(e){0>No||(e.current=ko[No],ko[No]=null,No--)}function _o(e,t){No++,ko[No]=e.current,e.current=t}var To={},Po=jo(To),$o=jo(!1),Eo=To;function Do(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Io(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ao(){Co($o),Co(Po)}function Oo(e,t,n){if(Po.current!==To)throw Error(a(168));_o(Po,t),_o($o,n)}function Ro(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,q(e)||"Unknown",o));return F({},n,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Eo=Po.current,_o(Po,e),_o($o,$o.current),!0}function Mo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ro(e,t,Eo),r.__reactInternalMemoizedMergedChildContext=e,Co($o),Co(Po),_o(Po,e)):Co($o),_o($o,n)}var zo=null,Lo=!1,Uo=!1;function Bo(e){null===zo?zo=[e]:zo.push(e)}function qo(){if(!Uo&&null!==zo){Uo=!0;var e=0,t=xt;try{var n=zo;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Lo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),Ve(Xe,qo),o}finally{xt=t,Uo=!1}}return null}var Ho=[],Wo=0,Yo=null,Vo=0,Go=[],Qo=0,Jo=null,Zo=1,Ko="";function Xo(e,t){Ho[Wo++]=Vo,Ho[Wo++]=Yo,Yo=e,Vo=t}function ea(e,t,n){Go[Qo++]=Zo,Go[Qo++]=Ko,Go[Qo++]=Jo,Jo=e;var r=Zo;e=Ko;var o=32-st(r)-1;r&=~(1<<o),n+=1;var a=32-st(t)+o;if(30<a){var s=o-o%5;a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Zo=1<<32-st(t)+o|n<<o|r,Ko=a+e}else Zo=1<<a|n<<o|r,Ko=e}function ta(e){null!==e.return&&(Xo(e,1),ea(e,1,0))}function na(e){for(;e===Yo;)Yo=Ho[--Wo],Ho[Wo]=null,Vo=Ho[--Wo],Ho[Wo]=null;for(;e===Jo;)Jo=Go[--Qo],Go[Qo]=null,Ko=Go[--Qo],Go[Qo]=null,Zo=Go[--Qo],Go[Qo]=null}var ra=null,oa=null,aa=!1,sa=null;function ia(e,t){var n=Ec(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Zo,overflow:Ko}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ec(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(aa){var t=oa;if(t){var n=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=co(n.nextSibling);var r=ra;t&&la(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ma(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw pa(),Error(a(418));for(;t;)ia(e,t),t=co(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?co(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=co(e.nextSibling)}function fa(){oa=ra=null,aa=!1}function ha(e){null===sa?sa=[e]:sa.push(e)}var ga=w.ReactCurrentBatchConfig;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&xa(a)===t.type)?((r=o(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case S:return(t=Mc(t,e.mode,n)).return=e,t;case D:return m(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case D:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||O(n))return null!==o?null:d(e,t,n,r,null);ba(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case v:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case D:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);ba(t,r)}return null}function h(o,a,i,l){for(var c=null,u=null,d=a,h=a=0,g=null;null!==d&&h<i.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var y=p(o,d,i[h],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),a=s(y,a,h),null===u?c=y:u.sibling=y,u=y,d=g}if(h===i.length)return n(o,d),aa&&Xo(o,h),c;if(null===d){for(;h<i.length;h++)null!==(d=m(o,i[h],l))&&(a=s(d,a,h),null===u?c=d:u.sibling=d,u=d);return aa&&Xo(o,h),c}for(d=r(o,d);h<i.length;h++)null!==(g=f(d,o,h,i[h],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=s(g,a,h),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),aa&&Xo(o,h),c}function g(o,i,l,c){var u=O(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,h=i,g=i=0,y=null,b=l.next();null!==h&&!b.done;g++,b=l.next()){h.index>g?(y=h,h=null):y=h.sibling;var x=p(o,h,b.value,c);if(null===x){null===h&&(h=y);break}e&&h&&null===x.alternate&&t(o,h),i=s(x,i,g),null===d?u=x:d.sibling=x,d=x,h=y}if(b.done)return n(o,h),aa&&Xo(o,g),u;if(null===h){for(;!b.done;g++,b=l.next())null!==(b=m(o,b.value,c))&&(i=s(b,i,g),null===d?u=b:d.sibling=b,d=b);return aa&&Xo(o,g),u}for(h=r(o,h);!b.done;g++,b=l.next())null!==(b=f(h,o,g,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?g:b.key),i=s(b,i,g),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach((function(e){return t(o,e)})),aa&&Xo(o,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case v:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(a=o(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&xa(c)===u.type){n(r,u.sibling),(a=o(u,s.props)).ref=ya(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((a=Oc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Ac(s.type,s.key,s.props,null,r.mode,l)).ref=ya(r,a,s),l.return=r,r=l)}return i(r);case S:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=o(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Mc(s,r.mode,l)).return=r,r=a}return i(r);case D:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return h(r,a,s,l);if(O(s))return g(r,a,s,l);ba(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,s)).return=r,r=a):(n(r,a),(a=Fc(s,r.mode,l)).return=r,r=a),i(r)):n(r,a)}}var va=wa(!0),Sa=wa(!1),ka=jo(null),Na=null,ja=null,Ca=null;function _a(){Ca=ja=Na=null}function Ta(e){var t=ka.current;Co(ka),e._currentValue=t}function Pa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $a(e,t){Na=e,Ca=ja=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xi=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===ja){if(null===Na)throw Error(a(308));ja=e,Na.dependencies={lanes:0,firstContext:e}}else ja=ja.next=e;return t}var Da=null;function Ia(e){null===Da?Da=[e]:Da.push(e)}function Aa(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ia(t)):(n.next=o.next,o.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Oa(e,n)}return null===(o=r.interleaved)?(t.next=t,Ia(r)):(t.next=o.next,o.next=t),r.interleaved=t,Oa(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var o=e.updateQueue;Ra=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(s=0,u=c=l=null,i=a;;){var m=i.lane,p=i.eventTime;if((r&m)===m){null!==u&&(u=u.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,h=i;switch(m=t,p=n,h.tag){case 1:if("function"===typeof(f=h.payload)){d=f.call(p,d,m);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=h.payload)?f.call(p,d,m):f)||void 0===m)break e;d=F({},d,m);break e;case 2:Ra=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=o.effects)?o.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=m;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(m=i).next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Rl|=s,e.lanes=s,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var Wa={},Ya=jo(Wa),Va=jo(Wa),Ga=jo(Wa);function Qa(e){if(e===Wa)throw Error(a(174));return e}function Ja(e,t){switch(_o(Ga,t),_o(Va,e),_o(Ya,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(Ya),_o(Ya,t)}function Za(){Co(Ya),Co(Va),Co(Ga)}function Ka(e){Qa(Ga.current);var t=Qa(Ya.current),n=le(t,e.type);t!==n&&(_o(Va,e),_o(Ya,n))}function Xa(e){Va.current===e&&(Co(Ya),Co(Va))}var es=jo(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=w.ReactCurrentDispatcher,as=w.ReactCurrentBatchConfig,ss=0,is=null,ls=null,cs=null,us=!1,ds=!1,ms=0,ps=0;function fs(){throw Error(a(321))}function hs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Xs:ei,e=n(r,o),ds){s=0;do{if(ds=!1,ms=0,25<=s)throw Error(a(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ti,e=n(r,o)}while(ds)}if(os.current=Ks,t=null!==ls&&null!==ls.next,ss=0,cs=ls=is=null,us=!1,t)throw Error(a(300));return e}function ys(){var e=0!==ms;return ms=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?is.memoizedState=cs=e:cs=cs.next=e,cs}function xs(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?is.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?is.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function vs(e){var t=xs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=m,i=r):c=c.next=m,is.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==s);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(xi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,is.lanes|=s,Rl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=xs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{s=e(s,i.action),i=i.next}while(i!==o);ir(s,t.memoizedState)||(xi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Ns(e,t){var n=is,r=xs(),o=t(),s=!ir(r.memoizedState,o);if(s&&(r.memoizedState=o,xi=!0),r=r.queue,Rs(_s.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Es(9,Cs.bind(null,n,r,o,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ss)||js(n,t,o)}return o}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&Ps(e)}function _s(e,t,n){return n((function(){Ts(t)&&Ps(e)}))}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Ps(e){var t=Oa(e,1);null!==t&&nc(t,e,1,-1)}function $s(e){var t=bs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,is,e),[t.memoizedState,e]}function Es(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ds(){return xs().memoizedState}function Is(e,t,n,r){var o=bs();is.flags|=e,o.memoizedState=Es(1|t,n,void 0,void 0===r?null:r)}function As(e,t,n,r){var o=xs();r=void 0===r?null:r;var a=void 0;if(null!==ls){var s=ls.memoizedState;if(a=s.destroy,null!==r&&hs(r,s.deps))return void(o.memoizedState=Es(t,n,a,r))}is.flags|=e,o.memoizedState=Es(1|t,n,a,r)}function Os(e,t){return Is(8390656,8,e,t)}function Rs(e,t){return As(2048,8,e,t)}function Fs(e,t){return As(4,2,e,t)}function Ms(e,t){return As(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ls(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,As(4,4,zs.bind(null,t,e),n)}function Us(){}function Bs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,xi=!0),e.memoizedState=n):(ir(n,t)||(n=ht(),is.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ws(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{xt=n,as.transition=r}}function Ys(){return xs().memoizedState}function Vs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(e))Js(t,n);else if(null!==(n=Aa(e,t,n,r))){nc(n,e,r,ec()),Zs(n,t,r)}}function Gs(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Js(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=a(s,n);if(o.hasEagerState=!0,o.eagerState=i,ir(i,s)){var l=t.interleaved;return null===l?(o.next=o,Ia(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Aa(e,t,o,r))&&(nc(n,e,r,o=ec()),Zs(n,t,r))}}function Qs(e){var t=e.alternate;return e===is||null!==t&&t===is}function Js(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Ks={readContext:Ea,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Xs={readContext:Ea,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=bs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vs.bind(null,is,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:$s,useDebugValue:Us,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=$s(!1),t=e[0];return e=Ws.bind(null,e[1]),bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=is,o=bs();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pl)throw Error(a(349));0!==(30&ss)||js(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Os(_s.bind(null,r,s,e),[e]),r.flags|=2048,Es(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bs(),t=Pl.identifierPrefix;if(aa){var n=Ko;t=":"+t+"R"+(n=(Zo&~(1<<32-st(Zo)-1)).toString(32)+n),0<(n=ms++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Ea,useCallback:Bs,useContext:Ea,useEffect:Rs,useImperativeHandle:Ls,useInsertionEffect:Fs,useLayoutEffect:Ms,useMemo:qs,useReducer:vs,useRef:Ds,useState:function(){return vs(ws)},useDebugValue:Us,useDeferredValue:function(e){return Hs(xs(),ls.memoizedState,e)},useTransition:function(){return[vs(ws)[0],xs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ns,useId:Ys,unstable_isNewReconciler:!1},ti={readContext:Ea,useCallback:Bs,useContext:Ea,useEffect:Rs,useImperativeHandle:Ls,useInsertionEffect:Fs,useLayoutEffect:Ms,useMemo:qs,useReducer:Ss,useRef:Ds,useState:function(){return Ss(ws)},useDebugValue:Us,useDeferredValue:function(e){var t=xs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],xs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ns,useId:Ys,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oi={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),a=za(r,o);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,o))&&(nc(t,e,o,r),Ua(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),a=za(r,o);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,o))&&(nc(t,e,o,r),Ua(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=za(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=La(e,o,r))&&(nc(t,e,r,n),Ua(t,e,r))}};function ai(e,t,n,r,o,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,a))}function si(e,t,n){var r=!1,o=To,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(o=Io(t)?Eo:Po.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Do(e,o):To),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Fa(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=Ea(a):(a=Io(t)?Eo:Po.current,o.context=Do(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ri(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oi.enqueueReplaceState(o,o.state,null),qa(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var mi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),di(0,t)},n}function fi(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){di(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mi;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bi=w.ReactCurrentOwner,xi=!1;function wi(e,t,n,r){t.child=null===e?Sa(t,null,n,r):va(t,e.child,n,r)}function vi(e,t,n,r,o){n=n.render;var a=t.ref;return $a(t,o),r=gs(e,t,n,r,a,o),n=ys(),null===e||xi?(aa&&n&&ta(t),t.flags|=1,wi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hi(e,t,o))}function Si(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ki(e,t,a,r,o))}if(a=e.child,0===(e.lanes&o)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Hi(e,t,o)}return t.flags|=1,(e=Ic(a,r)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xi=!1,t.pendingProps=r=a,0===(e.lanes&o))return t.lanes=e.lanes,Hi(e,t,o);0!==(131072&e.flags)&&(xi=!0)}}return Ci(e,t,n,r,o)}function Ni(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_o(Il,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_o(Il,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_o(Il,Dl),Dl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_o(Il,Dl),Dl|=r;return wi(e,t,o,n),t.child}function ji(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,r,o){var a=Io(n)?Eo:Po.current;return a=Do(t,a),$a(t,o),n=gs(e,t,n,r,a,o),r=ys(),null===e||xi?(aa&&r&&ta(t),t.flags|=1,wi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hi(e,t,o))}function _i(e,t,n,r,o){if(Io(n)){var a=!0;Fo(t)}else a=!1;if($a(t,o),null===t.stateNode)qi(e,t),si(t,n,r),li(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Do(t,c=Io(n)?Eo:Po.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,s,r,c),Ra=!1;var m=t.memoizedState;s.state=m,qa(t,r,s,o),l=t.memoizedState,i!==r||m!==l||$o.current||Ra?("function"===typeof u&&(ri(t,n,u,r),l=t.memoizedState),(i=Ra||ai(t,n,i,r,m,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ma(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),s.props=c,d=t.pendingProps,m=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ea(l):l=Do(t,l=Io(n)?Eo:Po.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||m!==l)&&ii(t,s,r,l),Ra=!1,m=t.memoizedState,s.state=m,qa(t,r,s,o);var f=t.memoizedState;i!==d||m!==f||$o.current||Ra?("function"===typeof p&&(ri(t,n,p,r),f=t.memoizedState),(c=Ra||ai(t,n,c,r,m,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ti(e,t,n,r,a,o)}function Ti(e,t,n,r,o,a){ji(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Mo(t,n,!1),Hi(e,t,a);r=t.stateNode,bi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=va(t,e.child,null,a),t.child=va(t,null,i,a)):wi(e,t,i,a),t.memoizedState=r.state,o&&Mo(t,n,!0),t.child}function Pi(e){var t=e.stateNode;t.pendingContext?Oo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oo(0,t.context,!1),Ja(e,t.containerInfo)}function $i(e,t,n,r,o){return fa(),ha(o),t.flags|=256,wi(e,t,n,r),t.child}var Ei,Di,Ii,Ai,Oi={dehydrated:null,treeContext:null,retryLane:0};function Ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fi(e,t,n){var r,o=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_o(es,1&s),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Rc(l,o,0,null),e=Oc(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ri(n),t.memoizedState=Oi,e):Mi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,i){if(n)return 256&t.flags?(t.flags&=-257,zi(e,t,i,r=ui(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Rc({mode:"visible",children:r.children},o,0,null),(s=Oc(s,o,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&va(t,e.child,null,i),t.child.memoizedState=Ri(i),t.memoizedState=Oi,s);if(0===(1&t.mode))return zi(e,t,i,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zi(e,t,i,r=ui(s=Error(a(419)),r,void 0))}if(l=0!==(i&e.childLanes),xi||l){if(null!==(r=Pl)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|i))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Oa(e,o),nc(r,e,o,-1))}return hc(),zi(e,t,i,r=ui(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oa=co(o.nextSibling),ra=t,aa=!0,sa=null,null!==e&&(Go[Qo++]=Zo,Go[Qo++]=Ko,Go[Qo++]=Jo,Zo=e.id,Ko=e.overflow,Jo=t),t=Mi(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(i){i=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=Ic(r,i):(i=Oc(i,l,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=null===(l=e.child.memoizedState)?Ri(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Oi,o}return e=(i=e.child).sibling,o=Ic(i,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Mi(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zi(e,t,n,r){return null!==r&&ha(r),va(t,e.child,null,n),(e=Mi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Li(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Pa(e.return,t,n)}function Ui(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Bi(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(wi(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Li(e,n,t);else if(19===e.tag)Li(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_o(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ui(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ui(t,!0,n,null,a);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wi(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vi(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:case 17:return Io(t.type)&&Ao(),Yi(t),null;case 3:return r=t.stateNode,Za(),Co($o),Co(Po),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sa&&(sc(sa),sa=null))),Di(e,t),Yi(t),null;case 5:Xa(t);var o=Qa(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Ii(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yi(t),null}if(e=Qa(Ya.current),ma(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Or.length;o++)zr(Or[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":J(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in be(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Kr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Kr(r.textContent,c,e),o=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":Y(r),X(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Xr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Ei(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)zr(Or[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":J(e,r),o=Q(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in be(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&me(e,u):"number"===typeof u&&me(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&x(e,s,u,l))}switch(n){case"input":Y(e),X(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&null!=t.stateNode)Ai(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa(Ga.current),Qa(Ya.current),ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Yi(t),null;case 13:if(Co(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))pa(),fa(),t.flags|=98560,s=!1;else if(s=ma(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[po]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yi(t),s=!1}else null!==sa&&(sc(sa),sa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Al&&(Al=3):hc())),null!==t.updateQueue&&(t.flags|=4),Yi(t),null);case 4:return Za(),Di(e,t),null===e&&Br(t.stateNode.containerInfo),Yi(t),null;case 10:return Ta(t.type._context),Yi(t),null;case 19:if(Co(es),null===(s=t.memoizedState))return Yi(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Wi(s,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Wi(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _o(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Bl&&(t.flags|=128,r=!0,Wi(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!aa)return Yi(t),null}else 2*Ze()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Wi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=es.current,_o(es,r?1&n|2:1&n),t):(Yi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Yi(t),6&t.subtreeFlags&&(t.flags|=8192)):Yi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gi(e,t){switch(na(t),t.tag){case 1:return Io(t.type)&&Ao(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Za(),Co($o),Co(Po),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Co(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(es),null;case 4:return Za(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ei=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Di=function(){},Ii=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Qa(Ya.current);var a,s=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),s=[];break;case"select":o=F({},o,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in be(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ai=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qi=!1,Ji=!1,Zi="function"===typeof WeakSet?WeakSet:Set,Ki=null;function Xi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(t,n,a)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[yo],delete t[bo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(i){}switch(n.tag){case 5:Ji||Xi(n,t);case 6:var r=ul,o=dl;ul=null,ml(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Bt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,ml(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),o=o.next}while(o!==r)}ml(e,t,n);break;case 1:if(!Ji&&(Xi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Nc(n,t,i)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Ji=(r=Ji)||null!==n.memoizedState,ml(e,t,n),Ji=r):ml(e,t,n);break;default:ml(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zi),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));pl(s,i,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Nc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Nc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:hl(t,e),yl(e),512&r&&null!==n&&Xi(n,n.return);break;case 5:if(hl(t,e),yl(e),512&r&&null!==n&&Xi(n,n.return),32&e.flags){var o=e.stateNode;try{me(o,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(o,s),xe(l,i);var u=xe(l,s);for(i=0;i<c.length;i+=2){var d=c[i],m=c[i+1];"style"===d?ge(o,m):"dangerouslySetInnerHTML"===d?de(o,m):"children"===d?me(o,m):x(o,d,m,u)}switch(l){case"input":K(o,s);break;case"textarea":ae(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(g){Nc(e,e.return,g)}}break;case 6:if(hl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Nc(e,e.return,g)}}break;case 3:if(hl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:hl(t,e),yl(e);break;case 13:hl(t,e),yl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Ze())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ji=(u=Ji)||d,hl(t,e),Ji=u):hl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ki=e,d=e.child;null!==d;){for(m=Ki=d;null!==Ki;){switch(f=(p=Ki).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Xi(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:Xi(p,p.return);break;case 22:if(null!==p.memoizedState){vl(m);continue}}null!==f?(f.return=p,Ki=f):vl(m)}d=d.sibling}e:for(d=null,m=e;;){if(5===m.tag){if(null===d){d=m;try{o=m.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=he("display",i))}catch(g){Nc(e,e.return,g)}}}else if(6===m.tag){if(null===d)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hl(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(me(o,""),r.flags&=-33),cl(e,il(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,il(e),s);break;default:throw Error(a(161))}}catch(i){Nc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ki=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Ki;){var o=Ki,a=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Qi;if(!s){var i=o.alternate,l=null!==i&&null!==i.memoizedState||Ji;i=Qi;var c=Ji;if(Qi=s,(Ji=l)&&!c)for(Ki=o;null!==Ki;)l=(s=Ki).child,22===s.tag&&null!==s.memoizedState?Sl(o):null!==l?(l.return=s,Ki=l):Sl(o);for(;null!==a;)Ki=a,xl(a,t,n),a=a.sibling;Ki=o,Qi=i,Ji=c}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Ki=a):wl(e)}}function wl(e){for(;null!==Ki;){var t=Ki;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ji)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ha(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var m=d.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(a(163))}Ji||512&t.flags&&ol(t)}catch(p){Nc(t,t.return,p)}}if(t===e){Ki=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ki=n;break}Ki=t.return}}function vl(e){for(;null!==Ki;){var t=Ki;if(t===e){Ki=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ki=n;break}Ki=t.return}}function Sl(e){for(;null!==Ki;){var t=Ki;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Nc(t,o,l)}}var a=t.return;try{ol(t)}catch(l){Nc(t,a,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Nc(t,s,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Ki=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ki=i;break}Ki=t.return}}var kl,Nl=Math.ceil,jl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Tl=0,Pl=null,$l=null,El=0,Dl=0,Il=jo(0),Al=0,Ol=null,Rl=0,Fl=0,Ml=0,zl=null,Ll=null,Ul=0,Bl=1/0,ql=null,Hl=!1,Wl=null,Yl=null,Vl=!1,Gl=null,Ql=0,Jl=0,Zl=null,Kl=-1,Xl=0;function ec(){return 0!==(6&Tl)?Ze():-1!==Kl?Kl:Kl=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==El?El&-El:null!==ga.transition?(0===Xl&&(Xl=ht()),Xl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(a(185));yt(e,n,r),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(Fl|=n),4===Al&&ic(e,El)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Ze()+500,Lo&&qo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),i=1<<s,l=o[s];-1===l?0!==(i&n)&&0===(i&r)||(o[s]=pt(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=mt(e,e===Pl?El:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Lo=!0,Bo(e)}(lc.bind(null,e)):Bo(lc.bind(null,e)),so((function(){0===(6&Tl)&&qo()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Kl=-1,Xl=0,0!==(6&Tl))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=mt(e,e===Pl?El:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Tl;Tl|=2;var s=fc();for(Pl===e&&El===t||(ql=null,Bl=Ze()+500,mc(e,t));;)try{bc();break}catch(l){pc(e,l)}_a(),jl.current=s,Tl=o,null!==$l?t=0:(Pl=null,El=0,t=Al)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=ac(e,o))),1===t)throw n=Ol,mc(e,0),ic(e,r),rc(e,Ze()),n;if(6===t)ic(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!ir(a(),o))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ac(e,s))),1===t))throw n=Ol,mc(e,0),ic(e,r),rc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:vc(e,Ll,ql);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Ul+500-Ze())){if(0!==mt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(vc.bind(null,e,Ll,ql),t);break}vc(e,Ll,ql);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-st(r);s=1<<i,(i=t[i])>o&&(o=i),r&=~s}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ro(vc.bind(null,e,Ll,ql),r);break}vc(e,Ll,ql);break;default:throw Error(a(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ll,Ll=n,null!==t&&sc(t)),e}function sc(e){null===Ll?Ll=e:Ll.push.apply(Ll,e)}function ic(e,t){for(t&=~Ml,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(a(327));Sc();var t=mt(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ol,mc(e,0),ic(e,t),rc(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vc(e,Ll,ql),rc(e,Ze()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Ze()+500,Lo&&qo())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=_l.transition,r=xt;try{if(_l.transition=null,xt=1,e)return e()}finally{xt=r,_l.transition=n,0===(6&(Tl=t))&&qo()}}function dc(){Dl=Il.current,Co(Il)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==$l)for(n=$l.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ao();break;case 3:Za(),Co($o),Co(Po),rs();break;case 5:Xa(r);break;case 4:Za();break;case 13:case 19:Co(es);break;case 10:Ta(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,$l=e=Ic(e.current,null),El=Dl=t,Al=0,Ol=null,Ml=Fl=Rl=0,Ll=zl=null,null!==Da){for(t=0;t<Da.length;t++)if(null!==(r=(n=Da[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=o,r.next=s}n.pending=r}Da=null}return e}function pc(e,t){for(;;){var n=$l;try{if(_a(),os.current=Ks,us){for(var r=is.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=is=null,ds=!1,ms=0,Cl.current=null,null===n||null===n.return){Al=1,Ol=t,$l=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=El,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,m=d.tag;if(0===(1&d.mode)&&(0===m||11===m||15===m)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gi(i);if(null!==f){f.flags&=-257,yi(f,i,l,0,t),1&f.mode&&hi(s,u,t),c=u;var h=(t=f).updateQueue;if(null===h){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}if(0===(1&t)){hi(s,u,t),hc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),ha(ci(c,l));break e}}s=c=ci(c,l),4!==Al&&(Al=2),null===zl?zl=[s]:zl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,pi(0,c,t));break e;case 1:l=c;var b=s.type,x=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Yl||!Yl.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t,Ba(s,fi(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,$l===n&&null!==n&&($l=n=n.return);continue}break}}function fc(){var e=jl.current;return jl.current=Ks,null===e?Ks:e}function hc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Pl||0===(268435455&Rl)&&0===(268435455&Fl)||ic(Pl,El)}function gc(e,t){var n=Tl;Tl|=2;var r=fc();for(Pl===e&&El===t||(ql=null,mc(e,t));;)try{yc();break}catch(o){pc(e,o)}if(_a(),Tl=n,jl.current=r,null!==$l)throw Error(a(261));return Pl=null,El=0,Al}function yc(){for(;null!==$l;)xc($l)}function bc(){for(;null!==$l&&!Qe();)xc($l)}function xc(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):$l=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vi(n,t,Dl)))return void($l=n)}else{if(null!==(n=Gi(n,t)))return n.flags&=32767,void($l=n);if(null===e)return Al=6,void($l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void($l=t);$l=t=e}while(null!==t);0===Al&&(Al=5)}function vc(e,t,n){var r=xt,o=_l.transition;try{_l.transition=null,xt=1,function(e,t,n,r){do{Sc()}while(null!==Gl);if(0!==(6&Tl))throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,s),e===Pl&&($l=Pl=null,El=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vl||(Vl=!0,Pc(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=_l.transition,_l.transition=null;var i=xt;xt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(eo=Ht,pr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(v){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,m=e,p=null;t:for(;;){for(var f;m!==n||0!==o&&3!==m.nodeType||(l=i+o),m!==s||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===n&&++u===o&&(l=i),p===s&&++d===r&&(c=i),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Ki=t;null!==Ki;)if(e=(t=Ki).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ki=e;else for(;null!==Ki;){t=Ki;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,y=h.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(v){Nc(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,Ki=e;break}Ki=t.return}h=tl,tl=!1}(e,n),gl(n,e),fr(to),Ht=!!eo,to=eo=null,e.current=n,bl(n,e,o),Je(),Tl=l,xt=i,_l.transition=s}else e.current=n;if(Vl&&(Vl=!1,Gl=e,Ql=o),s=e.pendingLanes,0===s&&(Yl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,qo()}(e,t,n,r)}finally{_l.transition=o,xt=r}return null}function Sc(){if(null!==Gl){var e=wt(Ql),t=_l.transition,n=xt;try{if(_l.transition=null,xt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Tl))throw Error(a(331));var o=Tl;for(Tl|=4,Ki=e.current;null!==Ki;){var s=Ki,i=s.child;if(0!==(16&Ki.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ki=u;null!==Ki;){var d=Ki;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var m=d.child;if(null!==m)m.return=d,Ki=m;else for(;null!==Ki;){var p=(d=Ki).sibling,f=d.return;if(al(d),d===u){Ki=null;break}if(null!==p){p.return=f,Ki=p;break}Ki=f}}}var h=s.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ki=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Ki=i;else e:for(;null!==Ki;){if(0!==(2048&(s=Ki).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Ki=b;break e}Ki=s.return}}var x=e.current;for(Ki=x;null!==Ki;){var w=(i=Ki).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Ki=w;else e:for(i=x;null!==Ki;){if(0!==(2048&(l=Ki).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Nc(l,l.return,S)}if(l===i){Ki=null;break e}var v=l.sibling;if(null!==v){v.return=l.return,Ki=v;break e}Ki=l.return}}if(Tl=o,qo(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{xt=n,_l.transition=t}}return!1}function kc(e,t,n){e=La(e,t=pi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=La(t,e=fi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(El&n)===n&&(4===Al||3===Al&&(130023424&El)===El&&500>Ze()-Ul?mc(e,0):Ml|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oa(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Ve(e,t)}function $c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,n,r){return new $c(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,o,s){var i=2;if(r=e,"function"===typeof e)Dc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Oc(n.children,o,s,t);case N:i=8,o|=8;break;case j:return(e=Ec(12,n,t,2|o)).elementType=j,e.lanes=s,e;case P:return(e=Ec(13,n,t,o)).elementType=P,e.lanes=s,e;case $:return(e=Ec(19,n,t,o)).elementType=$,e.lanes=s,e;case I:return Rc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case _:i=9;break e;case T:i=11;break e;case E:i=14;break e;case D:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ec(i,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Ec(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ec(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ec(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,r,o,a,s,i,l){return e=new zc(e,t,n,i,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ec(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function Uc(e){if(!e)return To;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Io(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Io(n))return Ro(e,n,t)}return t}function Bc(e,t,n,r,o,a,s,i,l){return(e=Lc(n,r,!0,e,0,a,0,i,l)).context=Uc(null),n=e.current,(a=za(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,o),e.current.lanes=o,yt(e,o,r),rc(e,r),e}function qc(e,t,n,r){var o=t.current,a=ec(),s=tc(o);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(o,t,s))&&(nc(e,o,s,a),Ua(e,o,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||$o.current)xi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xi=!1,function(e,t,n){switch(t.tag){case 3:Pi(t),fa();break;case 5:Ka(t);break;case 1:Io(t.type)&&Fo(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;_o(ka,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_o(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fi(e,t,n):(_o(es,1&es.current),null!==(e=Hi(e,t,n))?e.sibling:null);_o(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bi(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),_o(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ni(e,t,n)}return Hi(e,t,n)}(e,t,n);xi=0!==(131072&e.flags)}else xi=!1,aa&&0!==(1048576&t.flags)&&ea(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var o=Do(t,Po.current);$a(t,n),o=gs(null,t,r,e,o,n);var s=ys();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Io(r)?(s=!0,Fo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Fa(t),o.updater=oi,t.stateNode=o,o._reactInternals=t,li(t,r,e,n),t=Ti(null,t,r,!0,s,n)):(t.tag=0,aa&&s&&ta(t),wi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===E)return 14}return 2}(r),e=ni(r,e),o){case 0:t=Ci(null,t,r,e,n);break e;case 1:t=_i(null,t,r,e,n);break e;case 11:t=vi(null,t,r,e,n);break e;case 14:t=Si(null,t,r,ni(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ci(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 1:return r=t.type,o=t.pendingProps,_i(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 3:e:{if(Pi(t),null===e)throw Error(a(387));r=t.pendingProps,o=(s=t.memoizedState).element,Ma(e,t),qa(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=$i(e,t,r,n,o=ci(Error(a(423)),t));break e}if(r!==o){t=$i(e,t,r,n,o=ci(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,sa=null,n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===o){t=Hi(e,t,n);break e}wi(e,t,r,n)}t=t.child}return t;case 5:return Ka(t),null===e&&ua(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,no(r,o)?i=null:null!==s&&no(r,s)&&(t.flags|=32),ji(e,t),wi(e,t,i,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fi(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=va(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,vi(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,_o(ka,r._currentValue),r._currentValue=i,null!==s)if(ir(s.value,i)){if(s.children===o.children&&!$o.current){t=Hi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=za(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Pa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(a(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Pa(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}wi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,$a(t,n),r=r(o=Ea(o)),t.flags|=1,wi(e,t,r,n),t.child;case 14:return o=ni(r=t.type,t.pendingProps),Si(e,t,r,o=ni(r.type,o),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ni(r,o),qi(e,t),t.tag=1,Io(r)?(e=!0,Fo(t)):e=!1,$a(t,n),si(t,r,o),li(t,r,o,n),Ti(null,t,r,!0,e,n);case 19:return Bi(e,t,n);case 22:return Ni(e,t,n)}throw Error(a(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Xc(e,t,n,r,o){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof o){var i=o;o=function(){var e=Hc(s);i.call(e)}}qc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=Hc(s);a.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Kc);return e._reactRootContainer=s,e[ho]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var i=r;r=function(){var e=Hc(l);i.call(e)}}var l=Lc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[ho]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,o,r);return Hc(s)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[ho]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Ft(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ze()),0===(6&Tl)&&(Bl=Ze()+500,qo()))}break;case 13:uc((function(){var t=Oa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Yc(e,1)}},St=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Oa(e,t);if(null!==n)nc(n,e,t,ec());Yc(e,t)}},Nt=function(){return xt},jt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Se=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(a(90));V(r),K(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[wo,vo,So,Ce,_e,cc]},tu={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",o=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Lc(e,1,!1,null,0,n,0,r,o),e[ho]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",i=Vc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,o,0,s,i),e[ho]=t.current,Br(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Qc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ho]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},991:(e,t,n)=>{if("undefined"===typeof localStorage){const e={_data:{},getItem:function(e){return this._data[e]||null},setItem:function(e,t){this._data[e]=t.toString()},removeItem:function(e){delete this._data[e]}};n.g.localStorage=e,console.log("Created localStorage polyfill for Node environment")}const r=e=>{let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return Math.abs(t)},o=e=>{let t=e;return()=>(t=(9301*t+49297)%233280,t/233280)},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?`intelligibility_sequence_${e}`:"intelligibility_sequence_default";if("undefined"!==typeof localStorage)try{const n=localStorage.getItem(t);if(n)return console.log(`Retrieved saved intelligibility sequence for user ${e||"default"}`),JSON.parse(n)}catch(i){console.warn("Error reading saved sequence from localStorage:",i)}console.log(`Creating new randomized intelligibility sequence for user ${e||"default"}`);const n=Array.from({length:160},((e,t)=>t+1)),a=e?r(e):Math.floor(1e4*Math.random()),s=o(a);for(let r=n.length-1;r>0;r--){const e=Math.floor(s()*(r+1));[n[r],n[e]]=[n[e],n[r]]}if("undefined"!==typeof localStorage)try{localStorage.setItem(t,JSON.stringify(n)),console.log(`Saved randomized sequence to localStorage with key ${t}`)}catch(i){console.warn("Error saving sequence to localStorage:",i)}return n},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(`Getting intelligibility group for phase ${e}, day ${t}`);const r=a(n);let o=0;"pretest"===e?(o=0,console.log(`Pretest using sequence segment starting at index ${o}`)):"training"===e?t&&t>=1&&t<=4?(o=20+20*(t-1),console.log(`Training test for day ${t} using segment at index ${o}`),(o<0||o>=r.length)&&(console.error(`CRITICAL ERROR: Invalid segment index ${o} for training day ${t}`),o=Math.min(Math.max(0,o),r.length-20),console.log(`FALLBACK: Using segment index ${o} instead`))):(o=140,console.log(`Regular training phase using unused segment (index ${o}+)`)):"training_test"===e?t&&t>=1&&t<=4?(o=20+20*(t-1),console.log(`Legacy training_test for day ${t} using segment at index ${o}`)):(console.warn(`Invalid training test day: ${t}. Using default segment.`),o=20):"posttest1"===e?(o=100,console.log(`Posttest1 using segment at index ${o}`)):"posttest2"===e?(o=120,console.log(`Posttest2 using segment at index ${o}`)):o=140;const s=r.slice(o,o+20);if(console.log(`Extracted ${s.length} intelligibility files starting from index ${o}`),0===s.length&&console.error(`ERROR: No files extracted for phase ${e}, day ${t}, startIndex ${o}`),console.log(`Full group for ${e}${t?", day "+t:""}: ${s.join(", ")}`),console.log(`Randomization parameters: startIndex=${o}, groupSize=20, fullSequenceLength=${r.length}`),s.length>0){const t=s.slice(0,Math.min(3,s.length));console.log(`Sample files for ${e}: ${t.join(", ")}...`)}return s},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;let n;n=e&&e.startsWith("test_")&&t?r(e+"_"+t):e?r(e):Math.floor(1e4*Math.random());const a=o(n),s=["Comp_01","Comp_02","Comp_03","Comp_04","Comp_05","Comp_06"];for(let r=s.length-1;r>0;r--){const e=Math.floor(a()*(r+1));[s[r],s[e]]=[s[e],s[r]]}return{pretest:s.slice(0,2),posttest1:s.slice(2,4),posttest2:s.slice(4,6)}},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;let n;n=e&&e.startsWith("test_")&&t?r(e+"_"+t):e?r(e):Math.floor(1e4*Math.random());const a=Array.from({length:90},((e,t)=>t+1)),s=[];for(let r=0;r<a.length;r+=30)s.push(a.slice(r,r+30));const i=o(n);for(let r=s.length-1;r>0;r--){const e=Math.floor(i()*(r+1));[s[r],s[e]]=[s[e],s[r]]}return s.forEach((e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(i()*(t+1));[e[t],e[n]]=[e[n],e[t]]}})),{pretest:s[0],posttest1:s[1],posttest2:s[2]}},c=e=>{switch(e){case 1:case 3:return["02","04"];case 2:case 4:return["03","07"];default:return console.error(`Invalid training day: ${e}`),["02","04"]}};e.exports={stratifyAndRandomizeFiles:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(`Stratifying ${e} files into groups of size ${t}`);const a=Array.from({length:e},((e,t)=>t+1));e<8*t&&console.warn(`Warning: Not enough files (${e}) to create 8 unique groups of ${t} files.`);const s=[];for(let r=0;r<a.length;r+=t)s.push(a.slice(r,r+t));if(null!==n){let e=n?r(n):Math.floor(1e4*Math.random());const t=o(e);for(let n=s.length-1;n>0;n--){const e=Math.floor(t()*(n+1));[s[n],s[e]]=[s[e],s[n]]}}else s.sort((()=>Math.random()-.5));return s},getGroupForPhase:s,randomizeComprehensionStories:i,getStoriesForPhase:function(e){return i(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e)[e]||[]},randomizeEffortFiles:l,getEffortFilesForPhase:function(e){return l(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e)[e]||[]},getTrainingStoriesForDay:c,getStoryForTrainingDay:function(e){return c(e)[0]||null},getFullRandomizedSequence:a,testIntelligibilitySequence:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=a(e);console.log("======================================="),console.log(`INTELLIGIBILITY SEQUENCE TEST FOR USER: ${e||"default"}`),console.log(`Total sequence length: ${t.length}`),console.log("=======================================");return["pretest","training_test_day1","training_test_day2","training_test_day3","training_test_day4","posttest1","posttest2"].forEach((t=>{let n,r;t.includes("day")?(n="training_test",r=parseInt(t.replace("training_test_day",""))):(n=t,r=null);const o=s(n,r,e);console.log(`${t}: ${o.slice(0,5).join(", ")}... (${o.length} files)`)})),console.log("======================================="),t},resetIntelligibilitySequence:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?`intelligibility_sequence_${e}`:"intelligibility_sequence_default";if("undefined"!==typeof localStorage)try{return localStorage.removeItem(t),console.log(`Reset intelligibility sequence for user ${e||"default"}`),!0}catch(n){return console.warn("Error resetting sequence:",n),!1}return!1}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391);const o={API_BASE_URL:"https://speechtraining.usu.edu"};var a=n(579);const s=()=>"undefined"!==typeof window&&("undefined"!==typeof window&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&/CriOS|Chrome/.test(navigator.userAgent)),i=e.forwardRef(((t,n)=>{let{className:r,type:o,...i}=t;return(0,e.useEffect)((()=>{if(null===n||void 0===n||!n.current)return;const e=n.current;if(s()){e.setAttribute("autocorrect","off"),e.setAttribute("spellcheck","false");const t=()=>{setTimeout((()=>{document.activeElement!==e&&e.focus()}),50)};return e.addEventListener("focus",t),()=>{e.removeEventListener("focus",t)}}}),[n]),(0,a.jsx)("input",{type:o,className:`flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm \n                 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium \n                 placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 \n                 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed \n                 disabled:opacity-50 ${s()?"ios-chrome-input":""} ${r||""}`,ref:n,"data-ios-chrome":s()?"true":"false",autoCapitalize:"off",autoComplete:"off",...i})}));i.displayName="Input";const l=()=>{const[t,n]=(0,e.useState)([]),[r,s]=(0,e.useState)(null),[l,c]=(0,e.useState)(!0),[u,d]=(0,e.useState)(null),[m,p]=(0,e.useState)(null),[f,h]=(0,e.useState)(!1),[g,y]=(0,e.useState)(!1),[b,x]=(0,e.useState)(""),[w,v]=(0,e.useState)(""),[S,k]=(0,e.useState)({email:"",trainingDay:1,pretestDate:"",trainingCompletedDate:"",currentPhase:"",speaker:""}),[N,j]=(0,e.useState)({userId:"",email:"",password:"",speaker:"OHSp01",currentPhase:"pretest",trainingDay:1,pretestDate:""});(0,e.useEffect)((()=>{C()}),[]),(0,e.useEffect)((()=>{m&&k({email:m.email||"",trainingDay:m.trainingDay||1,pretestDate:m.pretestDate?new Date(m.pretestDate).toISOString().split("T")[0]:"",trainingCompletedDate:m.trainingCompletedDate?new Date(m.trainingCompletedDate).toISOString().split("T")[0]:"",posttest1CompletedDate:m.posttest1CompletedDate?new Date(m.posttest1CompletedDate).toISOString().split("T")[0]:"",posttest2CompletedDate:m.posttest2CompletedDate?new Date(m.posttest2CompletedDate).toISOString().split("T")[0]:"",currentPhase:m.currentPhase||"pretest",speaker:m.speaker||""})}),[m]);const C=async()=>{try{c(!0);const[e,t]=await Promise.all([fetch(`${o.API_BASE_URL}/api/admin/users`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}}),fetch(`${o.API_BASE_URL}/api/admin/stats`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}})]),[r,a]=await Promise.all([e.json(),t.json()]);if(n(r),s(a),m){const e=r.find((e=>e.userId===m.userId));e&&(console.log("Updating selected user with fresh data:",e),p(e),k({email:e.email||"",trainingDay:e.trainingDay||1,pretestDate:e.pretestDate?new Date(e.pretestDate).toISOString().split("T")[0]:"",trainingCompletedDate:e.trainingCompletedDate?new Date(e.trainingCompletedDate).toISOString().split("T")[0]:"",posttest1CompletedDate:e.posttest1CompletedDate?new Date(e.posttest1CompletedDate).toISOString().split("T")[0]:"",posttest2CompletedDate:e.posttest2CompletedDate?new Date(e.posttest2CompletedDate).toISOString().split("T")[0]:"",currentPhase:e.currentPhase||"pretest",speaker:e.speaker||""}))}d(null)}catch(e){d("Failed to fetch data"),console.error("Error:",e)}finally{c(!1)}},_=async e=>{if(window.confirm(`Are you sure you want to reset ALL progress for user ${e}? This will:\n- Delete all submitted responses\n- Delete demographics data\n- Reset progress to the beginning\n- Clear completed tests\n- Clear browser localStorage data for this user\n\nThis action cannot be undone.`))try{v("Resetting user progress...");const t=(e=>{let t=0;return[`progress_${e}_demographics_demographics`,`progress_${e}_pretest_intelligibility`,`progress_${e}_pretest_effort`,`progress_${e}_pretest_comprehension`,`progress_${e}_training_day1`,`progress_${e}_training_day2`,`progress_${e}_training_day3`,`progress_${e}_training_day4`,`progress_${e}_posttest1_intelligibility`,`progress_${e}_posttest1_effort`,`progress_${e}_posttest1_comprehension`,`progress_${e}_posttest2_intelligibility`,`progress_${e}_posttest2_effort`,`progress_${e}_posttest2_comprehension`,`progress_${e}_posttest3_intelligibility`,`progress_${e}_posttest3_effort`,`progress_${e}_posttest3_comprehension`,`demographicsCompleted_${e}`].forEach((e=>{null!==localStorage.getItem(e)&&(localStorage.removeItem(e),t++)})),localStorage.getItem("userId")===e&&null!==localStorage.getItem("demographicsCompleted")&&(localStorage.removeItem("demographicsCompleted"),t++),t})(e);console.log(`Cleared ${t} localStorage items for user ${e}`);const n=await fetch(`${o.API_BASE_URL}/api/admin/users/${e}/reset-progress`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(n.ok)v(`User progress has been reset successfully. Cleared ${t} localStorage items.`),await C(),setTimeout((()=>{v(""),h(!1)}),2e3);else{const e=await n.json();v(`Failed to reset user progress: ${e.error||"Unknown error"}`)}}catch(u){console.error("Error resetting user progress:",u),v("Error resetting user progress")}},T=()=>{const t=async(e,t)=>{try{const n=localStorage.getItem("adminToken");if(!n)return void alert("Admin token not found. Please log in again.");console.log("Initiating download from:",e);const r=new XMLHttpRequest;r.open("GET",e,!0),r.setRequestHeader("Authorization",`Bearer ${n}`),r.responseType="blob",r.onload=function(){if(200===this.status){const e=new Blob([this.response],{type:r.getResponseHeader("Content-Type")}),n=window.URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=n,o.download=t||"download",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),document.body.removeChild(o)}else console.error("Download failed with status:",this.status),alert(`Download failed: ${this.statusText||"Server error"}`)},r.onerror=function(){console.error("XHR error occurred"),alert("Download failed. Network error or CORS issue.")},r.send()}catch(u){console.error("Download error:",u),alert(`Failed to download: ${u.message}`)}},[n,r]=(0,e.useState)({responses:!1,users:!1,all:!1,demographics:!1}),s=async(e,n,o)=>{r((t=>({...t,[e]:!0})));try{await t(n,o)}catch(u){console.error(`Error exporting ${e}:`,u)}finally{setTimeout((()=>{r((t=>({...t,[e]:!1})))}),1e3)}};return(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("button",{onClick:()=>s("responses",`${o.API_BASE_URL}/api/admin/export/responses`,"responses.csv"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded flex items-center justify-center",disabled:n.responses,children:n.responses?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Exporting..."]}):"Export Responses"}),(0,a.jsx)("button",{onClick:()=>s("users",`${o.API_BASE_URL}/api/admin/export/users`,"users.csv"),className:"bg-[#406368] hover:bg-[#6c8376] text-white px-4 py-2 rounded flex items-center justify-center",disabled:n.users,children:n.users?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Exporting..."]}):"Export Users"}),(0,a.jsx)("button",{onClick:()=>s("demographics",`${o.API_BASE_URL}/api/admin/export/demographics`,"demographics.csv"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded flex items-center justify-center",disabled:n.demographics,children:n.demographics?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Exporting..."]}):"Export Demographics"}),(0,a.jsx)("button",{onClick:()=>s("all",`${o.API_BASE_URL}/api/admin/export/all`,"all_data.zip"),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded flex items-center justify-center",disabled:n.all,children:n.all?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Exporting..."]}):"Export All Data (ZIP)"})]})},P=t=>{let{user:n}=t;const[r,s]=(0,e.useState)({email:n.email||"",trainingDay:n.trainingDay||1,pretestDate:n.pretestDate?new Date(n.pretestDate).toISOString().split("T")[0]:"",trainingCompletedDate:n.trainingCompletedDate?new Date(n.trainingCompletedDate).toISOString().split("T")[0]:"",posttest1CompletedDate:n.posttest1CompletedDate?new Date(n.posttest1CompletedDate).toISOString().split("T")[0]:"",posttest2CompletedDate:n.posttest2CompletedDate?new Date(n.posttest2CompletedDate).toISOString().split("T")[0]:"",currentPhase:n.currentPhase||"pretest",speaker:n.speaker||""}),[l,c]=(0,e.useState)("");(0,e.useEffect)((()=>{console.log("User prop changed, updating form - user email:",n.email),s({email:n.email||"",trainingDay:n.trainingDay||1,pretestDate:n.pretestDate?new Date(n.pretestDate).toISOString().split("T")[0]:"",trainingCompletedDate:n.trainingCompletedDate?new Date(n.trainingCompletedDate).toISOString().split("T")[0]:"",posttest1CompletedDate:n.posttest1CompletedDate?new Date(n.posttest1CompletedDate).toISOString().split("T")[0]:"",posttest2CompletedDate:n.posttest2CompletedDate?new Date(n.posttest2CompletedDate).toISOString().split("T")[0]:"",currentPhase:n.currentPhase||"pretest",speaker:n.speaker||""})}),[n]);const d=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e=>{e.target===e.currentTarget&&h(!1)},children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-lg w-full max-h-screen overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Edit User: ",n.userId]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"You can update user details including email, speaker ID, and progress information."}),w&&(0,a.jsx)("div",{className:"mb-4 p-2 bg-[#f3ecda] text-[#406368] rounded",children:w}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"border-b pb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"User Details"}),(0,a.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),console.log("Form submission - local state:",r),k(r),console.log("Setting editedUser to:",r);const t={...r};try{v("Updating user..."),console.log("Sending direct API call with form values:",t);const e=await fetch(`${o.API_BASE_URL}/api/admin/users/${n.userId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify(t)}),r=await e.json();e.ok?(console.log("API update successful, refreshing data"),v("User updated successfully"),await C(),setTimeout((()=>{v("")}),2e3)):v((0,a.jsxs)("div",{className:"p-2 bg-red-100 border-l-4 border-red-500 text-red-700 rounded",children:[(0,a.jsx)("p",{className:"font-bold",children:"Update failed"}),(0,a.jsx)("p",{children:r.error||"Unknown error"})]}))}catch(u){console.error("Error in direct API call:",u),v((0,a.jsxs)("div",{className:"p-2 bg-red-100 border-l-4 border-red-500 text-red-700 rounded",children:[(0,a.jsx)("p",{className:"font-bold",children:"Update failed"}),(0,a.jsx)("p",{children:"Connection error. Please try again."})]}))}},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Email Address ",(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(editable)"})]}),(0,a.jsx)(i,{type:"email",name:"email",value:r.email,onChange:d,className:"mt-1 block w-full border-2 border-blue-200 focus:border-blue-500",placeholder:"Enter user's email address"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Change the email address and click "Update User Details" to save.'})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Speaker ID ",(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(editable)"})]}),(0,a.jsx)(i,{type:"text",name:"speaker",value:r.speaker,onChange:d,className:"mt-1 block w-full border-2 border-blue-200 focus:border-blue-500",placeholder:"Enter speaker ID"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Current Phase ",(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(editable)"})]}),(0,a.jsxs)("select",{name:"currentPhase",value:r.currentPhase,onChange:d,className:"mt-1 block w-full p-2 border-2 border-blue-200 focus:border-blue-500 rounded",children:[(0,a.jsx)("option",{value:"pretest",children:"Pretest"}),(0,a.jsx)("option",{value:"training",children:"Training"}),(0,a.jsx)("option",{value:"posttest1",children:"Posttest 1"}),(0,a.jsx)("option",{value:"posttest2",children:"Posttest 2"}),(0,a.jsx)("option",{value:"posttest3",children:"Posttest 3"}),(0,a.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Training Day ",(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(editable)"})]}),(0,a.jsx)(i,{type:"number",name:"trainingDay",min:"1",max:"4",value:r.trainingDay,onChange:d,className:"mt-1 block w-full border-2 border-blue-200 focus:border-blue-500",placeholder:"Enter training day (1-4)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Pretest Date ",(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(editable)"})]}),(0,a.jsx)(i,{type:"date",name:"pretestDate",value:r.pretestDate,onChange:d,className:"mt-1 block w-full border-2 border-blue-200 focus:border-blue-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Date when user completed the pretest phase."})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Training Day 4 Completion Date ",(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(editable)"})]}),(0,a.jsx)(i,{type:"date",name:"trainingCompletedDate",value:r.trainingCompletedDate?new Date(r.trainingCompletedDate).toISOString().split("T")[0]:"",onChange:d,className:"mt-1 block w-full border-2 border-blue-200 focus:border-blue-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Date when user completed training day 4."})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Posttest 1 Completion Date ",(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(editable)"})]}),(0,a.jsx)(i,{type:"date",name:"posttest1CompletedDate",value:r.posttest1CompletedDate?new Date(r.posttest1CompletedDate).toISOString().split("T")[0]:"",onChange:d,className:"mt-1 block w-full border-2 border-blue-200 focus:border-blue-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Date when user completed posttest 1. Leave blank if not completed."})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Posttest 2 Completion Date ",(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(editable)"})]}),(0,a.jsx)(i,{type:"date",name:"posttest2CompletedDate",value:r.posttest2CompletedDate?new Date(r.posttest2CompletedDate).toISOString().split("T")[0]:"",onChange:d,className:"mt-1 block w-full border-2 border-blue-200 focus:border-blue-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Date when user completed posttest 2. Leave blank if not completed."})]}),(0,a.jsxs)("button",{type:"submit",className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 flex items-center justify-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Save User Details"]})]})]}),(0,a.jsxs)("div",{className:"border-b pb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Reset Password"}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),(async(e,t)=>{try{const n=t||b;if(!n)return void v("Please enter a new password");(await fetch(`${o.API_BASE_URL}/api/admin/users/${e}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({newPassword:n})})).ok?(v("Password reset successfully"),x(""),setTimeout((()=>{v("")}),2e3)):v("Failed to reset password")}catch(u){console.error("Error resetting password:",u),v("Error resetting password")}})(n.userId,l),c("")},children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i,{type:"password",value:l,onChange:e=>c(e.target.value),className:"mt-1 block w-full",placeholder:"Enter new password",autoComplete:"new-password"}),(0,a.jsx)("button",{type:"submit",className:"mt-1 bg-[#406368] text-white px-4 py-2 rounded hover:bg-[#6c8376]",children:"Reset"})]})})]})})]}),(0,a.jsxs)("div",{className:"border-b pb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"User Progress"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Status:"}),(0,a.jsx)("div",{children:n.isActive?"Active":"Suspended"}),(0,a.jsx)("div",{className:"font-medium",children:"Current Phase:"}),(0,a.jsx)("div",{children:n.currentPhase}),(0,a.jsx)("div",{className:"font-medium",children:"Training Day:"}),(0,a.jsx)("div",{children:n.trainingDay}),(0,a.jsx)("div",{className:"font-medium",children:"Completed:"}),(0,a.jsx)("div",{children:n.completed?"Yes":"No"}),(0,a.jsx)("div",{className:"font-medium",children:"Created:"}),(0,a.jsx)("div",{children:new Date(n.createdAt).toLocaleDateString("en-US",{timeZone:"America/New_York"})}),n.pretestDate&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-medium",children:"Pretest Completed:"}),(0,a.jsx)("div",{children:new Date(n.pretestDate).toLocaleDateString("en-US",{timeZone:"America/New_York"})})]}),n.trainingCompletedDate&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-medium",children:"Training Day 4 Completed:"}),(0,a.jsx)("div",{children:new Date(n.trainingCompletedDate).toLocaleDateString("en-US",{timeZone:"America/New_York"})})]}),"posttest1"===n.currentPhase||"posttest2"===n.currentPhase||n.completed?n.posttest1CompletedDate?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-medium",children:"Posttest 1 Completed:"}),(0,a.jsx)("div",{className:"text-green-600",children:new Date(n.posttest1CompletedDate).toLocaleDateString("en-US",{timeZone:"America/New_York"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-medium",children:"Posttest 1 Due Date:"}),(0,a.jsx)("div",{className:"text-amber-600",children:n.trainingCompletedDate?new Date(new Date(n.trainingCompletedDate).getTime()+6048e5).toLocaleDateString("en-US",{timeZone:"America/New_York"})+" (7 days after training)":"Pending (training not completed)"})]}):null,"posttest1"===n.currentPhase||"posttest2"===n.currentPhase||n.completed?n.posttest2CompletedDate?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-medium",children:"Posttest 2 Completed:"}),(0,a.jsx)("div",{className:"text-green-600",children:new Date(n.posttest2CompletedDate).toLocaleDateString("en-US",{timeZone:"America/New_York"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-medium",children:"Posttest 2 Due Date:"}),(0,a.jsx)("div",{className:"text-amber-600",children:n.trainingCompletedDate?new Date(new Date(n.trainingCompletedDate).getTime()+2592e6).toLocaleDateString("en-US",{timeZone:"America/New_York"})+" (30 days after training)":"Pending (training not completed)"})]}):null]}),(0,a.jsxs)("div",{className:"mt-4 border-t pt-4",children:[(0,a.jsx)("div",{className:"font-medium mb-2",children:"Completed Activities:"}),n.completedTestsByPhase&&(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Pretest:"}),(0,a.jsx)("div",{className:"ml-2",children:n.completedTestsByPhase.pretest&&n.completedTestsByPhase.pretest.length>0?n.completedTestsByPhase.pretest.map((e=>(0,a.jsxs)("div",{className:"text-green-600",children:["\u2713 ",e.replace("COMPREHENSION","Comprehension").replace("EFFORT","Listening Effort").replace("INTELLIGIBILITY","Intelligibility")]},`pretest-${e}`))):(0,a.jsx)("div",{className:"text-gray-500",children:"No completed activities"})})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Training:"}),(0,a.jsx)("div",{className:"ml-2",children:n.completedTestsByPhase.training&&n.completedTestsByPhase.training.length>0?n.completedTestsByPhase.training.map((e=>(0,a.jsxs)("div",{className:"text-green-600",children:["\u2713 ",e.replace("training_intel","Intelligibility").replace("day","Day ")]},`training-${e}`))):(0,a.jsx)("div",{className:"text-gray-500",children:"No completed activities"})})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Posttest 1:"}),(0,a.jsx)("div",{className:"ml-2",children:n.completedTestsByPhase.posttest1&&n.completedTestsByPhase.posttest1.length>0?n.completedTestsByPhase.posttest1.filter((e=>!e.includes("demographics")&&!e.includes("DEMOGRAPHICS"))).map((e=>(0,a.jsxs)("div",{className:"text-green-600",children:["\u2713 ",e.replace("COMPREHENSION","Comprehension").replace("EFFORT","Listening Effort").replace("INTELLIGIBILITY","Intelligibility")]},`posttest1-${e}`))):(0,a.jsx)("div",{className:"text-gray-500",children:"No completed activities"})})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:"Posttest 2:"}),(0,a.jsx)("div",{className:"ml-2",children:n.completedTestsByPhase.posttest2&&n.completedTestsByPhase.posttest2.length>0?n.completedTestsByPhase.posttest2.filter((e=>!e.includes("demographics")&&!e.includes("DEMOGRAPHICS"))).map((e=>(0,a.jsxs)("div",{className:"text-green-600",children:["\u2713 ",e.replace("COMPREHENSION","Comprehension").replace("EFFORT","Listening Effort").replace("INTELLIGIBILITY","Intelligibility")]},`posttest2-${e}`))):(0,a.jsx)("div",{className:"text-gray-500",children:"No completed activities"})})]})]}),n.responseCounts&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("div",{className:"font-medium mb-1",children:"Total Responses by Phase:"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm ml-2",children:[(0,a.jsxs)("div",{children:["Pretest: ",(0,a.jsx)("span",{className:"font-medium",children:n.responseCounts.pretest||0})]}),(0,a.jsxs)("div",{children:["Training: ",(0,a.jsx)("span",{className:"font-medium",children:n.responseCounts.training||0})]}),(0,a.jsxs)("div",{children:["Posttest 1: ",(0,a.jsx)("span",{className:"font-medium",children:n.responseCounts.posttest1||0})]}),(0,a.jsxs)("div",{children:["Posttest 2: ",(0,a.jsx)("span",{className:"font-medium",children:n.responseCounts.posttest2||0})]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"border-b pb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Reset User Progress"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-yellow-50 p-4 rounded border border-yellow-300",children:[(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"This action will reset the user to the beginning state as if they hadn't done anything in the app yet. It will:"}),(0,a.jsxs)("ul",{className:"mt-2 text-sm text-yellow-800 list-disc pl-5",children:[(0,a.jsx)("li",{children:"Delete all response records from the database"}),(0,a.jsx)("li",{children:"Delete demographics data from the database"}),(0,a.jsx)("li",{children:"Reset progress to pretest phase"}),(0,a.jsx)("li",{children:"Clear all completed tests"}),(0,a.jsx)("li",{children:"Clear localStorage progress data in this browser"})]}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-yellow-800",children:[(0,a.jsx)("strong",{children:"Note:"})," The localStorage data is only cleared on this browser. If users are accessing the app from different devices or browsers, they may need to clear their localStorage there as well or log out and log back in."]}),(0,a.jsx)("p",{className:"mt-2 text-sm text-yellow-800 font-bold",children:"This cannot be undone!"})]}),(0,a.jsxs)("button",{onClick:()=>_(n.userId),className:"w-full bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 flex items-center justify-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Reset User Progress"]})]})]}),(0,a.jsx)("div",{className:"flex space-x-2 pt-2",children:(0,a.jsx)("button",{onClick:()=>h(!1),className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Close"})})]})]})})},$=(0,e.memo)((()=>{const[t,n]=(0,e.useState)({userId:N.userId,email:N.email,password:N.password,speaker:N.speaker,currentPhase:N.currentPhase,trainingDay:N.trainingDay,pretestDate:N.pretestDate}),r=e=>{const{name:t,value:r}=e.target;n((e=>({...e,[t]:r})))},s=async()=>{try{if(!t.userId||!t.email||!t.password)return void v("User ID, email, and password are required");if(!t.email.includes("@"))return void v("Please enter a valid email address");if(t.password.length<8)return void v("Password must be at least 8 characters");const e=await fetch(`${o.API_BASE_URL}/api/admin/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify(t)}),n=await e.json();e.ok?(v("User created successfully"),j({userId:"",email:"",password:"",speaker:"OHSp01",currentPhase:"pretest",trainingDay:1,pretestDate:""}),setTimeout((()=>{y(!1),v(""),C()}),2e3)):v(`Failed to create user: ${n.error||"Unknown error"}`)}catch(u){console.error("Error creating user:",u),v("Error creating user")}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e=>{e.target===e.currentTarget&&(y(!1),v(""))},children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-lg w-full max-h-screen overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create New User"}),w&&(0,a.jsx)("div",{className:"mb-4 p-2 bg-[#f3ecda] text-[#406368] rounded",children:w}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j(t),s()},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"User ID *"}),(0,a.jsx)(i,{type:"text",name:"userId",value:t.userId,onChange:r,className:"mt-1 block w-full",placeholder:"e.g., john_smith"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Required. Will be used for login."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,a.jsx)(i,{type:"email",name:"email",value:t.email,onChange:r,className:"mt-1 block w-full",placeholder:"user@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password *"}),(0,a.jsx)(i,{type:"password",name:"password",value:t.password,onChange:r,className:"mt-1 block w-full",placeholder:"Minimum 8 characters",autoComplete:"new-password"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Speaker ID"}),(0,a.jsx)(i,{type:"text",name:"speaker",value:t.speaker,onChange:r,className:"mt-1 block w-full",placeholder:"e.g., OHSp01"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Default: OHSp01"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Current Phase"}),(0,a.jsxs)("select",{name:"currentPhase",value:t.currentPhase,onChange:r,className:"mt-1 block w-full p-2 border rounded",children:[(0,a.jsx)("option",{value:"pretest",children:"Pretest"}),(0,a.jsx)("option",{value:"training",children:"Training"}),(0,a.jsx)("option",{value:"posttest1",children:"Posttest 1"}),(0,a.jsx)("option",{value:"posttest2",children:"Posttest 2"}),(0,a.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Training Day"}),(0,a.jsx)(i,{type:"number",name:"trainingDay",min:"1",max:"4",value:t.trainingDay,onChange:r,className:"mt-1 block w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pretest Date"}),(0,a.jsx)(i,{type:"date",name:"pretestDate",value:t.pretestDate,onChange:r,className:"mt-1 block w-full"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to set when user starts pretest."})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{y(!1),v("")},className:"flex-1 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 bg-[#406368] text-white px-4 py-2 rounded hover:bg-[#6c8376]",children:"Create User"})]})]})]})})}));return l?(0,a.jsx)("div",{className:"text-center p-4",children:"Loading..."}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),(0,a.jsxs)("button",{onClick:()=>y(!0),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create User"]})]}),r&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Users"}),(0,a.jsx)("p",{className:"text-2xl",children:r.totalUsers})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Completed Users"}),(0,a.jsx)("p",{className:"text-2xl",children:r.completedUsers})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Users by Phase"}),r.usersByPhase&&r.usersByPhase.map((e=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:e._id||"N/A"}),(0,a.jsx)("span",{children:e.count})]},e._id||"unknown")))]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Speaker"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress, Dates & Activities"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t&&t.length>0?t.map(((e,t)=>{var n,r,s,i,l,c,d,m;return(0,a.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.userId}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.speaker||"Not set"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Suspended"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"text-sm",children:["Phase: ",e.currentPhase,(0,a.jsx)("br",{}),"Day: ",e.trainingDay,(0,a.jsx)("br",{}),e.pretestDate&&(0,a.jsxs)(a.Fragment,{children:["Pretest completed: ",(0,a.jsx)("span",{className:"font-medium",children:new Date(e.pretestDate).toLocaleDateString("en-US",{timeZone:"America/New_York"})}),(0,a.jsx)("br",{})]}),e.trainingCompletedDate&&(0,a.jsxs)(a.Fragment,{children:["Training Day 4 completed: ",(0,a.jsx)("span",{className:"font-medium",children:new Date(e.trainingCompletedDate).toLocaleDateString("en-US",{timeZone:"America/New_York"})}),(0,a.jsx)("br",{})]}),("posttest1"===e.currentPhase||"posttest2"===e.currentPhase||e.completed)&&(e.posttest1CompletedDate?(0,a.jsxs)(a.Fragment,{children:["Posttest 1 completed: ",(0,a.jsx)("span",{className:"font-medium text-green-600",children:new Date(e.posttest1CompletedDate).toLocaleDateString("en-US",{timeZone:"America/New_York"})}),(0,a.jsx)("br",{})]}):e.trainingCompletedDate?(0,a.jsxs)(a.Fragment,{children:["Posttest 1 due: ",(0,a.jsx)("span",{className:"font-medium text-amber-600",children:new Date(new Date(e.trainingCompletedDate).getTime()+6048e5).toLocaleDateString("en-US",{timeZone:"America/New_York"})}),(0,a.jsx)("br",{})]}):null),("posttest1"===e.currentPhase||"posttest2"===e.currentPhase||e.completed)&&(e.posttest2CompletedDate?(0,a.jsxs)(a.Fragment,{children:["Posttest 2 completed: ",(0,a.jsx)("span",{className:"font-medium text-green-600",children:new Date(e.posttest2CompletedDate).toLocaleDateString("en-US",{timeZone:"America/New_York"})}),(0,a.jsx)("br",{})]}):e.trainingCompletedDate?(0,a.jsxs)(a.Fragment,{children:["Posttest 2 due: ",(0,a.jsx)("span",{className:"font-medium text-amber-600",children:new Date(new Date(e.trainingCompletedDate).getTime()+2592e6).toLocaleDateString("en-US",{timeZone:"America/New_York"})}),(0,a.jsx)("br",{})]}):null),(0,a.jsx)("span",{className:"text-xs mt-1",children:e.completedTestsByPhase&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:(null===(n=e.completedTestsByPhase.pretest)||void 0===n?void 0:n.length)>0?"text-green-600 font-medium":"text-gray-400",children:["Pretest: ",(null===(r=e.completedTestsByPhase.pretest)||void 0===r?void 0:r.length)||0]})," | ",(0,a.jsxs)("span",{className:(null===(s=e.completedTestsByPhase.training)||void 0===s?void 0:s.length)>0?"text-green-600 font-medium":"text-gray-400",children:["Training: ",(null===(i=e.completedTestsByPhase.training)||void 0===i?void 0:i.length)||0]})," | ",(0,a.jsxs)("span",{className:(null===(l=e.completedTestsByPhase.posttest1)||void 0===l?void 0:l.length)>0?"text-green-600 font-medium":"text-gray-400",children:["Post1: ",(null===(c=e.completedTestsByPhase.posttest1)||void 0===c?void 0:c.length)||0]})," | ",(0,a.jsxs)("span",{className:(null===(d=e.completedTestsByPhase.posttest2)||void 0===d?void 0:d.length)>0?"text-green-600 font-medium":"text-gray-400",children:["Post2: ",(null===(m=e.completedTestsByPhase.posttest2)||void 0===m?void 0:m.length)||0]})]})})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{p(e),h(!0)},className:"text-[#406368] hover:text-[#6c8376]",children:"Manage"}),(0,a.jsx)("button",{onClick:()=>(async(e,t)=>{try{(await fetch(`${o.API_BASE_URL}/api/admin/users/${e}/toggle-status`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}})).ok?(await C(),alert(`User ${t?"suspended":"activated"} successfully`)):alert("Failed to update user status")}catch(u){console.error("Error updating user status:",u),alert("Error updating user status")}})(e.userId,e.isActive),className:""+(e.isActive?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900"),children:e.isActive?"Suspend":"Activate"}),(0,a.jsx)("button",{onClick:()=>(async e=>{if(window.confirm(`Are you sure you want to DELETE user ${e}?\n\nThis will:\n- Permanently delete the user account\n- Remove all response data\n- Remove demographics data\n- Delete all progress records\n\nThis action CANNOT be undone!`))try{(await fetch(`${o.API_BASE_URL}/api/admin/users/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}})).ok?(await C(),alert("User deleted successfully")):alert("Failed to delete user")}catch(u){console.error("Error deleting user:",u),alert("Error deleting user")}})(e.userId),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},t)})):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"No users found"})})})]})}),(0,a.jsx)("button",{onClick:C,className:"mt-4 bg-[#406368] text-white px-4 py-2 rounded hover:bg-[#6c8376]",children:"Refresh Data"}),(0,a.jsx)(T,{}),f&&m&&(0,a.jsx)(P,{user:m}),g&&(0,a.jsx)($,{}),u&&(0,a.jsx)("div",{className:"mt-4 bg-red-100 border-l-4 border-red-500 p-4 text-red-700",children:u})]})};var c=n(387);function u(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=u(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function d(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=u(e))&&(r&&(r+=" "),r+=t);return r}const m=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,p=d,f=((e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return p(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:o,defaultVariants:a}=t,s=Object.keys(o).map((e=>{const t=null===n||void 0===n?void 0:n[e],r=null===a||void 0===a?void 0:a[e];if(null===t)return null;const s=m(t)||m(r);return o[e][s]})),i=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),l=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...o}=t;return Object.entries(o).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...i}[t]):{...a,...i}[t]===n}))?[...e,n,r]:e}),[]);return p(e,s,l,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)})("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-[#406368] text-white hover:bg-[#6c8376]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-[#406368]"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),h=e.forwardRef(((e,t)=>{let{className:n,variant:r,size:o,...s}=e;return(0,a.jsx)("button",{className:(0,c.A)(f({variant:r,size:o}),n),ref:t,...s})}));h.displayName="Button";const g=e.forwardRef(((e,t)=>{let{className:n,children:r,...o}=e;return(0,a.jsx)("label",{ref:t,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed \n                 peer-disabled:opacity-70 ${n||""}`,...o,children:r})}));g.displayName="Label";const y=t=>{let{onBack:n,onLoginSuccess:r}=t;const[s,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,m]=(0,e.useState)("");return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-[#406368] mb-2",children:"Admin Login"}),(0,a.jsx)("p",{className:"text-[#6e6e6d]",children:"Please login with your admin credentials"})]}),(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg px-8 py-6 mb-4 border border-gray-100",children:[d&&(0,a.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:(0,a.jsx)("p",{className:"text-red-700 text-sm",children:d})}),(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{m("");const e=await fetch(`${o.API_BASE_URL}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s,password:c})}),t=await e.json();if(e.ok){if(!t.isAdmin)return void m("This account does not have admin privileges");localStorage.setItem("adminToken",t.token),r()}else m(t.error||"Login failed")}catch(d){console.error("Login error:",d),m("Login failed. Please try again.")}})()},children:(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"adminUserId",children:"User ID"}),(0,a.jsx)(i,{id:"adminUserId",type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Enter admin user ID"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"adminPassword",children:"Password"}),(0,a.jsx)(i,{id:"adminPassword",type:"password",value:c,onChange:e=>u(e.target.value),placeholder:"Enter password"})]}),(0,a.jsx)(h,{type:"submit",className:"w-full bg-[#406368] hover:bg-[#6c8376] text-white",children:"Sign In as Admin"})]})})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(h,{variant:"link",onClick:n,className:"text-[#6e6e6d] hover:text-[#406368]",children:"\u2190 Back to Main App"})})]})})},b=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:"rounded-lg bg-white text-gray-950 shadow-sm border-0",...r})}));b.displayName="Card";const x=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:`flex flex-col space-y-1.5 p-6 border-0 ${n||""}`,...r})}));x.displayName="CardHeader";e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("h3",{ref:t,className:"text-2xl font-semibold leading-none tracking-tight",...r})})).displayName="CardTitle";e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("p",{ref:t,className:"text-sm text-gray-500",...r})})).displayName="CardDescription";const w=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:`p-6 pt-0 border-0 ${n||""}`,...r})}));w.displayName="CardContent";const v=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:`flex items-center p-6 pt-0 border-0 ${n||""}`,...r})}));v.displayName="CardFooter";var S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var k=(t,n)=>{const r=(0,e.forwardRef)(((r,o)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:c,...u}=r;return(0,e.createElement)("svg",{ref:o,...S,width:s,height:s,stroke:a,strokeWidth:l?24*Number(i)/Number(s):i,className:`lucide lucide-${d=t,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...u},[...n.map((t=>{let[n,r]=t;return(0,e.createElement)(n,r)})),...(Array.isArray(c)?c:[c])||[]]);var d}));return r.displayName=`${t}`,r};const N=k("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),j=k("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),C=k("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_=k("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),T=k("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),P=k("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$=k("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]),E=k("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),D=k("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),I=k("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);var A=n(372),O=n(991);const R=o.API_BASE_URL,F={async playPracticeAudio(){try{console.log("Playing practice audio file using Box toolset");const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t=`${R}/audio/practice/practice/null/1`;console.log(`Requesting practice audio from: ${t}`);const n=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error(`Failed to fetch practice audio: ${n.status}`);const r=await n.json();if(!r.url)throw new Error("Server response missing audio URL");return console.log(`Playing practice audio from: ${R}${r.url}`),await this.playAudioFromUrl(`${R}${r.url}`),r.filename&&await this.notifyAudioPlayed(r.filename),!0}catch(e){return console.error("Error playing practice audio:",e),!1}},async playRandomizedTestAudio(e,t,r,o,a){try{console.log(`playRandomizedTestAudio: phase=${e}, testType=${t}, version=${r}, sequence index=${o}`);let c=o;if("intelligibility"===t.toLowerCase())try{const{getGroupForPhase:t}=n(991);a||(a=this.extractUserIdFromToken());let r=null;if("training"===e)if("undefined"!==typeof window&&window.currentTrainingDay)r=window.currentTrainingDay,console.log(`Using training day from window: ${r}`);else{r=JSON.parse(localStorage.getItem("user")||"{}").trainingDay||1,console.log(`Using training day from localStorage: ${r}`)}console.log(`Getting randomized files for phase=${e}, trainingDay=${r}, userId=${a}`);const s=t(e,r,a);s&&s.length>0&&o-1<s.length?c=s[o-1]:(console.error(`ERROR: Cannot get randomized file for index ${o-1} from array of length ${(null===s||void 0===s?void 0:s.length)||0}`),c=Math.min(o,60)),console.log(`RANDOMIZATION: Using file number ${c} instead of sequential ${o}`)}catch(s){console.error("Error applying randomization:",s),c=o}const u=(e.startsWith("posttest"),e),d=localStorage.getItem("token");if(!d)throw console.error("No authentication token found - cannot play audio"),new Error("Authentication required");const m=`${R}/audio/${u}/${t}/${r}/${c}`;console.log(`Fetching audio file from: ${m}`);try{const e=await fetch(m,{headers:{Authorization:`Bearer ${d}`}});if(!e.ok)throw console.error(`Error response from server: ${e.status} ${e.statusText}`),new Error(`Server returned ${e.status}`);const t=await e.json();if(console.log(`Successfully retrieved audio file info: ${t.filename||"unnamed file"}`),!t.url)throw new Error("Server response missing audio URL");return console.log(`Playing audio from: ${R}${t.url}`),await this.playAudioFromUrl(`${R}${t.url}`),t.filename&&(console.log(`Notifying backend about played file: ${t.filename}`),await this.notifyAudioPlayed(t.filename)),!0}catch(i){if(console.warn("API route failed, trying direct file access as fallback:",i),"intelligibility"!==t.toLowerCase())throw i;{const{getGroupForPhase:t}=n(991),r=this.extractUserIdFromToken();let a=null;if("training"===e){if("undefined"!==typeof window&&window.currentTrainingDay)a=window.currentTrainingDay;else{a=JSON.parse(localStorage.getItem("user")||"{}").trainingDay||1}console.log(`Fallback using training day: ${a}`)}const s=t(e,a,r);let c;console.log("Fallback received randomized files:",s?s.slice(0,5):"null"),s&&s.length>0&&o-1<s.length?c=s[o-1]:(console.error(`ERROR in fallback: Cannot get file for index ${o-1} from array of length ${(null===s||void 0===s?void 0:s.length)||0}`),c=Math.min(o,60)),console.log(`Using randomized file number: ${c} instead of sequential number: ${o}`);const u=`${R}/audio/pretest/intelligibility/null/${c}`;console.log(`Using proper API endpoint instead of hardcoded speaker: ${u}`);let d="";try{const e=await fetch(u,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(`API request failed: ${e.status}`);const t=await e.json();if(!t.url)throw new Error("No URL in API response");d=`${R}${t.url}`}catch(i){throw console.warn("API approach failed:",i),i}console.log(`Got audio file URL: ${d}`);try{return await this.playAudioFromUrl(d),console.log("Direct file access succeeded!"),!0}catch(l){throw console.error("Direct file access also failed:",l),new Error("Could not access audio file by any method")}}}}catch(c){if(console.error(`Error playing ${t} audio for ${e}:`,c),c.message.includes("NetworkError")||c.message.includes("Failed to fetch")||c.message.includes("Network request failed"))throw new Error("Network error - please check your internet connection");if(c.message.includes("NotAllowedError"))throw new Error("Browser blocked audio playback - user interaction required");throw c}},async playRandomizedEffortAudio(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{n||(n=this.extractUserIdFromToken());const r=(0,O.getEffortFilesForPhase)(e,n)[t-1];return console.log(`Playing randomized effort audio: ${e}/${t} -> File #${r}`),await this.playTestAudio(e,"effort",null,r)}catch(r){throw console.error("Error playing randomized effort audio:",r),r}},async playRandomizedTrainingAudio(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{if(!n){const e=localStorage.getItem("token").split(".");if(3===e.length){n=JSON.parse(atob(e[1])).userId}}const o=(0,O.getGroupForPhase)("training",e,n)[t-1];console.log(`Playing randomized training audio: Day ${e}/${t} -> File #${o}`);const a=(0,O.getStoryForTrainingDay)(e,n);if(console.log(`Initial story prediction based on randomized mapping: ${a}`),"undefined"!==typeof window)try{const e=new CustomEvent("trainingStoryIdentified",{detail:{storyNumber:a,fileNumber:o,preliminary:!0}});console.log("Emitting preliminary story event"),window.dispatchEvent(e)}catch(r){console.error("Failed to emit preliminary event:",r)}const s=await this.playTrainingAudio(e,o),i=s.storyNumber||a;if(console.log(`Randomized training audio played with story ${i}, file #${o}`),"undefined"!==typeof window&&i!==a)try{const e=new CustomEvent("trainingStoryIdentified",{detail:{storyNumber:i,fileNumber:o,confirmed:!0}});console.log(`Emitting confirmed story event with story=${i}`),window.dispatchEvent(e)}catch(r){console.error("Failed to emit confirmed event:",r)}return{success:!0,fileNumber:o,storyNumber:i,mappedDay:s.mappedDay}}catch(o){throw console.error("Error playing randomized training audio:",o),o}},async playTrainingTestAudio(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.log(`IMPROVED playTrainingTestAudio called for day ${e}, direct file number ${t}`),n||(n=this.extractUserIdFromToken()),console.log(`Playing training test audio: Day ${e}, File #${t}`);const a=localStorage.getItem("token");if(!a)throw console.error("No authentication token found"),new Error("Authentication required");const s=`${R}/audio/training/intelligibility/null/${t}`;console.log(`Fetching training test audio from: ${s}`);try{const e=await fetch(s,{headers:{Authorization:`Bearer ${a}`}});if(!e.ok){console.error(`Error response from server: ${e.status} ${e.statusText}`);let t=`Failed to get audio file (${e.status})`;try{t=(await e.json()).error||t}catch(r){console.warn("Could not parse error response:",r)}if(404===e.status)throw new Error("AUDIO_NOT_FOUND");throw new Error(t)}const n=await e.json();if(!n||!n.url)throw new Error("Server response missing audio URL");return console.log(`Playing training test audio from: ${R}${n.url}`),await this.playAudioFromUrl(`${R}${n.url}`),n.filename&&await this.notifyAudioPlayed(n.filename),{success:!0,fileNumber:t}}catch(o){return console.warn(`Direct call failed, trying standard playTestAudio as fallback: ${o.message}`),await this.playTestAudio("training","intelligibility",null,t)}}catch(o){throw console.error("Error playing training test audio:",o),o}},async preloadRandomizedAudioFiles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=this.extractUserIdFromToken();let o=[];if("training"===e&&t){o=(0,O.getGroupForPhase)("training",t,r).map((e=>({phase:"training",day:t,actualFile:e})))}else if("pretest"===e||e.startsWith("posttest")){if(!n||n.includes("intelligibility")){const t=(0,O.getGroupForPhase)(e,null,r).map((t=>({phase:e,testType:"intelligibility",actualFile:t})));o.push(...t)}if(!n||n.includes("comprehension")){const t=(0,O.getStoriesForPhase)(e,r),n=[];t.forEach((t=>{const r=t.replace("Comp_","");for(let o=1;o<=2;o++)n.push({phase:e,testType:"comprehension",version:r,sentence:o})})),o.push(...n)}if(!n||n.includes("effort")){const t=(0,O.getEffortFilesForPhase)(e,r).map((t=>({phase:e,testType:"effort",actualFile:t})));o.push(...t)}}console.log(`Preloading ${o.length} randomized files for ${e}`);const a=o.map((async e=>{try{let t;if("training"===e.phase){const n=(0,O.getStoryForTrainingDay)(e.day,r);t=`${R}/audio/training/day/${e.day}/${e.actualFile}?story=${n}`}else t="comprehension"===e.testType?`${R}/audio/${e.phase}/${e.testType}/${e.version}/${e.sentence}`:`${R}/audio/${e.phase}/${e.testType}/null/${e.actualFile}`;const n=await fetch(t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)return console.warn(`Failed to preload file: ${t}`),null;return await n.json()}catch(t){return console.warn("Error preloading file:",e,t),null}})),s=await Promise.allSettled(a),i=s.filter((e=>"fulfilled"===e.status&&e.value)).length,l=s.length-i;return console.log(`Preloaded ${i} files successfully, ${l} failed`),{success:!0,count:i,failed:l}}catch(r){return console.error("Error in randomized preloading:",r),{success:!1,error:r.message}}},extractUserIdFromToken(){const e=localStorage.getItem("token");if(!e)return null;try{const t=e.split(".");if(3===t.length){return JSON.parse(atob(t[1])).userId}}catch(t){console.error("Error extracting userId from token:",t)}return null},async playTestAudio(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};console.log("playTestAudio called with:",{phase:e,testType:t,version:n,sentence:r,options:o});null===o||void 0===o||o.actualPhase;let a=r;null!==o&&void 0!==o&&o.randomizedFileNumber&&"intelligibility"===t&&(console.log(`CRITICAL: Using provided randomized file number ${o.randomizedFileNumber} instead of ${r}`),a=o.randomizedFileNumber,"undefined"!==typeof window&&(window.lastRandomizedFileNumberInAudioService=o.randomizedFileNumber,console.log(`Stored randomizedFileNumber in window: ${o.randomizedFileNumber}`)));try{"training"===e&&"intelligibility"===t&&(console.log("Training intelligibility test detected - using direct route"),"undefined"!==typeof window&&(window.isTrainingIntelligibilityTest=!0,window.trainingDay=null===o||void 0===o?void 0:o.trainingDay,window.intelligibilityFileNumber=a,console.log(`Set intelligibilityFileNumber in window: ${a} for training day ${null===o||void 0===o?void 0:o.trainingDay}`)));const r=(e.startsWith("posttest"),e),i=localStorage.getItem("token");if(!i)throw console.error("No authentication token found"),new Error("Authentication required");let l=`${R}/audio/${r}/${t}/${n}/${a}`;"training"===e&&"intelligibility"===t&&null!==o&&void 0!==o&&o.trainingDay&&(l+=`?trainingDay=${o.trainingDay}`,console.log(`Adding training day ${o.trainingDay} to URL`)),console.log(`Requesting audio file from: ${l}`);const c=await fetch(l,{headers:{Authorization:`Bearer ${i}`}});if(!c.ok){console.error(`Server returned error ${c.status}: ${c.statusText}`);let e=`Failed to get audio file (${c.status})`;try{e=(await c.json()).error||e}catch(s){console.warn("Could not parse error response:",s)}if(404===c.status||e.includes("not found")||e.includes("Not Found"))throw console.error("Audio file not found"),new Error("AUDIO_NOT_FOUND");throw new Error(e)}let u;try{u=await c.json()}catch(s){throw console.error("Error parsing audio file response:",s),new Error("Invalid response format from server")}if(!u||!u.url)throw console.error("Missing URL in server response:",u),new Error("Server response missing audio URL");return console.log(`Playing audio from: ${R}${u.url}`),await this.playAudioFromUrl(`${R}${u.url}`),u.filename?(console.log(`Notifying backend about played file: ${u.filename}`),await this.notifyAudioPlayed(u.filename)):console.warn("No filename in response, skipping played notification"),!0}catch(i){if(console.error("Error playing test audio:",i),"AUDIO_NOT_FOUND"===i.message)throw i;throw new Error(`Failed to play audio: ${i.message}`)}},async playTrainingAudio(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let o;if(n)o=n,console.log(`Using forced story number: ${o}`);else{const t=this.extractUserIdFromToken();o=(0,O.getStoryForTrainingDay)(e,t)}console.log(`Playing training audio for day ${e} (story ${o}), sentence ${t}`);const a=await fetch(`${R}/audio/training/day/${e}/${t}?story=${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok){const e=await a.json();if(404===a.status)throw new Error("AUDIO_NOT_FOUND");throw new Error(e.error||"Failed to get audio file")}const s=await a.json();console.log(`Audio URL ready: ${R}${s.url}`);let i=o,l=!1;if(s.url){const e=`${R}${s.url}`;console.log(`Analyzing audio URL: ${e}`);const n=s.url.match(/[Tt]rn_(\d{2})_\d{2}/i);if(n&&n[1])i=n[1],console.log(`Extracted story number from standard Trn pattern: ${i}`),l=!0;else if(!l){const e=s.url.match(/(\d{2})_\d{2}\.wav/i);e&&e[1]&&(i=e[1],console.log(`Extracted story number from .wav filename: ${i}`),l=!0)}if(!l){const e=s.url.match(/day\/(\d{2})\/\d+/i);e&&e[1]&&(i=e[1],console.log(`Extracted story number from URL path: ${i}`),l=!0)}if(l||console.log("Could not extract story number from URL structure. URL parts:",{basename:s.url.split("/").pop(),directory:s.url.split("/").slice(0,-1).join("/"),extension:s.url.split(".").pop()}),l&&"undefined"!==typeof window)try{const e=new CustomEvent("trainingStoryIdentified",{detail:{storyNumber:i,fileNumber:t}});console.log(`Emitting story event with story=${i}, file=${t}`),window.dispatchEvent(e)}catch(r){console.error("Failed to emit custom event:",r)}}if(console.log(`Now playing audio: ${R}${s.url}`),await this.playAudioFromUrl(`${R}${s.url}`),await this.notifyAudioPlayed(s.filename),s.filename&&!l){console.log(`Analyzing filename: ${s.filename}`);const e=s.filename.match(/[Tt]rn_(\d{2})_\d{2}/i)||s.filename.match(/(\d{2})_\d{2}\.wav/i);if(e&&e[1])i=e[1],console.log(`Extracted story number from filename: ${i}`);else{const e=s.filename.match(/_(\d{2})_/);e&&e[1]?(i=e[1],console.log(`Extracted potential story number from filename: ${i}`)):console.log("Unable to extract story number from filename")}}return{success:!0,storyNumber:i||o,mappedDay:e}}catch(o){throw console.error("Error playing training audio:",o),o}},playAudioFromUrl(e){return new Promise(((t,r)=>{let o=!1;const a=()=>{o||(o=!0,t())},s=e=>{o||(o=!0,r(e))};console.log(`Playing audio from URL: ${e}`);const i=new Audio;let l,c;const u=()=>{if(l&&(clearTimeout(l),l=null),c&&(clearTimeout(c),c=null),i){i.onended=null,i.oncanplaythrough=null,i.onerror=null,i.onstalled=null,i.onsuspend=null,i.onabort=null;try{i.pause(),i.src="",i.load()}catch(e){console.warn("Error cleaning up audio element:",e)}}};i.onended=()=>{console.log("Audio playback completed normally"),u(),a()},i.onplay=()=>{if(console.log("Audio has started playing"),"undefined"!==typeof window)try{const t=new CustomEvent("audio-playing",{detail:{url:e}});window.dispatchEvent(t),console.log("Dispatched audio-playing event")}catch(t){console.warn("Failed to dispatch audio-playing event:",t)}},i.oncanplaythrough=()=>{if(console.log("Audio can play through without buffering"),c&&(clearTimeout(c),c=null),i.duration&&!isNaN(i.duration)){const t=e.includes("/comprehension/"),n=t?15e3:3e3,r=Math.ceil(1e3*i.duration)+n;console.log(`Setting playback timeout for ${r}ms (${t?"with extra buffer for comprehension file":"standard buffer"})`),l=setTimeout((()=>{console.warn("Audio playback timeout - forcing completion"),u(),a()}),r)}},i.onerror=async t=>{const r=`Audio error: ${i.error?i.error.code:"unknown error"}`;if(console.error(r,t),u(),!o&&e.includes("/audio/")){const t=e.match(/\/audio\/([^\/]+)/),r=e.match(/\/(\d+)$/);if(t&&t[1]&&r&&r[1]){const e=t[1],i=parseInt(r[1]);try{const{getGroupForPhase:t}=n(991),r=this.extractUserIdFromToken(),o=t(e,null,r)[i-1];console.log(`Fallback: Using randomized file ${o} instead of sequential ${i}`);const l=`${R}/audio/pretest/intelligibility/null/${o}`;console.log(`Original audio URL failed, using direct URL: ${l}`);const c=new Audio;c.crossOrigin="anonymous",c.preload="auto",c.src=l;let u=!1;const d=()=>{if(!u){u=!0,c.onended=null,c.onerror=null;try{c.pause(),c.src="",c.load()}catch(e){console.warn("Error cleaning up fallback audio:",e)}}};return c.onended=()=>{console.log("Fallback audio playback completed successfully"),d(),a()},c.onerror=()=>{console.error("Fallback audio also failed"),d(),s(new Error("All audio playback methods failed"))},c.play().catch((e=>{console.error("Fallback playback attempt failed:",e),d(),s(new Error("All audio playback methods failed"))})),void(this.fallbackAudio=c)}catch(l){if(console.error("Error with randomization in fallback:",l),!o){console.log(`Last resort: trying direct approach with sequential number ${i}`);const e=`${R}/audio/pretest/intelligibility/null/${i}`;console.log(`Using direct API endpoint: ${e}`);const t=new Audio;t.crossOrigin="anonymous",t.preload="auto";let n=!1;const r=()=>{if(!n){n=!0,t.onended=null,t.onerror=null;try{t.pause(),t.src="",t.load()}catch(e){console.warn("Error cleaning up sequential fallback audio:",e)}}};return t.onerror=()=>{console.error("Final fallback audio also failed"),r(),s(new Error("All audio playback methods failed"))},t.src=e,t.onended=()=>{console.log("Sequential fallback audio playback completed"),r(),a()},t.onerror=()=>{console.error("Sequential fallback audio also failed"),r(),s(new Error("All audio playback methods failed"))},t.play().catch((e=>{console.error("Sequential fallback playback attempt failed:",e),r(),s(new Error("All audio playback methods failed"))})),void(this.seqFallbackAudio=t)}}}}s(new Error(r))},i.onstalled=()=>console.warn("Audio playback stalled"),i.onsuspend=()=>console.warn("Audio loading suspended"),i.onabort=()=>console.warn("Audio loading aborted");const d=e.includes("/comprehension/")?3e4:15e3;c=setTimeout((()=>{console.warn(`Audio loading timeout (${d}ms) - could not load audio file`),u(),this.currentAudio===i&&this.dispose(),s(new Error("Audio loading timeout"))}),d),i.src=e,i.load(),i.play().catch((e=>{if(console.error("Error starting audio playback:",e),u(),"NotAllowedError"===e.name)return s(new Error("Playback not allowed - may need user interaction"));s(e)})),this.currentAudio=i}))},async notifyAudioPlayed(e){try{await fetch(`${R}/api/audio/played`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({filename:e})})}catch(t){console.error("Error notifying backend about played audio:",t)}},async preloadAudioFiles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{var o;const a=(e.startsWith("posttest"),e);console.log(`Preloading audio files for ${a}${t?` day ${t}`:""}${r?` (max ${r} files)`:""}`),r&&console.log(`Limited preloading: only fetching first ${r} files for faster access`);const s=await fetch(`${R}/api/audio/preload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({phase:a,trainingDay:t,activeTestTypes:n,maxFiles:r})});if(!s.ok){const e=await s.json();throw new Error(e.error||"Failed to preload audio files")}const i=await s.json();return console.log(`Preloaded ${(null===(o=i.files)||void 0===o?void 0:o.length)||0} audio files for ${a}${t?` day ${t}`:""}`),r&&i.success&&(console.log(`Partial preloading of ${r} files completed successfully`),i.partialPreload=!0),i}catch(a){return console.error("Error preloading audio files:",a),{success:!1,error:a.message}}},async preloadRandomizedAudioFiles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=(e.startsWith("posttest"),e);return console.log(`preloadRandomizedAudioFiles for ${o}, maxFiles=${r||"all"}`),this.preloadAudioFiles(o,t,n,r)},async endSession(){try{const e=await fetch(`${R}/api/session/end`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to end session")}const t=await e.json();return console.log(`Session ended: ${t.message}`),t}catch(e){return console.error("Error ending session:",e),{success:!1,error:e.message}}},dispose(){const e=[this.currentAudio,this.fallbackAudio,this.seqFallbackAudio].filter(Boolean);e.length>0&&console.log(`Disposing ${e.length} audio elements`),e.forEach(((e,t)=>{try{e&&(e.onended=null,e.oncanplaythrough=null,e.onerror=null,e.onstalled=null,e.onsuspend=null,e.onabort=null,e.onplay=null,e.onpause=null,e.onloadstart=null,e.onloadeddata=null,e.onloadedmetadata=null,e.pause(),e.src="",e.load(),console.log(`Audio element ${t+1} disposed`))}catch(n){console.error(`Error disposing audio element ${t+1}:`,n)}})),this.currentAudio=null,this.fallbackAudio=null,this.seqFallbackAudio=null}},M=F;function z(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];if(1===n.length)return o;const a=()=>{const t=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=t.reduce(((e,t)=>{let{useScope:r,scopeName:o}=t;return{...e,...r(n)[`__scope${o}`]}}),{});return e.useMemo((()=>({[`__scope${o.scopeName}`]:r})),[r])}};return a.scopeName=o.scopeName,a}function L(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];if(1===n.length)return o;const a=()=>{const t=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=t.reduce(((e,t)=>{let{useScope:r,scopeName:o}=t;return{...e,...r(n)[`__scope${o}`]}}),{});return e.useMemo((()=>({[`__scope${o.scopeName}`]:r})),[r])}};return a.scopeName=o.scopeName,a}function U(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function B(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=U(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():U(t[e],null)}}}}(...n),n)}function q(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=q(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():q(t[e],null)}}}}var W=e.forwardRef(((t,n)=>{const{children:r,...o}=t,s=e.Children.toArray(r),i=s.find(G);if(i){const t=i.props.children,r=s.map((n=>n===i?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:n));return(0,a.jsx)(Y,{...o,ref:n,children:e.isValidElement(t)?e.cloneElement(t,void 0,r):null})}return(0,a.jsx)(Y,{...o,ref:n,children:r})}));W.displayName="Slot";var Y=e.forwardRef(((t,n)=>{const{children:r,...o}=t;if(e.isValidElement(r)){const t=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r),a=function(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a(...arguments),o(...arguments)}:o&&(n[r]=o):"style"===r?n[r]={...o,...a}:"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}(o,r.props);return r.type!==e.Fragment&&(a.ref=n?H(n,t):t),e.cloneElement(r,a)}return e.Children.count(r)>1?e.Children.only(null):null}));Y.displayName="SlotClone";var V=e=>{let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:t})};function G(t){return e.isValidElement(t)&&t.type===V}function Q(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function J(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=Q(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():Q(t[e],null)}}}}(...n),n)}function Z(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function K(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t})),e.useMemo((()=>function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current?.(...t)}),[])}function X(t){let{prop:n,defaultProp:r,onChange:o=()=>{}}=t;const[a,s]=function(t){let{defaultProp:n,onChange:r}=t;const o=e.useState(n),[a]=o,s=e.useRef(a),i=K(r);return e.useEffect((()=>{s.current!==a&&(i(a),s.current=a)}),[a,s,i]),o}({defaultProp:r,onChange:o}),i=void 0!==n,l=i?n:a,c=K(o);return[l,e.useCallback((e=>{if(i){const t="function"===typeof e?e(n):e;t!==n&&c(t)}else s(e)}),[i,n,s,c])]}n(950);var ee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,n)=>{const r=e.forwardRef(((e,t)=>{const{asChild:r,...o}=e,s=r?W:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s,{...o,ref:t})}));return r.displayName=`Primitive.${n}`,{...t,[n]:r}}),{});function te(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0];if(1===n.length)return o;const a=()=>{const t=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=t.reduce(((e,t)=>{let{useScope:r,scopeName:o}=t;return{...e,...r(n)[`__scope${o}`]}}),{});return e.useMemo((()=>({[`__scope${o.scopeName}`]:r})),[r])}};return a.scopeName=o.scopeName,a}var ne=Boolean(globalThis?.document)?e.useLayoutEffect:()=>{};function re(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function oe(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=re(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():re(t[e],null)}}}}(...n),n)}var ae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,n)=>{const r=e.forwardRef(((e,t)=>{const{asChild:r,...o}=e,s=r?W:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s,{...o,ref:t})}));return r.displayName=`Primitive.${n}`,{...t,[n]:r}}),{});function se(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function ie(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=se(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():se(t[e],null)}}}}(...n),n)}var le=Boolean(globalThis?.document)?e.useLayoutEffect:()=>{};var ce=t=>{const{present:n,children:r}=t,o=function(t){const[n,r]=e.useState(),o=e.useRef({}),a=e.useRef(t),s=e.useRef("none"),i=t?"mounted":"unmounted",[l,c]=function(t,n){return e.useReducer(((e,t)=>n[e][t]??e),t)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return e.useEffect((()=>{const e=ue(o.current);s.current="mounted"===l?e:"none"}),[l]),le((()=>{const e=o.current,n=a.current;if(n!==t){const r=s.current,o=ue(e);if(t)c("MOUNT");else if("none"===o||"none"===e?.display)c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}a.current=t}}),[t,c]),le((()=>{if(n){let e;const t=n.ownerDocument.defaultView??window,r=r=>{const s=ue(o.current).includes(r.animationName);if(r.target===n&&s&&(c("ANIMATION_END"),!a.current)){const r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout((()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)}))}},i=e=>{e.target===n&&(s.current=ue(o.current))};return n.addEventListener("animationstart",i),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",i),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}c("ANIMATION_END")}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:e.useCallback((e=>{e&&(o.current=getComputedStyle(e)),r(e)}),[])}}(n),a="function"===typeof r?r({present:o.isPresent}):e.Children.only(r),s=ie(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(a));return"function"===typeof r||o.isPresent?e.cloneElement(a,{ref:s}):null};function ue(e){return e?.animationName||"none"}ce.displayName="Presence";var de=t["useId".toString()]||(()=>{}),me=0;function pe(t){const[n,r]=e.useState(de());return ne((()=>{t||r((e=>e??String(me++)))}),[t]),t||(n?`radix-${n}`:"")}var fe="Collapsible",[he,ge]=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const o=()=>{const n=r.map((t=>e.createContext(t)));return function(r){const o=r?.[t]||n;return e.useMemo((()=>({[`__scope${t}`]:{...r,[t]:o}})),[r,o])}};return o.scopeName=t,[function(n,o){const s=e.createContext(o),i=r.length;r=[...r,o];const l=n=>{const{scope:r,children:o,...l}=n,c=r?.[t]?.[i]||s,u=e.useMemo((()=>l),Object.values(l));return(0,a.jsx)(c.Provider,{value:u,children:o})};return l.displayName=n+"Provider",[l,function(r,a){const l=a?.[t]?.[i]||s,c=e.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},te(o,...n)]}(fe),[ye,be]=he(fe),xe=e.forwardRef(((t,n)=>{const{__scopeCollapsible:r,open:o,defaultOpen:s,disabled:i,onOpenChange:l,...c}=t,[u=!1,d]=X({prop:o,defaultProp:s,onChange:l});return(0,a.jsx)(ye,{scope:r,disabled:i,contentId:pe(),open:u,onOpenToggle:e.useCallback((()=>d((e=>!e))),[d]),children:(0,a.jsx)(ae.div,{"data-state":je(u),"data-disabled":i?"":void 0,...c,ref:n})})}));xe.displayName=fe;var we="CollapsibleTrigger",ve=e.forwardRef(((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=be(we,n);return(0,a.jsx)(ae.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":je(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:Z(e.onClick,o.onOpenToggle)})}));ve.displayName=we;var Se="CollapsibleContent",ke=e.forwardRef(((e,t)=>{const{forceMount:n,...r}=e,o=be(Se,e.__scopeCollapsible);return(0,a.jsx)(ce,{present:n||o.open,children:e=>{let{present:n}=e;return(0,a.jsx)(Ne,{...r,ref:t,present:n})}})}));ke.displayName=Se;var Ne=e.forwardRef(((t,n)=>{const{__scopeCollapsible:r,present:o,children:s,...i}=t,l=be(Se,r),[c,u]=e.useState(o),d=e.useRef(null),m=oe(n,d),p=e.useRef(0),f=p.current,h=e.useRef(0),g=h.current,y=l.open||c,b=e.useRef(y),x=e.useRef(void 0);return e.useEffect((()=>{const e=requestAnimationFrame((()=>b.current=!1));return()=>cancelAnimationFrame(e)}),[]),ne((()=>{const e=d.current;if(e){x.current=x.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();p.current=t.height,h.current=t.width,b.current||(e.style.transitionDuration=x.current.transitionDuration,e.style.animationName=x.current.animationName),u(o)}}),[l.open,o]),(0,a.jsx)(ae.div,{"data-state":je(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...i,ref:m,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:y&&s})}));function je(e){return e?"open":"closed"}var Ce=xe,_e=ve,Te=ke,Pe=Boolean(globalThis?.document)?e.useLayoutEffect:()=>{},$e=t["useId".toString()]||(()=>{}),Ee=0;var De=e.createContext(void 0);var Ie="Accordion",Ae=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Oe,Re,Fe]=function(t){const n=t+"CollectionProvider",[r,o]=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const o=()=>{const n=r.map((t=>e.createContext(t)));return function(r){const o=r?.[t]||n;return e.useMemo((()=>({[`__scope${t}`]:{...r,[t]:o}})),[r,o])}};return o.scopeName=t,[function(n,o){const s=e.createContext(o),i=r.length;r=[...r,o];const l=n=>{const{scope:r,children:o,...l}=n,c=r?.[t]?.[i]||s,u=e.useMemo((()=>l),Object.values(l));return(0,a.jsx)(c.Provider,{value:u,children:o})};return l.displayName=n+"Provider",[l,function(r,a){const l=a?.[t]?.[i]||s,c=e.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},L(o,...n)]}(n),[s,i]=r(n,{collectionRef:{current:null},itemMap:new Map}),l=t=>{const{scope:n,children:r}=t,o=e.useRef(null),i=e.useRef(new Map).current;return(0,a.jsx)(s,{scope:n,itemMap:i,collectionRef:o,children:r})};l.displayName=n;const c=t+"CollectionSlot",u=e.forwardRef(((e,t)=>{const{scope:n,children:r}=e,o=B(t,i(c,n).collectionRef);return(0,a.jsx)(W,{ref:o,children:r})}));u.displayName=c;const d=t+"CollectionItemSlot",m="data-radix-collection-item",p=e.forwardRef(((t,n)=>{const{scope:r,children:o,...s}=t,l=e.useRef(null),c=B(n,l),u=i(d,r);return e.useEffect((()=>(u.itemMap.set(l,{ref:l,...s}),()=>{u.itemMap.delete(l)}))),(0,a.jsx)(W,{[m]:"",ref:c,children:o})}));return p.displayName=d,[{Provider:l,Slot:u,ItemSlot:p},function(n){const r=i(t+"CollectionConsumer",n);return e.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(r.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[r.collectionRef,r.itemMap])},o]}(Ie),[Me,ze]=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const o=()=>{const n=r.map((t=>e.createContext(t)));return function(r){const o=r?.[t]||n;return e.useMemo((()=>({[`__scope${t}`]:{...r,[t]:o}})),[r,o])}};return o.scopeName=t,[function(n,o){const s=e.createContext(o),i=r.length;r=[...r,o];const l=n=>{const{scope:r,children:o,...l}=n,c=r?.[t]?.[i]||s,u=e.useMemo((()=>l),Object.values(l));return(0,a.jsx)(c.Provider,{value:u,children:o})};return l.displayName=n+"Provider",[l,function(r,a){const l=a?.[t]?.[i]||s,c=e.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},z(o,...n)]}(Ie,[Fe,ge]),Le=ge(),Ue=e.forwardRef(((e,t)=>{const{type:n,...r}=e,o=r,s=r;return(0,a.jsx)(Oe.Provider,{scope:e.__scopeAccordion,children:"multiple"===n?(0,a.jsx)(Ve,{...s,ref:t}):(0,a.jsx)(Ye,{...o,ref:t})})}));Ue.displayName=Ie;var[Be,qe]=Me(Ie),[He,We]=Me(Ie,{collapsible:!1}),Ye=e.forwardRef(((t,n)=>{const{value:r,defaultValue:o,onValueChange:s=()=>{},collapsible:i=!1,...l}=t,[c,u]=X({prop:r,defaultProp:o,onChange:s});return(0,a.jsx)(Be,{scope:t.__scopeAccordion,value:c?[c]:[],onItemOpen:u,onItemClose:e.useCallback((()=>i&&u("")),[i,u]),children:(0,a.jsx)(He,{scope:t.__scopeAccordion,collapsible:i,children:(0,a.jsx)(Je,{...l,ref:n})})})})),Ve=e.forwardRef(((t,n)=>{const{value:r,defaultValue:o,onValueChange:s=()=>{},...i}=t,[l=[],c]=X({prop:r,defaultProp:o,onChange:s}),u=e.useCallback((e=>c((function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e]}))),[c]),d=e.useCallback((e=>c((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((t=>t!==e))}))),[c]);return(0,a.jsx)(Be,{scope:t.__scopeAccordion,value:l,onItemOpen:u,onItemClose:d,children:(0,a.jsx)(He,{scope:t.__scopeAccordion,collapsible:!0,children:(0,a.jsx)(Je,{...i,ref:n})})})})),[Ge,Qe]=Me(Ie),Je=e.forwardRef(((t,n)=>{const{__scopeAccordion:r,disabled:o,dir:s,orientation:i="vertical",...l}=t,c=J(e.useRef(null),n),u=Re(r),d="ltr"===function(t){const n=e.useContext(De);return t||n||"ltr"}(s),m=Z(t.onKeyDown,(e=>{if(!Ae.includes(e.key))return;const t=e.target,n=u().filter((e=>!e.ref.current?.disabled)),r=n.findIndex((e=>e.ref.current===t)),o=n.length;if(-1===r)return;e.preventDefault();let a=r;const s=o-1,l=()=>{a=r+1,a>s&&(a=0)},c=()=>{a=r-1,a<0&&(a=s)};switch(e.key){case"Home":a=0;break;case"End":a=s;break;case"ArrowRight":"horizontal"===i&&(d?l():c());break;case"ArrowDown":"vertical"===i&&l();break;case"ArrowLeft":"horizontal"===i&&(d?c():l());break;case"ArrowUp":"vertical"===i&&c()}const m=a%o;n[m].ref.current?.focus()}));return(0,a.jsx)(Ge,{scope:r,disabled:o,direction:s,orientation:i,children:(0,a.jsx)(Oe.Slot,{scope:r,children:(0,a.jsx)(ee.div,{...l,"data-orientation":i,ref:c,onKeyDown:o?void 0:m})})})})),Ze="AccordionItem",[Ke,Xe]=Me(Ze),et=e.forwardRef(((t,n)=>{const{__scopeAccordion:r,value:o,...s}=t,i=Qe(Ze,r),l=qe(Ze,r),c=Le(r),u=function(t){const[n,r]=e.useState($e());return Pe((()=>{t||r((e=>e??String(Ee++)))}),[t]),t||(n?`radix-${n}`:"")}(),d=o&&l.value.includes(o)||!1,m=i.disabled||t.disabled;return(0,a.jsx)(Ke,{scope:r,open:d,disabled:m,triggerId:u,children:(0,a.jsx)(Ce,{"data-orientation":i.orientation,"data-state":it(d),...c,...s,ref:n,disabled:m,open:d,onOpenChange:e=>{e?l.onItemOpen(o):l.onItemClose(o)}})})}));et.displayName=Ze;var tt="AccordionHeader",nt=e.forwardRef(((e,t)=>{const{__scopeAccordion:n,...r}=e,o=Qe(Ie,n),s=Xe(tt,n);return(0,a.jsx)(ee.h3,{"data-orientation":o.orientation,"data-state":it(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:t})}));nt.displayName=tt;var rt="AccordionTrigger",ot=e.forwardRef(((e,t)=>{const{__scopeAccordion:n,...r}=e,o=Qe(Ie,n),s=Xe(rt,n),i=We(rt,n),l=Le(n);return(0,a.jsx)(Oe.ItemSlot,{scope:n,children:(0,a.jsx)(_e,{"aria-disabled":s.open&&!i.collapsible||void 0,"data-orientation":o.orientation,id:s.triggerId,...l,...r,ref:t})})}));ot.displayName=rt;var at="AccordionContent",st=e.forwardRef(((e,t)=>{const{__scopeAccordion:n,...r}=e,o=Qe(Ie,n),s=Xe(at,n),i=Le(n);return(0,a.jsx)(Te,{role:"region","aria-labelledby":s.triggerId,"data-orientation":o.orientation,...i,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})}));function it(e){return e?"open":"closed"}st.displayName=at;var lt=et,ct=nt,ut=ot,dt=st;const mt=Ue,pt=e.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(lt,{ref:t,className:"border-b",...r})}));pt.displayName="AccordionItem";const ft=e.forwardRef(((e,t)=>{let{className:n,children:r,...o}=e;return(0,a.jsx)(ct,{className:"flex",children:(0,a.jsxs)(ut,{ref:t,className:"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",...o,children:[r,(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6"})})]})})}));ft.displayName="AccordionTrigger";const ht=e.forwardRef(((e,t)=>{let{className:n,children:r,...o}=e;return(0,a.jsx)(dt,{ref:t,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:(0,a.jsx)("div",{className:"pb-4 pt-0",children:r})})}));ht.displayName="AccordionContent";const gt=k("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),yt=()=>{const e=[{question:"What do I do if I experience a technical issue?",answer:"If at any time during this training program you experience technical issues, please call or email the team. Contact: 614-570-8258 or speechtrainingresearch@gmail.com"},{question:"What are the requirements of the training program?",answer:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"You must have access to a computer connected to the internet. Please wear"}),(0,a.jsx)("strong",{children:"headphones"}),(0,a.jsx)(gt,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"during all portions of this training program."})]})},{question:"What happens on the different days of the training program?",answer:"You will complete a demographic questionnaire and pretest on the first day of the study. This will consist of an intelligibility task, a listening effort task, and a comprehension task. For the next four days, you will complete the training program which consists of listening to a recording of your friend or family member with written captions as well as an intelligibility task. One week after training, you will complete a posttest. One month after training, you will complete a second posttest. Each posttest will have the same components as the pretest. You will receive email reminders for each day of the study."},{question:"What if I miss a day of training?",answer:"Please contact the study team at 614-570-8258 or speechtrainingresearch@gmail.com as soon as possible and we can adjust your program to continue on the following day."},{question:"How long will each portion take?",answer:"The pretest and posttests are estimated to take approximately 30-45 minutes. Each of the four training days is estimated to take approximately 30 minutes."},{question:"Is there a specific time of day I need to complete the training?",answer:"No, you may complete the training at any time of day, and training can occur at different times of day across the four days of training. Please complete the training at a time of day when you have at least 30 minutes to dedicate to the task."},{question:"What if I forget my username and password for the training program?",answer:"Your username and password were e-mailed to you after you were first enrolled in the study. If you need this information e-mailed to you again, please send a message to speechtrainingresearch@gmail.com."},{question:"What if I want to withdraw from the study?",answer:"You may withdraw from the study at any time without penalty. Please contact us at speechtrainingresearch@gmail.com to withdraw."}];return(0,a.jsx)("div",{className:"w-full max-w-2xl mx-auto mt-8 bg-white rounded-lg shadow-sm border border-gray-100 max-w-5xl mx-auto px-4 mb-12",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-[#406368] mb-4",children:"Training Program Q&A"}),(0,a.jsx)(mt,{type:"single",collapsible:!0,className:"w-full",children:e.map(((e,t)=>(0,a.jsxs)(pt,{value:`item-${t}`,children:[(0,a.jsx)(ft,{className:"text-left",children:e.question}),(0,a.jsx)(ht,{children:e.answer})]},t)))})]})})},bt=()=>{if("undefined"===typeof window||!window.navigator)return!1;const e=window.navigator.userAgent,t=e.toLowerCase(),n=/iPad/i.test(e)||/Macintosh/i.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1,r=t.indexOf("chrome")>-1&&-1===t.indexOf("edg")&&-1===t.indexOf("edge");return n&&r},xt=()=>{const e=(()=>{if("undefined"===typeof window||!window.navigator)return{browser:"unknown",isIpadChrome:!1,isMobile:!1,isTablet:!1,os:"unknown"};const e=window.navigator.userAgent;e.toLowerCase();let t="unknown",n="unknown",r=!1,o=!1;const a=/iPad/i.test(e)||/Macintosh/i.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return/Windows/i.test(e)?n="windows":/Macintosh/i.test(e)&&!a?n="mac":a?n="ios":/iPhone|iPod/i.test(e)?(n="ios",o=!0):/Android/i.test(e)&&(n="android",/Mobile/i.test(e)?o=!0:r=!0),/Chrome/i.test(e)&&!/Chromium|Edge|Edg/i.test(e)?t="chrome":/Firefox/i.test(e)?t="firefox":/Safari/i.test(e)&&!/Chrome|Chromium/i.test(e)?t="safari":/Edge|Edg/i.test(e)&&(t="edge"),a&&(r=!0,o=!1),{browser:t,os:n,isIpadChrome:a&&"chrome"===t,isTablet:r,isMobile:o,userAgent:e}})(),t={timeout:15e3,retryAttempts:1,retryDelay:1e3,audioPreload:"auto",bufferBeforePlayback:0};return e.isIpadChrome?{...t,timeout:8e3,retryAttempts:2,retryDelay:500,audioPreload:"metadata",bufferBeforePlayback:100,showWarning:!0,useBackupMethod:!0}:"safari"===e.browser?{...t,timeout:12e3,retryAttempts:2,useUserInteraction:!0}:e.isMobile?{...t,timeout:1e4,useBackupMethod:!0}:t};function wt(){return"undefined"!==typeof window&&bt()}window.audioService=M;const vt=t=>{let{title:n,description:r,testType:o,phase:s,status:i,onSelect:l,date:c}=t;const{isAvailable:u,isCompleted:d,hasProgress:m}=i,[p,f]=(0,e.useState)(!1);return(0,a.jsxs)(b,{className:`transition-all border border-gray-300 shadow-lg ${p?"border-[#406368]":""} ${u?"":"opacity-75"}`,children:[(0,a.jsx)(x,{className:p?"bg-[#f3ecda]":"",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#406368]",children:n}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:r})]}),(0,a.jsx)("div",{className:"ml-4",children:d?(0,a.jsx)(N,{className:"h-6 w-6 text-green-500"}):p?(0,a.jsx)(j,{className:"h-6 w-6 text-[#406368] animate-spin"}):m?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C,{className:"h-6 w-6 text-yellow-500"}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-yellow-500 animate-pulse"})]}):u?(0,a.jsx)(C,{className:"h-6 w-6 text-[#406368]"}):(0,a.jsx)(_,{className:"h-6 w-6 text-gray-400"})})]})}),(0,a.jsx)(w,{children:p?(0,a.jsxs)("p",{className:"text-sm text-[#406368] font-medium flex items-center",children:[(0,a.jsx)(j,{className:"animate-spin h-4 w-4 mr-2"}),"Preparing audio files..."]}):(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[d?"Completed":m?"In Progress - Continue":u?"Available Now":"Locked",c&&` \u2022 ${c}`]})}),(0,a.jsx)(v,{children:(0,a.jsxs)(h,{className:"w-full",disabled:!u||p||d,variant:d?"secondary":u?p?"outline":"default":"secondary",onClick:async()=>{if(u&&!d&&!p){if(f(!0),"demographics"===s)return console.log("Demographics selected - no preloading needed"),await new Promise((e=>setTimeout(e,1e3))),f(!1),void l(s,o);console.log(`Selected ${s} ${o} - proceeding without preloading`),await new Promise((e=>setTimeout(e,2e3))),f(!1),l(s,o)}},children:[p?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(j,{className:"animate-spin h-4 w-4 mr-2"}),"Preparing Audio... (",Math.ceil(6-Date.now()%6e3/1e3),"s)"]}):(0,a.jsx)("span",{children:d?"Completed":m?"Continue Activity":u?"Begin Activity":"Locked"}),u&&!p&&(0,a.jsx)(T,{className:"ml-2 h-4 w-4"})]})})]})},St=e=>{let{currentPhase:t,completedTests:n,trainingDay:r,onClose:o}=e;const s=[{id:"demographics",label:"Background",icon:"\ud83d\udccb"},{id:"pretest",label:"Initial Activities",icon:"\ud83d\udcdd"},{id:"training1",label:"Training Day 1",icon:"\ud83c\udfa7"},{id:"training2",label:"Training Day 2",icon:"\ud83c\udfa7"},{id:"training3",label:"Training Day 3",icon:"\ud83c\udfa7"},{id:"training4",label:"Training Day 4",icon:"\ud83c\udfa7"},{id:"posttest1",label:"Middle Activities",icon:"\u270f\ufe0f"},{id:"posttest2",label:"Final Activities",icon:"\ud83c\udf89"}],i=e=>{if("demographics"===e){if(Object.entries(n).some((e=>{let[t,n]=e;return t.toLowerCase().includes("demograph")&&Boolean(n)})))return!0;if(Boolean(n.demographics)||Boolean(n.pretest_demographics))return!0;const e=localStorage.getItem("userId"),t=e&&"true"===localStorage.getItem(`demographicsCompleted_${e}`),r="true"===localStorage.getItem("demographicsCompleted");return!!t||!(!r||!e)}if("pretest"===e)return Boolean(n.pretest_intelligibility)&&Boolean(n.pretest_effort)&&Boolean(n.pretest_comprehension);if(e.startsWith("training")){const t=e.charAt(e.length-1),o=new RegExp(`(training|day)[^0-9]*${t}\\b|\\bday${t}\\b`,"i"),a=Boolean(n[`training_day${t}`])||(()=>{for(const e in n)if(!0===n[e]&&e.includes("training")){if("1"===t&&("training_day1"===e||"day1"===e||"training1"===e))return!0;if("1"!==t&&o.test(e))return!0}return!1})()||parseInt(t)<parseInt(r);return console.log(`Training day ${t} completion check:`,{[`training_day${t}`]:Boolean(n[`training_day${t}`]),trainingDay:r,pastDay:parseInt(t)<parseInt(r),isCompleted:a,completedTestsKeys:Object.keys(n).filter((e=>e.includes("training")))}),a}return"posttest1"===e?Boolean(n.posttest1_intelligibility)&&Boolean(n.posttest1_effort)&&Boolean(n.posttest1_comprehension):"posttest2"===e&&(Boolean(n.posttest2_intelligibility)&&Boolean(n.posttest2_effort)&&Boolean(n.posttest2_comprehension))},l=e=>{const n=i("demographics");if("demographics"===e&&!n)return!0;if("demographics"===e&&"demographics"===t)return!0;if("pretest"===e&&"pretest"===t)return!0;if(e.startsWith("training")&&"training"===t){const t=parseInt(e.charAt(e.length-1));return r===t}return"posttest1"===e&&"posttest1"===t||"posttest2"===e&&"posttest2"===t};return(0,a.jsxs)("div",{className:"bg-[#f3ecda] border border-[#dad6d9] rounded-lg p-4 mb-6 relative",children:[(0,a.jsx)("button",{onClick:o,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700","aria-label":"Close study progress diagram",children:(0,a.jsx)(P,{className:"h-5 w-5"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#406368] mb-3",children:"Study Progress"}),(0,a.jsx)("div",{className:"flex flex-col lg:hidden",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-1 text-xs",children:s.map(((e,t)=>(0,a.jsx)("div",{className:"px-2 py-1.5 mb-1 rounded "+(i(e.id)?"bg-green-100 text-green-800 border-l-4 border-green-500":l(e.id)?"bg-[#d9f0f4] text-[#2d8c9e] font-medium border-l-4 border-[#2d8c9e]":"bg-gray-100 text-gray-600 border-l-4 border-gray-300"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[i(e.id)&&(0,a.jsx)(N,{className:"w-3 h-3 mr-1 text-green-600"}),(0,a.jsx)("span",{children:e.label})]})},e.id)))})}),(0,a.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center justify-between relative",children:[(0,a.jsx)("div",{className:"absolute h-[2px] bg-gray-300",style:{left:"40px",right:"40px",top:"24px"}}),s.map(((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col items-center",style:{width:100/s.length+"%",position:"relative",zIndex:1},children:[(0,a.jsxs)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full mb-2 relative "+(i(e.id)?"bg-green-100 border-2 border-green-500":l(e.id)?"bg-[#2d8c9e] text-white border-2 border-[#2d8c9e] shadow-md":"bg-white border-2 border-gray-300"),children:[(0,a.jsx)("span",{className:"text-lg",children:e.icon}),i(e.id)&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 bg-green-500 rounded-full w-6 h-6 flex items-center justify-center shadow-sm",children:(0,a.jsx)(N,{className:"text-white w-4 h-4"})})]}),(0,a.jsx)("span",{className:"text-xs text-center font-medium",children:e.label})]},e.id)))]}),(0,a.jsx)("div",{className:"lg:hidden",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600 text-center mt-3",children:[(0,a.jsxs)("span",{className:"inline-flex items-center mr-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 mr-1"}),(0,a.jsx)("span",{children:"Completed"})]}),(0,a.jsxs)("span",{className:"inline-flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-[#2d8c9e] mr-1"}),(0,a.jsx)("span",{children:"Current"})]})]})}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600 text-center mt-4",children:[(0,a.jsxs)("span",{className:"inline-flex items-center mr-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-500 mr-1"}),(0,a.jsx)("span",{children:"Completed"})]}),(0,a.jsxs)("span",{className:"inline-flex items-center mr-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#2d8c9e] mr-1"}),(0,a.jsx)("span",{children:"Current"})]}),(0,a.jsxs)("span",{className:"inline-flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-white border border-gray-300 mr-1"}),(0,a.jsx)("span",{children:"Upcoming"})]})]})})]})},kt=t=>{let{day:n,currentDay:r,onSelect:o,date:s,pretestDate:i,completedTests:l={}}=t;const c=n<r||Boolean(l[`training_day${n}`]),[u,d]=(0,e.useState)(!1),m=(()=>{const e=localStorage.getItem("userId");if(!e)return!1;const t=`progress_${e}_training_day${n}`;return null!==localStorage.getItem(t)})(),p=((e,t)=>{if(!e)return null;const n=(0,A.toEasternTime)(e);return n.setDate(n.getDate()+t),n})(i,n),f=(()=>{if(!p)return!1;const e=new Date(p);e.setHours(0,0,0,0);const t=new Date((0,A.getCurrentDateInEastern)());return t.setHours(0,0,0,0),t.getTime()>=e.getTime()})();1===n&&console.log(`Training day ${n} availability check:`,{expectedDate:p?new Date(p).toISOString():null,today:new Date((0,A.getCurrentDateInEastern)()).toISOString(),isDayAvailableToday:f,isIPadChromeDetected:wt()?"true":"false"});const g=!c&&n===r&&f;return(0,a.jsxs)(b,{className:`transition-all shadow-lg border border-gray-300 ${u?"border-[#406368]":""} ${g||c?"":"opacity-75"}`,children:[(0,a.jsx)(x,{className:u?"bg-[#f3ecda]":"",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-[#406368]",children:["Training Day ",n]}),(0,a.jsx)("div",{children:c?(0,a.jsx)(N,{className:"h-6 w-6 text-green-500"}):u?(0,a.jsx)(j,{className:"h-6 w-6 text-[#406368] animate-spin"}):g?(0,a.jsx)(C,{className:"h-6 w-6 text-[#406368]"}):(0,a.jsx)(_,{className:"h-6 w-6 text-gray-400"})})]})}),(0,a.jsx)(w,{children:u?(0,a.jsxs)("p",{className:"text-sm text-[#406368] font-medium flex items-center",children:[(0,a.jsx)(j,{className:"animate-spin h-4 w-4 mr-2"}),"Preparing audio files..."]}):(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[c?4===n?"Completed - Please return in 1 week for follow-up activities":`Completed - Please return tomorrow (${(()=>{const e=new Date;return e.setDate(e.getDate()+1),e.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})()}) for Day ${n+1}`:m?"In Progress - Continue":g?"Available Now":"Locked",s&&!c&&` \u2022 ${s}`]})}),(0,a.jsx)(v,{children:(0,a.jsxs)(h,{className:"w-full",disabled:!g||u||c,variant:c?"secondary":g?u?"outline":"default":"secondary",onClick:()=>{!g||c||u||(d(!0),setTimeout((()=>{d(!1),o("training",null,n)}),2e3))},children:[u?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(j,{className:"animate-spin h-4 w-4 mr-2"}),"Preparing Audio... (",Math.ceil(2-Date.now()%2e3/1e3),"s)"]}):(0,a.jsx)("span",{children:c?"Completed":m?"Continue Training":g?"Begin Training":"Locked"}),g&&!u&&(0,a.jsx)(T,{className:"ml-2 h-4 w-4"})]})})]})},Nt=t=>{let{currentPhase:n,trainingDay:r,pretestDate:o,trainingCompletedDate:s,canProceedToday:i=!1,completed:l=!1,onSelectPhase:c,isDemographicsCompleted:u,onPhaseTransition:d,completedTests:m={}}=t;console.log("PhaseSelection component rendering");const[p,f]=(0,e.useState)(!1),[g,y]=(0,e.useState)(null),[b,x]=(0,e.useState)({posttest1:!1,posttest2:!1}),[w,v]=(0,e.useState)(!1),[S,k]=(0,e.useState)({show:!1,title:"",message:"",type:""}),[N,C]=(0,e.useState)(!1),[_,P]=(0,e.useState)(!1),[O,R]=(0,e.useState)(!0),F=e.useMemo((()=>[{id:"intelligibility",title:"Intelligibility",description:"Type the complete phrase you hear (15 minutes)",type:"intelligibility",order:1},{id:"effort",title:"Listening Effort",description:"Type the final word and rate your listening effort (20 minutes)",type:"effort",order:2},{id:"comprehension",title:"Comprehension",description:"Listen to stories and answer questions (10 minutes)",type:"comprehension",order:3}]),[]),z=e.useCallback((()=>{if(console.log("Checking demographics completion with sources:",{serverStatusFlag:u,completedTestsObject:m,demographicsKey:m.demographics,pretest_demographicsKey:m.pretest_demographics,demographicsCompletedKeys:Object.keys(m).filter((e=>e.includes("demograph"))),userId:localStorage.getItem("userId"),localStorageGlobalFlag:localStorage.getItem("demographicsCompleted"),userSpecificLocalFlag:localStorage.getItem(`demographicsCompleted_${localStorage.getItem("userId")}`)}),u)return console.log("Demographics completed via isDemographicsCompleted prop"),!0;if(Object.entries(m).some((e=>{let[t,n]=e;return t.toLowerCase().includes("demograph")&&Boolean(n)})))return console.log("Demographics completed via completedTests object"),!0;if(Boolean(m.demographics)||Boolean(m.pretest_demographics))return console.log("Demographics completed via specific completedTests keys"),!0;const e=localStorage.getItem("userId"),t=e&&"true"===localStorage.getItem(`demographicsCompleted_${e}`),n="true"===localStorage.getItem("demographicsCompleted");return t?(console.log("Demographics completed via user-specific localStorage flag"),!0):n&&e?(console.log("Demographics completed via global localStorage flag with userID present"),!0):(console.log("Demographics NOT completed based on all checks"),!1)}),[u,m]);(0,e.useEffect)((()=>{console.log("Current phase:",n),console.log("Completed tests:",m),console.log("isDemographicsCompleted prop:",u);const e=z();console.log("Demographics completion status on phase/tests update:",e),!0!==m.demographics||w||(console.log("Fresh demographics completion detected - preparing special handling"),v(!0),setTimeout((()=>{v(!1),console.log("Post-demographics special handling period ended")}),6e4))}),[n,m,u,w,z]),(0,e.useEffect)((()=>{console.log("=== INITIAL DEMOGRAPHICS CHECK ==="),console.log("Prop isDemographicsCompleted:",u),console.log("completedTests object:",m);const e=Object.keys(m).find((e=>e.toLowerCase().includes("demograph")));e?console.log(`Found demographics key: ${e} with value:`,m[e]):console.log("No demographics keys found in completedTests");const t=localStorage.getItem("userId");console.log("userId from localStorage:",t),console.log("Global demographics flag:",localStorage.getItem("demographicsCompleted")),console.log("User-specific demographics flag:",localStorage.getItem(`demographicsCompleted_${t}`)),console.log("Final demographics completion status:",z())}),[u,m,z]),(0,e.useEffect)((()=>{console.log("Preloading completely disabled in phase selection"),n&&console.log(`Current phase is ${n} - NO automatic preloading`)}),[n]);const L=(e,t)=>{const n=localStorage.getItem("userId");if(!n)return!1;const r=`progress_${n}_${e}_${t}`;return null!==localStorage.getItem(r)},U=(e,t)=>{if("demographics"===t){const e=z();return console.log(`Demographics completion status from getTestStatus: ${e}`),{isAvailable:!e,isCompleted:e,hasProgress:!1}}const r=z();if("training"===e){const o=L(e,t);return{isAvailable:"training"===n&&r,isCompleted:m[`${e}_${t}`]||!1,hasProgress:o}}if("posttest1"===e||"posttest2"===e){const r="posttest1"===e?b.posttest1:b.posttest2,o=F.find((e=>e.type===t));if(!o)return{isAvailable:!1,isCompleted:!1};const a=m[`${e}_${t}`]||!1;if(1===o.order){const t=L(e,o.type);return{isAvailable:n===e&&r&&!a,isCompleted:a,hasProgress:t}}const s=F.find((e=>e.order===o.order-1)),i=m[`${e}_${s.type}`]||!1,l=L(e,o.type);return{isAvailable:n===e&&r&&i&&!a,isCompleted:a,hasProgress:l}}if("pretest"===e){const o=F.find((e=>e.type===t));if(!o)return{isAvailable:!1,isCompleted:!1};const a=m[`${e}_${t}`]||m[t];if(1===o.order){const t=L(e,o.type);return{isAvailable:("pretest"===n||"training"===n)&&r&&!a,isCompleted:a,hasProgress:t}}const s=F.find((e=>e.order===o.order-1)),i=m[`${e}_${s.type}`]||m[s.type],l=L(e,o.type);return{isAvailable:("pretest"===n||"training"===n)&&r&&i&&!a,isCompleted:a,hasProgress:l}}const o=F.find((e=>e.type===t));if(!o)return{isAvailable:!1,isCompleted:!1,hasProgress:!1};const a=m[`${e}_${t}`]||m[t],s=L(e,o.type);if(1===o.order)return{isAvailable:e===n&&r&&!a,isCompleted:a,hasProgress:s};const i=F.find((e=>e.order===o.order-1)),l=m[`${e}_${i.type}`]||m[i.type];return{isAvailable:e===n&&r&&l&&!a,isCompleted:a,hasProgress:s}},B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!o)return"";const n=(0,A.toEasternTime)(o);let r=0;switch(e){case"pretest":return(0,A.formatDate)(o);case"training":t&&(r=t);break;case"posttest1":r=12;break;case"posttest2":if(s){const e=(0,A.toEasternTime)(s),t=new Date(e);return t.setDate(t.getDate()+30),(0,A.formatDate)(t)}r=35;break;default:return"Date not available"}const a=new Date(n);return a.setDate(a.getDate()+r),(0,A.formatDate)(a)},q=e.useCallback((()=>Boolean(m.training_day1)&&Boolean(m.training_day2)&&Boolean(m.training_day3)&&Boolean(m.training_day4)),[m]),H=e.useCallback(((e,t)=>{if(!e)return null;const n=(0,A.toEasternTime)(e),r=new Date(n);r.setDate(r.getDate()+t);const o=r-(0,A.getCurrentDateInEastern)(),a=Math.ceil(o/864e5);return a>0?a:0}),[]),W=e.useCallback((()=>s?H(s,7):H(o,12)),[s,o,H]),Y=e.useCallback((()=>s?H(s,30):H(o,35)),[s,o,H]),V=e.useCallback(((e,t,r)=>{const o=(0,A.getCurrentDateInEastern)();if(t){const e=(0,A.toEasternTime)(t),r=new Date(e);r.setDate(r.getDate()+7);const a=new Date(e);return a.setDate(a.getDate()+30),console.log("Today (Eastern):",o),console.log("Training completed date (Eastern):",e),console.log("Posttest1 date (Eastern):",r),console.log("Posttest2 date (Eastern):",a),console.log("Days since training completed:",Math.floor((o-e)/864e5)),{posttest1:o>=r&&("posttest1"===n||"training"===n&&q()),posttest2:o>=a&&("posttest2"===n||l)}}if(e){const t=(0,A.toEasternTime)(e),r=new Date(t);r.setDate(r.getDate()+12);const a=new Date(t);return a.setDate(a.getDate()+35),console.log("Today (Eastern):",o),console.log("Pretest date (Eastern):",t),console.log("Posttest1 date (Eastern) [legacy]:",r),console.log("Posttest2 date (Eastern) [legacy]:",a),console.log("Days since pretest:",Math.floor((o-t)/864e5)),{posttest1:o>=r&&("posttest1"===n||"training"===n&&q()),posttest2:o>=a&&("posttest2"===n||l)}}return{posttest1:!1,posttest2:!1}}),[n,q]);(0,e.useEffect)((()=>{const e=V(o,s,r);console.log("Posttest availability:",e),x(e)}),[o,s,r,n,V]),(0,e.useEffect)((()=>{console.log("Training completion conditions:",{currentPhase:n,isTrainingCompleted:q(),trainingDay:r,training_day1:m.training_day1,training_day2:m.training_day2,training_day3:m.training_day3,training_day4:m.training_day4,posttest1Available:b.posttest1,daysUntilPosttest1:W()})}),[n,r,m,b,W,q]),(0,e.useEffect)((()=>{const e=F.every((e=>!0===m[`pretest_${e.type}`]));console.log("Auto-transition check:",{currentPhase:n,allPretestComplete:e,pretestDate:o?new Date(o).toISOString():null,isToday:!!o&&(0,A.isToday)(o),canProceedToday:i,userAgent:"undefined"!==typeof window?window.navigator.userAgent:"unknown"}),"pretest"===n&&e&&i&&(console.log("User returned on a different day after completing pretest - auto-transitioning to training"),setTimeout((()=>{"function"===typeof d&&d("training")}),1500))}),[n,o,i,d,m,F]),(0,e.useEffect)((()=>("true"===localStorage.getItem("pretest_completed")&&"pretest"===n&&(console.log("Detected pretest_completed flag - user has now seen the completion status"),localStorage.removeItem("pretest_completed"),k({show:!0,title:"Pretest Completed!",message:"Congratulations! You have completed all pretest activities. Please return tomorrow to begin your training.",type:"pretest"}),setTimeout((()=>{console.log("Now transitioning to training phase after user has seen pretest completion"),"function"===typeof d&&d("training")}),5e3)),()=>{})),[n,d]);const G=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(`Phase selection: ${e} ${t||""}, day ${n||"n/a"}`),console.log(`Immediately navigating to ${e} ${t||""} without any preloading`),f(!1),y(null),c(e,t,n),setTimeout((()=>{try{console.log(`Optional background stats for ${e} ${t||""}`)}catch(n){}}),1e3)},Q=F.every((e=>!0===m[`pretest_${e.type}`])),J=()=>S.show?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-[#f3ecda] rounded-lg max-w-md w-full p-6 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-[#406368]",children:S.title}),(0,a.jsx)($,{className:"h-6 w-6 text-[#406368]"})]}),(0,a.jsx)("p",{className:"text-[#6e6e6d] mb-6",children:S.message}),(0,a.jsx)(h,{className:"w-full bg-[#406368] hover:bg-[#6c8376]",onClick:()=>k({...S,show:!1}),children:"Continue"})]})}):null;return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12 px-4",children:[(0,a.jsx)(J,{}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[wt()?(0,a.jsx)("div",{className:"mb-6 bg-blue-100 border-l-4 border-blue-500 p-4 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(E,{className:"h-6 w-6 text-blue-500 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-blue-800",children:"iPad Chrome Detected"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"We've detected you're using Chrome on iPad. We've made special adjustments to ensure audio works correctly. If you experience any issues with audio playback, you can proceed by entering \"NA\" as your response after trying to play the audio."})]})]})}):null,"chrome"!==(()=>{if("undefined"===typeof window)return"unknown";const e=window.navigator.userAgent.toLowerCase();return e.indexOf("chrome")>-1?"chrome":e.indexOf("firefox")>-1?"firefox":e.indexOf("safari")>-1?"safari":e.indexOf("edge")>-1||e.indexOf("edg")>-1?"edge":e.indexOf("opr")>-1||e.indexOf("opera")>-1?"opera":"other"})()&&!wt()&&(0,a.jsx)("div",{className:"mb-6 bg-yellow-100 border-l-4 border-yellow-500 p-4 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-500 mr-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800",children:"Browser Compatibility Notice"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700",children:"This application works best in Google Chrome. Some features may not function correctly in other browsers."})]})]})}),!1,(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-[#406368] mb-2",children:"Communication Training Progress"}),o&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Started: ",(0,A.formatDate)(o)]})]}),O&&(0,a.jsx)(St,{currentPhase:n,completedTests:m,trainingDay:r,onClose:()=>R(!1)}),!O&&(0,a.jsx)("div",{className:"mb-4 text-center",children:(0,a.jsx)(h,{variant:"outline",className:"text-xs",onClick:()=>R(!0),children:"Show Study Timeline"})}),(0,a.jsxs)("div",{className:"mb-8 bg-[#f3ecda] border border-[#dad6d9] rounded-lg p-4 relative volume-adjustment-section",children:[(0,a.jsx)("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:()=>document.querySelector(".volume-adjustment-section").style.display="none","aria-label":"Close volume adjustment",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#406368] mb-2",children:"Volume Testing"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Use this audio sample to adjust your headphone volume to a comfortable level.",(0,a.jsx)("br",{}),"You can change the volume at any point during any of the activities."]})]}),(0,a.jsxs)("div",{className:"mt-4 md:mt-0",children:[(0,a.jsx)(h,{onClick:async()=>{try{C(!0),P(!1);const t=xt();console.log("Using audio settings:",t);const n=async()=>{const e=new Promise(((e,n)=>{setTimeout((()=>n(new Error("Audio loading timeout"))),t.timeout||1e4)}));try{return await Promise.race([M.playPracticeAudio(),e])}catch(n){throw console.error("Error in practice audio playback:",n),n}},r=wt()?2:1;let o=!1;for(let a=1;a<=r;a++)try{if(a>1&&(console.log(`Retry attempt ${a} for iPad Chrome practice audio`),await new Promise((e=>setTimeout(e,500))),M.dispose()),o=await n(),o){console.log("Practice audio played successfully!");break}}catch(e){console.error(`Practice audio attempt ${a} failed:`,e),a===r&&(P(!0),wt()&&(console.log("iPad Chrome detected - showing special error message for practice audio"),alert("Audio playback on iPad Chrome may be limited. You can continue with the activities anyway."))),M.dispose()}o||P(!0)}catch(e){console.error("Error playing practice audio:",e),P(!0)}finally{C(!1),M.dispose()}},disabled:N,className:"min-w-[150px] "+(_?"bg-red-500 hover:bg-red-600":"bg-[#406368] hover:bg-[#6c8376]"),children:N?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(j,{className:"h-4 w-4 mr-2 animate-spin"}),"Playing..."]}):_?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(D,{className:"h-4 w-4 mr-2"}),"Error"]}):(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(I,{className:"h-4 w-4 mr-2"}),"Play Sample Audio"]})}),_&&(0,a.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"Failed to play audio. Please ensure your headphones are connected."})]})]})]}),!z()&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-[#406368]",children:"Background Questionnaire"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-6",children:(0,a.jsx)(vt,{title:"Background Questionnaire",description:"Required before starting any activities",phase:"demographics",testType:"demographics",status:{isAvailable:!0,isCompleted:!1},onSelect:G,date:"Required first",isPreloading:!1})})]}),"pretest"===n&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-[#406368]",children:"Initial Activities"}),(0,a.jsxs)("p",{className:"mb-4",children:["Please wear ",(0,a.jsx)("strong",{children:"headphones"})," during all portions of this app. Please complete the activities in one session."]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:F.sort(((e,t)=>e.order-t.order)).map((e=>(0,a.jsx)(vt,{...e,phase:"pretest",status:U("pretest",e.type),date:B("pretest"),onSelect:G},e.id)))})]}),"pretest"===n&&u&&Q&&(!o||(0,A.isToday)(o)?(0,a.jsxs)("div",{className:"mb-8 text-center p-6 bg-[#f3ecda] rounded-lg border border-[#dad6d9]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,a.jsx)($,{className:"h-8 w-8 text-[#6c8376] mr-2"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-[#406368]",children:"Great job completing all tests!"}),(0,a.jsx)($,{className:"h-8 w-8 text-[#6c8376] ml-2"})]}),(0,a.jsx)("p",{className:"text-lg text-[#6c8376]",children:"Please return any time tomorrow to start the training."})]}):(0,a.jsxs)("div",{className:"mb-8 text-center p-4 bg-[#f3ecda] rounded-lg border border-[#dad6d9]",children:[(0,a.jsx)("p",{className:"text-[#6c8376] mb-4",children:"You have completed all pretest activities. You can now proceed to training."}),(0,a.jsxs)(h,{className:"bg-[#406368] hover:bg-[#6c8376]",onClick:()=>{"function"===typeof d&&d("training")},children:["Begin Training",(0,a.jsx)(T,{className:"ml-2 h-4 w-4"})]})]})),"training"===n&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-[#406368]",children:"Training Sessions"}),(0,a.jsxs)("p",{children:["Please wear ",(0,a.jsx)("strong",{children:"headphones"})," during all portions of this app. Please complete the activities in one session."]}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map((e=>(0,a.jsx)(kt,{day:e,currentDay:r,onSelect:G,date:B("training",e),isPreloading:p&&"training"===g&&e===r,pretestDate:o,completedTests:m},e)))})]}),"posttest1"===n&&b.posttest1&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-[#406368]",children:"1-Week Follow-up Activities"}),(0,a.jsxs)("p",{children:["Please wear ",(0,a.jsx)("strong",{children:"headphones"})," during all portions of this app. Please complete the activities in one session."]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Expected Date: ",B("posttest1")]}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.map((e=>(0,a.jsx)(vt,{...e,phase:"posttest1",status:U("posttest1",e.type),date:B("posttest1"),onSelect:G},e.id)))})]}),"posttest1"===n&&!b.posttest1&&(0,a.jsxs)("div",{className:"mb-8 text-center p-6 bg-[#f3ecda] rounded-lg border border-[#dad6d9]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-[#406368] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-[#406368]",children:"1-Week Follow-up Coming Soon"})]}),(0,a.jsxs)("p",{className:"text-lg text-[#406368]",children:["You've completed all training days! Your 1-week follow-up will be available in ",(0,a.jsxs)("span",{className:"font-bold",children:[W()," days"]}),"."]}),(0,a.jsxs)("p",{className:"text-sm text-[#6c8376] mt-2",children:["Please return on ",B("posttest1")," to complete the follow-up activities."]})]}),(()=>{return e="posttest1",F.every((t=>!0===m[`${e}_${t.type}`]));var e})()&&!b.posttest2&&Y()>0&&(0,a.jsxs)("div",{className:"mb-8 text-center p-6 bg-[#f3ecda] rounded-lg border border-[#dad6d9]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-[#406368] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-[#406368]",children:"1-Month Follow-up Coming Soon"})]}),(0,a.jsxs)("p",{className:"text-lg text-[#406368]",children:["You've completed the 1-week follow-up! Your 1-month follow-up will be available in ",(0,a.jsxs)("span",{className:"font-bold",children:[Y()," days"]}),"."]}),(0,a.jsxs)("p",{className:"text-sm text-[#6c8376] mt-2",children:["Please return on ",B("posttest2")," to complete the final activities."]})]}),b.posttest2&&!l&&!F.some((e=>m[`posttest2_${e.type}`]))&&(0,a.jsxs)("div",{className:"mb-4 text-center p-4 bg-[#f3ecda] rounded-lg border border-[#dad6d9]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-[#406368] mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-[#406368]",children:"Your 1-month follow-up is now available!"})]}),(0,a.jsx)("p",{className:"text-[#6c8376]",children:"Please complete the final activities to finish the study."})]}),"posttest2"===n&&b.posttest2&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-[#406368]",children:"1-Month Follow-up Activities"}),(0,a.jsxs)("p",{children:["Please wear ",(0,a.jsx)("strong",{children:"headphones"})," during all portions of this app. Please complete the activities in one session."]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Expected Date: ",B("posttest2")]}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.map((e=>(0,a.jsx)(vt,{...e,phase:"posttest2",status:U("posttest2",e.type),date:B("posttest2"),onSelect:G},e.id)))})]})]}),(0,a.jsx)(yt,{})]})},jt=()=>(0,a.jsx)("div",{className:"max-w-5xl mx-auto px-4 mb-12",children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-8",children:(0,a.jsxs)("div",{className:"prose mx-auto max-w-none",children:[(0,a.jsx)("h1",{className:"text-3xl text-center font-bold text-[#406368] mb-2",children:"Communication Training"}),(0,a.jsxs)("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-[#406368] mb-2",children:"Why use this app?"}),(0,a.jsx)("p",{children:"People with Parkinson's disease often find it challenging to improve their speech so that other people can better understand them. This can make conversations with friends, family, and community members difficult and lead to loneliness and depression."}),(0,a.jsx)("p",{children:"We have been able to improve people's ability to understand patients with Parkinson's disease previously through training. This study could lead to an alternative approach for improving communication for patients with Parkinson's disease."}),(0,a.jsx)("p",{children:"You are participating in a clinical trial that is testing this approach. In addition to potentially improving your own ability to understand your friend or family member, this will provide researchers and clinicians with evidence on the effectiveness of this approach for the broader Parkinson's disease community."})]})]})})}),Ct=k("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),_t=k("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Tt=t=>{let{userResponse:n,onResponseChange:r,onSubmit:o,currentStimulus:s,totalStimuli:l,onPlayAudio:c,isSubmitting:u,onBack:d}=t;const[m,p]=(0,e.useState)(!1),[f,y]=(0,e.useState)(!1),[x,v]=(0,e.useState)(!1),[S,k]=(0,e.useState)(n||""),N=(0,e.useRef)(null),j=(0,e.useRef)(!1),C=(0,e.useRef)(null),_=(0,e.useCallback)(((e,t)=>{let n;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...o)}),t)}})((e=>{r(e)}),300),[r]),T=(s+1)/l*100;(0,e.useEffect)((()=>(v(!1),p(!1),k(""),()=>{P()})),[s]),(0,e.useEffect)((()=>{n!==S&&k(n||"")}),[n]),(0,e.useEffect)((()=>()=>{P()}),[]);const P=()=>{N.current&&(clearTimeout(N.current),N.current=null),M.dispose(),j.current=!1},[$,E]=(0,e.useState)({browser:"unknown",isIpadChrome:!1});(0,e.useEffect)((()=>{if("undefined"===typeof window||!window.navigator)return;const e=window.navigator.userAgent,t=e.toLowerCase();let n="unknown",r=!1;const o=/iPad/i.test(e)||/Macintosh/i.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1,a=t.indexOf("chrome")>-1&&-1===t.indexOf("edg");a?n="chrome":t.indexOf("firefox")>-1?n="firefox":t.indexOf("safari")>-1?n="safari":t.indexOf("edg")>-1&&(n="edge"),o&&a&&(r=!0,n="ipadchrome",console.log("Detected iPad running Chrome")),E({browser:n,isIpadChrome:r}),console.log(`Device detection: browser=${n}, isIpadChrome=${r?"true":"false"}`)}),[]);return(0,a.jsx)(b,{className:"shadow-lg",children:(0,a.jsxs)(w,{className:"p-6 space-y-6",children:[d&&(0,a.jsx)(h,{variant:"ghost",onClick:()=>{P(),d&&d()},className:"mb-4 text-[#406368] hover:text-[#6c8376]",children:"\u2190 Back to Activity Selection"}),"chrome"!==$.browser&&"ipadchrome"!==$.browser?(0,a.jsxs)("div",{className:"mb-4 bg-yellow-100 border-l-4 border-yellow-500 p-3 rounded text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800",children:"Browser Warning"}),(0,a.jsx)("p",{className:"text-yellow-700",children:"Audio features work best in Google Chrome. Please switch browsers if you experience issues."})]}):null,$.isIpadChrome?(0,a.jsxs)("div",{className:"mb-4 bg-blue-100 border-l-4 border-blue-500 p-3 rounded text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-blue-800",children:"iPad Chrome Detection"}),(0,a.jsx)("p",{className:"text-blue-700",children:"We detected that you're using Chrome on iPad. If audio doesn't play correctly, you can enter \"NA\" as your response after trying to play."})]}):null,(0,a.jsxs)("div",{className:"mb-4 p-4 bg-[#f3ecda] rounded-lg border border-[#dad6d9]",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Instructions:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:'1. Click the "Play Audio" button to hear the phrase (you can only play it once)'}),(0,a.jsx)("li",{children:"2. Listen carefully to the entire phrase"}),(0,a.jsx)("li",{children:"3. Type exactly what you heard in the text box"}),(0,a.jsx)("li",{children:'4. Click "Submit Response" when you\'re ready'}),(0,a.jsx)("li",{className:"text-[#406368] font-medium",children:"Note: You must wait for the audio to finish playing completely before submitting"}),m&&(0,a.jsx)("li",{className:"text-red-500",children:'If audio is not available, enter "NA" as your response'})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:["Phrase ",s+1," of ",l]}),(0,a.jsxs)("span",{className:"text-[#406368] font-medium",children:[Math.round(T),"% Complete"]})]}),(0,a.jsx)("div",{className:"w-full h-2 bg-[#dad6d9] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-[#406368] rounded-full transition-all duration-300 ease-in-out",style:{width:`${T}%`}})})]}),(0,a.jsxs)("div",{className:"pt-4",children:[(0,a.jsx)(h,{onClick:async()=>{if(j.current)console.log("Audio already playing, ignoring additional play request");else{y(!0),j.current=!0,p(!1),v(!1),P();for(let n=1;n<=3;n++)try{console.log(`Attempt ${n} to play intelligibility audio...`);const e=xt().timeout||15e3;console.log(`Using timeout of ${e}ms for audio playback${bt()?" (iPad Chrome)":""}`);const t=new Promise(((t,n)=>{N.current=setTimeout((()=>{n(new Error("Audio playback timed out"))}),e)}));console.log("Attempting to play audio directly with randomization"),await Promise.race([c(),t]),N.current&&(clearTimeout(N.current),N.current=null),console.log("Intelligibility audio played successfully!"),v(!0);break}catch(e){if(console.error(`Attempt ${n} failed:`,e),N.current&&(clearTimeout(N.current),N.current=null),"AUDIO_NOT_FOUND"===e.message||e.message.includes("not found")||e.message.includes("404")||e.message.includes("timed out")){console.log("Critical audio error - providing fallback experience"),p(!0),v(!0),r("NA"),m||alert('Audio file could not be played. You can proceed by clicking Submit with "NA" as your response.');break}if(n>=3&&(console.log("All attempts failed, showing error"),p(!0),v(!0),r("NA"),m||alert('After multiple attempts, the audio could not be played. You can proceed by submitting "NA" as your response.')),M.dispose(),n<3)try{await new Promise((e=>setTimeout(e,1e3))),console.log(`Waiting before retry attempt ${n+1}...`)}catch(t){console.error("Error in retry delay:",t)}}y(!1),j.current=!1,M.dispose()}},disabled:f||x,className:`w-full h-16 text-lg flex items-center justify-center space-x-3 ${m?"bg-red-500 hover:bg-red-600":"bg-[#406368] hover:bg-[#6c8376]"} transition-colors`,children:f?(0,a.jsx)("span",{children:"Playing..."}):m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ct,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"Audio Not Available"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"Play Audio"})]})}),(0,a.jsx)("p",{className:"text-center text-sm text-gray-600 mt-2",children:m?(0,a.jsx)("span",{className:"text-red-500",children:'Audio file could not be found. Please enter "NA" as your response.'}):f?"Playing audio clip...":"Click to play the audio clip (may take a moment to load)"})]}),(0,a.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g,{htmlFor:"phraseInput",className:"text-sm font-medium text-gray-700",children:"Type the entire phrase you heard:"}),(0,a.jsx)(i,{id:"phraseInput",type:"text",ref:C,value:S,onChange:e=>{k(e.target.value),_(e.target.value)},onBlur:()=>r(S),onTouchStart:()=>{C.current&&setTimeout((()=>{C.current.focus()}),10)},placeholder:m?"Type NA":"Enter the phrase...",className:"w-full p-3 text-lg border-gray-200 focus:ring-[#406368] focus:border-[#406368]","data-mobile-input":"true",autoComplete:"off"})]}),(0,a.jsxs)(h,{onClick:o,disabled:(!n.trim()||!x||f||u)&&!("NA"===n.trim()&&m),className:"w-full h-12 mt-4 flex items-center justify-center space-x-2 bg-[#406368] hover:bg-[#6c8376] disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)("span",{children:u?"Submitting...":"Submit Response"}),(0,a.jsx)(_t,{className:"h-4 w-4"})]})]})]})})},Pt=t=>{let{userResponse:n,rating:r,onResponseChange:o,onRatingChange:s,onSubmit:l,currentStimulus:c,totalStimuli:u,onPlayAudio:d,isSubmitting:m=!1,onBack:p}=t;const f=(c+1)/u*100,[y,x]=(0,e.useState)(!1),[v,S]=(0,e.useState)(!1),[k,N]=(0,e.useState)(!1),[j,C]=(0,e.useState)(n||""),_=(0,e.useRef)(null),T=(0,e.useRef)(!1),P=(0,e.useRef)(null),$=(0,e.useCallback)(((e,t)=>{let n;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...o)}),t)}})((e=>{o(e)}),300),[o]);(0,e.useEffect)((()=>(x(!1),N(!1),C(""),()=>{E()})),[c]),(0,e.useEffect)((()=>{n!==j&&C(n||"")}),[n]),(0,e.useEffect)((()=>()=>{E()}),[]);const E=()=>{_.current&&(clearTimeout(_.current),_.current=null),M.dispose(),T.current=!1},[D,A]=(0,e.useState)({browser:"unknown",isIpadChrome:!1});(0,e.useEffect)((()=>{if("undefined"===typeof window||!window.navigator)return;const e=bt();console.log("Device detection in listening effort test: iPad Chrome detected: "+(e?"true":"false")),A({browser:e?"ipadchrome":"other",isIpadChrome:e})}),[]);return(0,a.jsx)(b,{className:"shadow-lg",children:(0,a.jsxs)(w,{className:"p-6 space-y-6",children:[p&&(0,a.jsx)(h,{variant:"ghost",onClick:()=>{E(),p&&p()},className:"mb-4 text-[#406368] hover:text-[#6c8376]",children:"\u2190 Back to Activity Selection"}),D.isIpadChrome?(0,a.jsxs)("div",{className:"mb-4 bg-blue-100 border-l-4 border-blue-500 p-3 rounded text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-blue-800",children:"iPad Chrome Detected"}),(0,a.jsx)("p",{className:"text-blue-700",children:"We've detected you're using Chrome on iPad. If audio doesn't play correctly, you can enter \"NA\" as your response and set any rating to continue."})]}):null,D.isIpadChrome||"undefined"===typeof window||window.navigator.userAgent.toLowerCase().includes("chrome")?null:(0,a.jsxs)("div",{className:"mb-4 bg-yellow-100 border-l-4 border-yellow-500 p-3 rounded text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800",children:"Browser Warning"}),(0,a.jsx)("p",{className:"text-yellow-700",children:"Audio features work best in Google Chrome. Please switch browsers if you experience issues."})]}),(0,a.jsxs)("div",{className:"mb-4 p-4 bg-[#f3ecda] rounded-lg border border-[#dad6d9]",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Instructions:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:'1. Click "Play Audio" to hear the phrase (you can only play it once)'}),(0,a.jsx)("li",{children:"2. Type the final word you heard"}),(0,a.jsx)("li",{children:"3. Rate how much effort it took to understand the audio"}),(0,a.jsx)("li",{children:'4. Click "Submit Response" when you\'re ready'}),(0,a.jsx)("li",{className:"text-[#406368] font-medium",children:"Note: You must wait for the audio to finish playing completely before submitting"}),k&&(0,a.jsx)("li",{className:"text-red-500",children:'If audio is not available, enter "NA" as your response'})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:["Phrase ",c+1," of ",u]}),(0,a.jsxs)("span",{className:"text-[#406368] font-medium",children:[Math.round(f),"% Complete"]})]}),(0,a.jsx)("div",{className:"w-full h-2 bg-[#dad6d9] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-[#406368] rounded-full transition-all duration-300 ease-in-out",style:{width:`${f}%`}})})]}),(0,a.jsxs)("div",{className:"pt-4",children:[(0,a.jsx)(h,{onClick:async()=>{if(T.current)console.log("Audio already playing, ignoring additional play request");else{S(!0),T.current=!0,N(!1),x(!1),E();for(let n=1;n<=3;n++)try{console.log(`Attempt ${n} to play effort audio...`);const e=xt().timeout||15e3;console.log(`Using timeout of ${e}ms for effort audio playback${bt()?" (iPad Chrome)":""}`);const t=new Promise(((t,n)=>{_.current=setTimeout((()=>{n(new Error("Audio playback timed out"))}),e)}));await Promise.race([d(),t]),_.current&&(clearTimeout(_.current),_.current=null),console.log("Effort audio played successfully!"),x(!0);break}catch(e){if(console.error(`Attempt ${n} failed:`,e),_.current&&(clearTimeout(_.current),_.current=null),"AUDIO_NOT_FOUND"===e.message||e.message.includes("not found")||e.message.includes("404")||e.message.includes("timed out")){console.log("Critical audio error - providing fallback for effort test"),N(!0),x(!0),o("NA"),r||s(1),k||alert('Audio file could not be played. You can proceed by entering "NA" as your response and setting a rating.');break}if(n>=3&&(console.log("All attempts failed, showing error"),N(!0),x(!0),o("NA"),r||s(1),k||alert('After multiple attempts, the audio could not be played. You can proceed with "NA" as your response.')),M.dispose(),n<3)try{await new Promise((e=>setTimeout(e,1e3))),console.log(`Waiting before retry attempt ${n+1}...`)}catch(t){console.error("Error in retry delay:",t)}}S(!1),T.current=!1,M.dispose()}},className:`w-full h-16 text-lg flex items-center justify-center space-x-3 \n                            ${v?"bg-[#6c8376]":k?"bg-red-500 hover:bg-red-600":y?"bg-[#6e6e6d] hover:bg-[#6e6e6d]":"bg-[#406368] hover:bg-[#6c8376]"} transition-colors`,disabled:y||v,children:v?(0,a.jsx)("span",{children:"Playing..."}):k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ct,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"Audio Not Available"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:y?"Audio Played":"Play Audio"})]})}),(0,a.jsx)("p",{className:"text-center text-sm text-gray-600 mt-2",children:k?(0,a.jsx)("span",{className:"text-red-500",children:'Audio file could not be found. Please enter "NA" as your response.'}):y?"Audio played successfully. Please complete your response below.":v?"Playing audio clip...":"Click to play the audio clip (may take a moment to load)"})]}),(0,a.jsxs)("div",{className:"space-y-6 pt-4 "+(y?"":"opacity-60"),children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(g,{htmlFor:"finalWordInput",className:"text-sm font-medium text-gray-700",children:["Type the ",(0,a.jsx)("strong",{children:"final word"})," you heard:"]}),(0,a.jsx)(i,{id:"finalWordInput",type:"text",ref:P,value:j,onChange:e=>{C(e.target.value),$(e.target.value)},onBlur:()=>o(j),onTouchStart:()=>{P.current&&setTimeout((()=>{P.current.focus()}),10)},placeholder:k?"Type NA":"Enter the final word...",className:"w-full p-3 text-lg border-gray-200 focus:ring-[#406368] focus:border-[#406368]",disabled:!y,"data-mobile-input":"true",autoComplete:"off"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(g,{className:"text-sm font-medium text-gray-700",children:"Rate your listening effort:"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-[#406368]",children:[r||1," - ",(O=r||1,O<=20?"Very Easy":O<=40?"Easy":O<=60?"Moderate":O<=80?"Hard":"Very Hard")]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"100",value:r||50,onChange:e=>s(parseInt(e.target.value)),className:"w-full h-2 bg-[#dad6d9] rounded-lg appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#406368]",style:{background:`linear-gradient(to right, #406368 ${r||1}%, #dad6d9 ${r||1}%)`},disabled:!y}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 px-1 mt-1",children:[(0,a.jsx)("span",{children:"No effort"}),(0,a.jsx)("span",{children:"Maximum effort"})]})]}),(0,a.jsx)("div",{className:"flex justify-between px-1",children:[1,25,50,75,100].map((e=>(0,a.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full"},e)))})]})]}),(0,a.jsxs)(h,{onClick:l,disabled:(!n.trim()||!r||!y||v||m)&&!("NA"===n.trim()&&k),className:"w-full h-12 mt-4 flex items-center justify-center space-x-2 bg-[#406368] hover:bg-[#6c8376] disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)("span",{children:m?"Submitting...":"Submit Response"}),(0,a.jsx)(_t,{className:"h-4 w-4"})]})]})]})});var O},$t=k("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Et=t=>{let{question:n,options:r,userResponse:o,onResponseChange:s,onSubmit:i,currentStimulus:l,totalStimuli:c,onPlayAudio:u,storyId:d,currentStoryIndex:m,isSubmitting:p=!1,onBack:f}=t;const[y,S]=(0,e.useState)(!1),[k,N]=(0,e.useState)(!1),[j,C]=(0,e.useState)(!1),[_,P]=(0,e.useState)(!1),[$,D]=(0,e.useState)(!0),[A,O]=(0,e.useState)(!1),R=(0,e.useRef)(null),F=(0,e.useRef)(!1);(0,e.useEffect)((()=>()=>{z()}),[]);const z=()=>{R.current&&(clearTimeout(R.current),R.current=null),M.dispose(),F.current=!1},L=["A","B","C","D","E"],U=0===m?(l+1)/c*50:1===m?50+(l+1)/c*50:(l+1)/c*100;(0,e.useEffect)((()=>{S(!1),C(!1),P(!1),O(!1),z()}),[d]),(0,e.useEffect)((()=>{O(null!==o&&""!==o&&void 0!==o)}),[o]);const B=void 0!==m?m+1:parseInt(d.replace("Comp_","")),q=()=>{D(!1)},H=()=>{z(),f&&f()},[W,Y]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{const e=bt();Y(e),e&&console.log("ComprehensionTest detected iPad Chrome")}),[]),$?(0,a.jsxs)(b,{className:"shadow-lg",children:[f&&(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(h,{variant:"ghost",onClick:H,className:"text-[#406368] hover:text-[#6c8376]",children:"\u2190 Back to Activity Selection"})}),(0,a.jsx)(x,{className:"bg-[#406368] text-white",children:(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Story Comprehension Activity"})}),(0,a.jsx)(w,{className:"p-6 space-y-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Instructions"}),(0,a.jsx)("p",{children:"In this next task, you will hear two stories (you can only play each story once). After each story, you will answer multiple choice questions about the story. The story will begin as soon as you click to play the audio. Multiple choice questions will use information from all parts of the story."}),(0,a.jsxs)("div",{className:"bg-[#f3ecda] p-4 rounded-lg border border-[#dad6d9] flex items-center space-x-2",children:[(0,a.jsx)(gt,{className:"h-5 w-5 text-[#406368]"}),(0,a.jsx)("p",{className:"text-[#406368]",children:"Please wear headphones during this test session."})]}),W?(0,a.jsxs)("div",{className:"bg-blue-100 p-4 rounded-lg border border-blue-300 flex items-start space-x-2",children:[(0,a.jsx)(E,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-blue-800",children:[(0,a.jsx)("p",{className:"font-medium",children:"iPad Chrome Detected"}),(0,a.jsx)("p",{className:"text-sm",children:'If audio doesn\'t play correctly, you can still proceed by clicking "Start Questions" and selecting an answer.'})]})]}):null]})}),(0,a.jsx)(v,{className:"pt-4",children:(0,a.jsxs)(h,{onClick:q,className:"w-full bg-[#406368] hover:bg-[#6c8376]",children:["Start Comprehension Activity",(0,a.jsx)(T,{className:"ml-2 h-4 w-4"})]})})]}):(0,a.jsx)(b,{className:"shadow-lg",children:(0,a.jsxs)(w,{className:"p-6 space-y-6",children:[f&&(0,a.jsx)(h,{variant:"ghost",onClick:H,className:"mb-4 text-[#406368] hover:text-[#6c8376]",children:"\u2190 Back to Phase Selection"}),(0,a.jsxs)("div",{className:"mb-4 p-4 bg-[#f3ecda] rounded-lg border border-[#dad6d9]",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Instructions:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-[#406368] mr-2",children:"1."}),"Listen to the complete story first (you can only play it once)"]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-[#406368] mr-2",children:"2."}),'Click "Start Questions" after listening']}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-[#406368] mr-2",children:"3."}),"Answer each question about the story"]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-[#406368] mr-2",children:"4."}),'Click "Submit Answer" to proceed']}),j&&(0,a.jsxs)("li",{className:"flex items-start text-red-500",children:[(0,a.jsx)("span",{className:"text-red-500 mr-2",children:"*"}),"If audio is not available, select an answer to continue"]}),W&&(0,a.jsxs)("li",{className:"flex items-start text-blue-600 mt-2",children:[(0,a.jsx)("span",{className:"text-blue-600 mr-2",children:"*"}),"iPad Chrome: If audio doesn't play properly, you can still proceed with the questions"]})]})]}),!W||y||j?null:(0,a.jsx)("div",{className:"mb-4 bg-blue-100 p-3 rounded-md border border-blue-300",children:(0,a.jsxs)("div",{className:"flex items-center text-blue-800",children:[(0,a.jsx)(E,{className:"h-5 w-5 mr-2 text-blue-600"}),(0,a.jsx)("p",{className:"text-sm",children:"Stories may take longer to load on iPad Chrome. If loading fails, you can still continue with the questions."})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)($t,{className:"h-5 w-5 text-[#406368]"}),(0,a.jsxs)("span",{className:"text-lg font-medium text-gray-900",children:["Story ",B," of 2"]})]}),(0,a.jsxs)("span",{className:"text-[#406368] font-medium",children:[Math.round(U),"% Complete"]})]}),(0,a.jsxs)("div",{className:"w-full h-2 bg-[#dad6d9] rounded-full overflow-hidden relative",children:[(0,a.jsx)("div",{className:"h-full bg-[#406368] rounded-full transition-all duration-300 ease-in-out",style:{width:`${U}%`}}),(0,a.jsx)("div",{className:"absolute top-[-4px] left-[50%] translate-x-[-50%] w-[2px] h-[10px] bg-white"})]})]}),(0,a.jsxs)("div",{className:"pt-2",children:[(0,a.jsx)(h,{onClick:async()=>{if(F.current)return void console.log("Story audio already playing, ignoring additional play request");j&&(console.log("Retrying audio playback after previous error"),S(!1)),N(!0),F.current=!0,C(!1),P(!1),z();xt();const e=bt(),t=e?3e4:6e4;console.log(`Using timeout of ${t}ms for story audio${e?" (iPad Chrome)":""}`);const n=new Promise(((e,n)=>{R.current=setTimeout((()=>{n(new Error("Audio playback timed out"))}),t)}));try{console.log(`Playing full story audio for ${d}`);let e=!1;const t=()=>{console.log("Detected audio is playing - adjusting timeout"),e=!0,R.current&&(clearTimeout(R.current),R.current=setTimeout((()=>{console.log("Extended audio playback timeout reached"),C(!0),S(!0)}),12e4))};"undefined"!==typeof window&&window.addEventListener("audio-playing",t);try{await Promise.race([u(d),n]),R.current&&(clearTimeout(R.current),R.current=null),S(!0),console.log("Story audio played successfully")}finally{"undefined"!==typeof window&&window.removeEventListener("audio-playing",t)}}catch(r){console.error("Error playing story audio:",r),R.current&&(clearTimeout(R.current),R.current=null),("AUDIO_NOT_FOUND"===r.message||r.message.includes("not found")||r.message.includes("404")||r.message.includes("timed out"))&&(C(!0),S(!0),null===o&&(s(0),console.log("Auto-selected first answer option due to audio error")),P(!0),alert("Story audio could not be played. You can proceed with the questions by selecting any answer option."))}finally{N(!1),F.current=!1,M.dispose()}},className:"w-full h-16 text-lg flex items-center justify-center space-x-3 transition-colors "+(k?"bg-[#6c8376]":j?"bg-[#406368] hover:bg-[#6c8376]":y?"bg-[#6e6e6d] hover:bg-[#6e6e6d] cursor-not-allowed":"bg-[#406368] hover:bg-[#6c8376]"),disabled:!j&&y||k||p,children:k?(0,a.jsx)("span",{className:"animate-pulse",children:"Playing Story Audio..."}):j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ct,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:"Retry Audio"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I,{className:"h-6 w-6"}),(0,a.jsx)("span",{children:y?"Story Audio Played":"Play Story Audio"})]})}),j?(0,a.jsx)("p",{className:"text-center text-sm text-red-600 mt-2 font-medium",children:"Story audio could not be found. Please continue with the questions."}):y?_?(0,a.jsx)("p",{className:"text-center text-sm text-[#6c8376] mt-2",children:"Please answer all questions about the story."}):(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)(h,{onClick:()=>P(!0),className:"bg-[#6c8376] hover:bg-[#406368]",children:[(0,a.jsx)(T,{className:"h-4 w-4 mr-2"}),"Start Questions"]})}):(0,a.jsx)("p",{className:"text-center text-sm text-[#406368] mt-2 font-medium",children:"You must listen to the complete story before answering questions"})]}),_&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-[#f3ecda] p-4 rounded-lg border border-[#dad6d9]",children:(0,a.jsx)(g,{className:"block text-lg font-medium text-gray-800",children:n})}),(0,a.jsx)("div",{className:"space-y-3",children:r.map(((e,t)=>(0,a.jsx)("div",{className:`p-3 rounded-md border ${o===t?"border-[#406368] bg-[#f3ecda]":"border-[#dad6d9] bg-white"} cursor-pointer hover:bg-[#f3ecda]`,onClick:()=>!p&&s(t),children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded-full border "+(o===t?"border-[#406368] bg-[#406368] text-white":"border-[#6e6e6d]"),children:L[t]}),(0,a.jsx)("span",{className:"text-gray-700",children:e})]})},t)))}),(0,a.jsx)(h,{onClick:()=>{p||i()},disabled:(!A||p)&&!(j&&null!==o),className:"w-full h-12 mt-4 flex items-center justify-center space-x-2 bg-[#406368] hover:bg-[#6c8376] disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"animate-spin mr-2",children:"\u25cf"}),"Submitting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Submit Answer"}),(0,a.jsx)(_t,{className:"h-4 w-4"})]})})]})]})})},Dt={Comp_01:{name:"Story 1: Baseball Game",questions:[{id:"Comp_01_01",question:"The game was played about:",options:["2:00","12:00","7:00","4:00","9:00"],answer:"C"},{id:"Comp_01_02",question:"When George got to his seat, he:",options:["Bought a hot dog","Pretented to play baseball","Put on a baseball cap","Wanted a better seat","Put film in his camera"],answer:"B"},{id:"Comp_01_03",question:"George told everyone around him that:",options:["He planned to catch a home run ball","He was a sports announcer","His son was a famous baseball star","He deserved a better seat","He had played baseball in high school"],answer:"E"},{id:"Comp_01_04",question:"The batter:",options:["Struck out","Hit a ground ball","Hit a foul ball","Hit a home run","Walked"],answer:"C"},{id:"Comp_01_05",question:"During the game, George:",options:["Missed the ball","Caught the ball","Pretended to catch the ball","Got hit by the ball","Threw the ball back"],answer:"A"},{id:"Comp_01_06",question:"George tried to catch the baseball:",options:["At the beginning of the game","In the middle of the game","Before the game","At the end of the game","After the game"],answer:"B"},{id:"Comp_01_07",question:"The ball was found by:",options:["Hotdog vender","George","A security guard","A bat boy","A recruiter"],answer:"E"},{id:"Comp_01_08",question:"George was approached by a:",options:["Baseball scout","Doctor","Baseball player","Man with the circus","Hotdog vendor"],answer:"D"},{id:"Comp_01_09",question:"The man gave George",options:["A business card","An autographed baseball","A ride to the hospital","Help getting up","A hotdog"],answer:"A"},{id:"Comp_01_10",question:"George wanted the man to:",options:["Bring him a hotdog","Sign his baseball","Help him back to his seat","Recruit him for a team","Take him to the hospital"],answer:"D"}]},Comp_02:{name:"Story 2: Paint Salesman",questions:[{id:"Comp_02_01",question:"Jim was:",options:["A mailman","An insurance salesman","A paint salesman","A repairman","A real estate agent"],answer:"C"},{id:"Comp_02_02",question:"Jim was driving:",options:["On an interstate","Through the city","Near his home","Through the suburbs","Through the country"],answer:"E"},{id:"Comp_02_03",question:"It was a:",options:["Cold, cloudy day","Hot, sunny day","Cold, rainy night","Warm, rainy night","Cool, sunny evening"],answer:"B"},{id:"Comp_02_04",question:"While waiting, Jim:",options:["Listened to the radio","Took a nap","Ate a snack","Sat down under a tree","Checked the oil"],answer:"D"},{id:"Comp_02_05",question:"Jim's car stopped running:",options:["On his way home at night","After he had made many stops","Early in the day","On his way to lunch","During a bad rainstorm"],answer:"C"},{id:"Comp_02_06",question:"Jim decided to:",options:["Cancel an appointment","Walk to get help","Call a tow truck","Get a ride to town","Call his boss"],answer:"B"},{id:"Comp_02_07",question:"The car Jim was driving was:",options:["Fairly new","Rented","Rarely driven","Just repaired","Very old"],answer:"A"},{id:"Comp_02_08",question:"Jim's car:",options:["Had a dead battery","Was leaking oil","Had a bad transmission","Was out of gas","Was overheated"],answer:"D"},{id:"Comp_02_09",question:"While walking, Jim stopped to:",options:["Use a pay phone","Fill the gas can","Flag down a passing car","Ask a young lady for help","Talk to an old man"],answer:"E"},{id:"Comp_02_10",question:"The gas station was:",options:["Over two miles","About a mile","Just around the bend","Closed that day","Out of gas"],answer:"A"}]},Comp_03:{name:"Story 3: Library Visit",questions:[{id:"Comp_03_01",question:"Henry went to the:",options:["Bank","Hospital","Bookstore","Library","Airport"],answer:"D"},{id:"Comp_03_02",question:"On that day, it was:",options:["Raining","Hot","Snowing","Windy","Pleasant"],answer:"A"},{id:"Comp_03_03",question:"The woman Henry spoke to:",options:["Had long hair","Wore glasses","Had gray hair","Wore a skirt","Wore a sweater"],answer:"C"},{id:"Comp_03_04",question:"When Henry approached the woman, she was:",options:["Talking on the phone","Helping a customer","Reading a book","Shelving books","Sorting papers"],answer:"E"},{id:"Comp_03_05",question:"Henry had trouble:",options:["Remembering","Talking","Concentrating","Seeing","Learning"],answer:"A"},{id:"Comp_03_06",question:"The woman was:",options:["Pleased","Disappointed","Irritated","Furious","Relieved"],answer:"C"},{id:"Comp_03_07",question:"The woman:",options:["Asked Henry to leave","Filled out a report","Took back the book","Called the supervisor","Took away Henry's privileges"],answer:"B"},{id:"Comp_03_08",question:"The book was:",options:["Replaced","Returned","Damaged","Lost","Found"],answer:"D"},{id:"Comp_03_09",question:"Henry had been:",options:["Away at school","On a business trip","On a cruise","At home","On vacation"],answer:"E"},{id:"Comp_03_10",question:"Henry left the book in:",options:["Florida","Mexico","California","Bermuda","Puerto Rico"],answer:"B"}]},Comp_04:{name:"Story 4: Student Loan",questions:[{id:"Comp_04_01",question:"Neil asked his parents to:",options:["Lend him their car","Give him some money","Sign some forms","Take him out to eat","Give him some advice"],answer:"A"},{id:"Comp_04_02",question:"Neil wanted to:",options:["Pay off his loan","Join the army","Get married","Stay in school","Start a business"],answer:"D"},{id:"Comp_04_03",question:"Neil needed money:",options:["To repay student loans","For tuition","For rent","To buy a ring","For a computer"],answer:"B"},{id:"Comp_04_04",question:"In an attempt to get money, Neil:",options:["Sold his car","Got a job","Went to the bank","Asked his parents","Applied for a scholarship"],answer:"C"},{id:"Comp_04_05",question:"Neil went to the bank:",options:["With his fianc\xe9","In the morning","In the afternoon","At lunchtime","With his parents"],answer:"C"},{id:"Comp_04_06",question:"The woman asked Neil:",options:["About his monthly expenses","About his marital status","For his parents' signatures","To fill out a form","About his grades"],answer:"E"},{id:"Comp_04_07",question:"Neil was:",options:["Determined","Optimistic","Impatient","Lazy","Nervous"],answer:"E"},{id:"Comp_04_08",question:"Neil said he ate a:",options:["Pickle sandwich","Macaroni sandwich","Mayonnaise sandwich","Lettuce sandwich","Cheese sandwich"],answer:"B"},{id:"Comp_04_09",question:"The woman thought Neil's lunch was:",options:["Tasty","Expensive","Healthy","Not enough","Strange"],answer:"E"},{id:"Comp_04_10",question:"The woman:",options:["Offered to cook for Neil","Asked Neil to leave","Turned Neil down","Changed her mind","Called Neil's parents"],answer:"D"}]},Comp_05:{name:"Story 5: House Painters",questions:[{id:"Comp_05_01",question:"Fred and Ben had a business in:",options:["Gardening","Siding","Carpentry","Painting","Roofing"],answer:"D"},{id:"Comp_05_02",question:"Fred and Ben were:",options:["Neighbors","Brothers","Friends","Cousins","Father and son"],answer:"D"},{id:"Comp_05_03",question:"Mrs. Foster called the men on:",options:["Saturday","Sunday","Wednesday","Thursday","Monday"],answer:"E"},{id:"Comp_05_04",question:"Mrs. Foster found out about the painters from:",options:["The local hardware store","The newspaper","Signs","Friends","Yellow pages"],answer:"B"},{id:"Comp_05_05",question:"Mrs. Foster was their:",options:["100th customer","Best customer","1st customer","500th customer","Least favorite customer"],answer:"C"},{id:"Comp_05_06",question:"Fred and Ben were painting a:",options:["Two-story house","Garage","Fence","One-story house","Barn"],answer:"A"},{id:"Comp_05_07",question:"Mrs. Foster asked Fred and Ben to:",options:["Paint her house on Saturday","Help choose a paint color","Give her a discount","Meet with her by Tuesday","Paint her house quickly"],answer:"E"},{id:"Comp_05_08",question:"Mrs. Foster needed the house painted for:",options:["Her daughter's wedding","Her 50th anniversary party","An open house","Her husband's birthday","Her 25th anniversary party"],answer:"A"},{id:"Comp_05_09",question:"The man came around the house at about:",options:["5 p.m.","3 p.m.","1 p.m.","2 p.m.","4 p.m."],answer:"B"},{id:"Comp_05_10",question:"Fred and Ben:",options:["Ran out of paint","Used the wrong color of paint","Painted the house too late","Painted the wrong house","Painted the windows shut"],answer:"D"}]},Comp_06:{name:"Story 6: Restaurant Visit",questions:[{id:"Comp_06_01",question:"Sam traveled by:",options:["Bicycle","Subway","Bus","Car","Motorcycle"],answer:"C"},{id:"Comp_06_02",question:"The story took place:",options:["In a mall","Downtown","At a high school","In the summer","In the fall"],answer:"B"},{id:"Comp_06_03",question:"After running his errands, Sam went to:",options:["Eat lunch","Meet with students","A bus stop","His office","Meet his wife"],answer:"A"},{id:"Comp_06_04",question:"Sam was:",options:["Recently married","Young","Divorced","Middle-aged","Old"],answer:"E"},{id:"Comp_06_05",question:"Sam wanted to eat at a restaurant that was:",options:["Quiet","Cheap","Quick","Nearby","Familiar"],answer:"A"},{id:"Comp_06_06",question:"Sam went into a restaurant that:",options:["Was crowded with teenagers","Had a sign in the window","Was close to his office","He ate at regularly","Had a senior discount"],answer:"B"},{id:"Comp_06_07",question:"Sam ordered a:",options:["Grilled cheese sandwich","Goat sandwich","Rabbit sandwich","Buffalo sandwich","Turkey sandwich"],answer:"B"},{id:"Comp_06_08",question:"When Sam placed his order, the waitress:",options:["Suggested something else","Was shocked by it","Put it in right away","Wrote it down wrong","Asked the cook about it"],answer:"E"},{id:"Comp_06_09",question:"Sam tried to order a sandwich that would:",options:["Taste good","Arrive very quickly","Prove the sign wrong","Be healthy","Be inexpensive"],answer:"C"},{id:"Comp_06_10",question:"The price of the sandwich was:",options:["$1.49","$.99","$2.99","$1.99","$2.09"],answer:"D"}]}},It=k("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),At=e=>{var t,n,r,o,s;let{formData:l,setFormData:c,errors:u}=e;const d=(null===(t=l.researchData)||void 0===t?void 0:t.hearingTestType)||"",m=e=>{const{name:t,value:n}=e.target;if("hearingTestType"===t)c((e=>({...e,researchData:{...e.researchData,hearingTestType:n,..."Full Threshold Testing"!==n&&{hearingThresholds:[]},..."Hearing Screened"!==n&&{hearingScreenResult:""}}})));else if("hearingScreenResult"===t)c((e=>({...e,researchData:{...e.researchData,hearingScreenResult:n}})));else if(t.startsWith("threshold")){const[e,r,o]=t.split("_");c((e=>{var t;const a=[...(null===(t=e.researchData)||void 0===t?void 0:t.hearingThresholds)||[]],s=a.findIndex((e=>e.frequency===parseInt(r)));return s>=0?a[s]={...a[s],[o]:""===n?void 0:parseInt(n)}:a.push({frequency:parseInt(r),[o]:""===n?void 0:parseInt(n)}),{...e,researchData:{...e.researchData,hearingThresholds:a}}}))}},p=(e,t)=>{var n,r;const o=null===(n=l.researchData)||void 0===n||null===(r=n.hearingThresholds)||void 0===r?void 0:r.find((t=>t.frequency===e));return void 0!==(null===o||void 0===o?void 0:o[t])?o[t]:""};return(0,a.jsxs)("div",{className:"space-y-8 border-gray-200 mt-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(g,{htmlFor:"hearingTestType",className:"text-base",children:"Hearing Test Type:"}),(0,a.jsxs)("select",{id:"hearingTestType",name:"hearingTestType",value:d,onChange:m,className:"w-full rounded-md border border-gray-300 p-2 mt-2",children:[(0,a.jsx)("option",{value:"",children:"Select Test Type"}),(0,a.jsx)("option",{value:"Full Threshold Testing",children:"Full Threshold Testing"}),(0,a.jsx)("option",{value:"Hearing Screened",children:"Hearing Screened"}),(0,a.jsx)("option",{value:"Hearing Not Tested",children:"Hearing Not Tested"}),(0,a.jsx)("option",{value:"Hearing Not Tested (Wearing Hearing Aids)",children:"Hearing Not Tested (Wearing Hearing Aids)"})]}),(null===u||void 0===u||null===(n=u.researchData)||void 0===n?void 0:n.hearingTestType)&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.researchData.hearingTestType})]}),"Hearing Screened"===d&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(g,{htmlFor:"hearingScreenResult",className:"text-base",children:"Hearing Screen Result:"}),(0,a.jsxs)("select",{id:"hearingScreenResult",name:"hearingScreenResult",value:(null===(r=l.researchData)||void 0===r?void 0:r.hearingScreenResult)||"",onChange:m,className:"w-full rounded-md border border-gray-300 p-2 mt-2",children:[(0,a.jsx)("option",{value:"",children:"Select Result"}),(0,a.jsx)("option",{value:"Pass",children:"Pass"}),(0,a.jsx)("option",{value:"Fail",children:"Fail"})]}),(null===u||void 0===u||null===(o=u.researchData)||void 0===o?void 0:o.hearingScreenResult)&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.researchData.hearingScreenResult})]}),"Full Threshold Testing"===d&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("p",{className:"text-base text-gray-600 italic",children:"Enter hearing thresholds in dB HL. Leave blank if not tested."}),(0,a.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-medium mb-4",children:"Right Ear"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[250,500,1e3,2e3,4e3,8e3].map((e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)(g,{htmlFor:`threshold_${e}_rightEar`,className:"font-medium",children:[e," Hz"]}),(0,a.jsx)(i,{id:`threshold_${e}_rightEar`,name:`threshold_${e}_rightEar`,placeholder:"dB HL",type:"number",min:"-10",max:"120",value:p(e,"rightEar"),onChange:m,className:"mt-1"})]},`right-${e}`)))})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-medium mb-4",children:"Left Ear"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[250,500,1e3,2e3,4e3,8e3].map((e=>(0,a.jsxs)("div",{children:[(0,a.jsxs)(g,{htmlFor:`threshold_${e}_leftEar`,className:"font-medium",children:[e," Hz"]}),(0,a.jsx)(i,{id:`threshold_${e}_leftEar`,name:`threshold_${e}_leftEar`,placeholder:"dB HL",type:"number",min:"-10",max:"120",value:p(e,"leftEar"),onChange:m,className:"mt-1"})]},`left-${e}`)))})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)(g,{htmlFor:"notes",className:"text-base",children:"Notes:"}),(0,a.jsx)("textarea",{id:"notes",name:"notes",value:(null===(s=l.researchData)||void 0===s?void 0:s.notes)||"",onChange:e=>c((t=>({...t,researchData:{...t.researchData,notes:e.target.value}}))),className:"w-full rounded-md border border-gray-300 p-3 mt-2",rows:4,placeholder:"Add any additional notes about the hearing assessment"})]})]})},Ot=e=>{let{label:t,name:n,value:r,onChange:o,options:s,error:i}=e;return(0,a.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,a.jsx)(g,{htmlFor:n,className:"text-base",children:t}),(0,a.jsxs)("select",{id:n,name:n,value:r,onChange:o,className:`w-full rounded-md border ${i?"border-red-500":"border-gray-300"} p-2 mt-1`,children:[(0,a.jsx)("option",{value:"",children:"Select an option"}),s.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))]}),i&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i})]})},Rt=e=>{let{label:t,name:n,value:r,onChange:o,options:s,error:i}=e;return(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsx)(g,{className:"text-base",children:t}),(0,a.jsx)("div",{className:"space-y-3 pl-1",children:s.map((e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"radio",id:`${n}-${e}`,name:n,value:e,checked:r===e,onChange:e=>o("true"===e.target.value||"false"!==e.target.value&&e.target.value),className:"form-radio h-4 w-4 text-[#406368]"}),(0,a.jsx)(g,{htmlFor:`${n}-${e}`,className:"font-normal",children:e})]},e)))}),i&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i})]})},Ft=t=>{let{onSubmit:n,onBack:r}=t;const[s,l]=(0,e.useState)({dateOfBirth:"",ethnicity:"",race:"",sexAssignedAtBirth:"",isEnglishPrimary:"",cognitiveImpairment:"",hearingLoss:"",hearingAids:"",relationshipToPartner:"",relationshipOther:"",communicationFrequency:"",communicationType:"",formCompletedBy:"Research Personnel",researchData:{hearingTestType:"",hearingScreenResult:"",hearingThresholds:[],notes:""}}),[c,u]=(0,e.useState)({}),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{try{const t=localStorage.getItem("token"),n=localStorage.getItem("userId");if(!t||!n)return void console.warn("Missing token or userId, skipping demographics fetch");console.log(`Checking for existing demographics for user: ${n}`);try{const e=await fetch(`${o.API_BASE_URL}/api/demographics/${n}`,{headers:{Authorization:`Bearer ${t}`}});if(e.ok){const t=await e.json();if(t){if(console.log("Found existing demographics data, pre-filling form"),t.dateOfBirth){const e=new Date(t.dateOfBirth);t.dateOfBirth=e.toISOString().split("T")[0]}l(t),f("Research Personnel"===t.formCompletedBy)}}else 404===e.status?console.log("No existing demographics found, using default form"):console.warn(`Unexpected response from demographics API: ${e.status}`)}catch(e){console.warn("Error fetching demographics, continuing with empty form:",e)}}catch(t){console.error("Error in demographics check:",t)}})()}),[]);const y=e=>{const{name:t,value:n}=e.target;if(t.includes(".")){const[e,r]=t.split(".");l((t=>({...t,[e]:{...t[e],[r]:n}})))}else l((e=>({...e,[t]:n}))),"formCompletedBy"===t&&f("Research Personnel"===n)},S=(e,t)=>{l((n=>({...n,[e]:"Yes"===t?"Yes":"No"===t?"No":t})))};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12 px-4",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsxs)(b,{className:"shadow-lg !border-0",children:[(0,a.jsxs)(x,{className:"bg-[#406368] text-white pb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Background Information"}),(0,a.jsx)("p",{className:"text-white text-opacity-90 mt-2",children:"Please complete all fields to continue with the study"}),c.general&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-red-100 border-l-4 border-red-500 text-red-700 rounded",children:c.general})]}),(0,a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!d){m(!0);try{if(!(()=>{const e={};if(["dateOfBirth","ethnicity","race","sexAssignedAtBirth","isEnglishPrimary","cognitiveImpairment","hearingLoss","hearingAids","relationshipToPartner","communicationFrequency","communicationType","formCompletedBy"].forEach((t=>{s[t]||(e[t]=`${t.replace(/([A-Z])/g," $1").toLowerCase()} is required`)})),"Other"!==s.relationshipToPartner||s.relationshipOther||(e.relationshipOther="Please specify the relationship"),s.dateOfBirth){const t=new Date(s.dateOfBirth);isNaN(t.getTime())?e.dateOfBirth="Please enter a valid date":t>new Date&&(e.dateOfBirth="Date of birth cannot be in the future")}var t,n,r;return p?(null!==(t=s.researchData)&&void 0!==t&&t.hearingTestType||(e.researchData={...e.researchData,hearingTestType:"Hearing test type is required"}),"Hearing Screened"!==(null===(n=s.researchData)||void 0===n?void 0:n.hearingTestType)||null!==(r=s.researchData)&&void 0!==r&&r.hearingScreenResult||(e.researchData={...e.researchData,hearingScreenResult:"Hearing screen result is required"})):l((e=>({...e,researchData:{...e.researchData,hearingTestType:"Hearing Not Tested"}}))),u(e),0===Object.keys(e).length&&(!e.researchData||0===Object.keys(e.researchData).length)})())return void m(!1);const e={...s,dateOfBirth:new Date(s.dateOfBirth)};"Participant"===s.formCompletedBy&&(e.researchData={hearingTestType:"Hearing Not Tested",hearingScreenResult:"",hearingThresholds:[],notes:""});const a=localStorage.getItem("token"),i=await fetch(`${o.API_BASE_URL}/api/demographics`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),c=await i.json();if(!i.ok){if(400===i.status&&c.error&&c.error.includes("Demographics already exist"))return console.log("Demographics already exist, proceeding as if submission was successful"),console.log("Completely separating demographics from pretest - no preloading here"),void n();throw new Error(c.error||"Failed to submit form")}const d=localStorage.getItem("userId");d?(console.log(`Saving demographics completion status for user: ${d}`),localStorage.setItem("demographicsCompleted","true"),localStorage.setItem(`demographicsCompleted_${d}`,"true")):(console.warn("No userId found when trying to save demographics completion"),localStorage.setItem("demographicsCompleted","true")),console.log("Demographics completed - ensuring pretest date is set");try{const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Setting pretest date timed out"))),1e4)})),n=fetch(`${o.API_BASE_URL}/api/update-pretest-date`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),r=await Promise.race([n,e]);if(!r.ok)throw new Error(`Server error: ${r.status}`);const s=await r.json();if(console.log("Pretest date successfully set:",s.message),s.pretestDate)try{sessionStorage.setItem("pretestDate",s.pretestDate)}catch(t){console.warn("Could not save pretestDate to sessionStorage:",t)}}catch(r){console.error("Error updating pretest date after demographics:",r),setTimeout((()=>{console.log("Retrying pretest date setting..."),fetch(`${o.API_BASE_URL}/api/update-pretest-date`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}).catch((e=>console.error("Retry failed:",e)))}),3e3)}console.log("Demographics submitted successfully - no longer preloading files here"),n()}catch(a){console.error("Error submitting demographics:",a),u({general:a.message})}finally{m(!1)}}},children:[(0,a.jsxs)(w,{className:"space-y-2 pt-6",children:[(0,a.jsx)("div",{className:"bg-gray-50 p-5 rounded-lg mb-8",children:(0,a.jsx)(Rt,{label:"Form Completed By",name:"formCompletedBy",value:s.formCompletedBy,onChange:e=>{S("formCompletedBy",e),f("Research Personnel"===e)},options:["Participant","Research Personnel"],error:c.formCompletedBy})}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Basic Information"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(g,{htmlFor:"dateOfBirth",className:"text-base",children:"Date of Birth"}),(0,a.jsx)(i,{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:s.dateOfBirth,onChange:y,max:(new Date).toISOString().split("T")[0],className:"mt-1 "+(c.dateOfBirth?"border-red-500":"")}),c.dateOfBirth&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.dateOfBirth})]}),(0,a.jsx)(Ot,{label:"Ethnicity",name:"ethnicity",value:s.ethnicity,onChange:y,options:["Hispanic or Latino","Not Hispanic or Latino","Prefer not to answer"],error:c.ethnicity}),(0,a.jsx)(Ot,{label:"Race",name:"race",value:s.race,onChange:y,options:["American Indian or Alaska Native","Asian","Black or African American","Native Hawaiian or Other Pacific Islander","White","Multiple races","Prefer not to answer"],error:c.race}),(0,a.jsx)(Ot,{label:"Sex Assigned at Birth",name:"sexAssignedAtBirth",value:s.sexAssignedAtBirth,onChange:y,options:["Male","Female","Prefer not to answer"],error:c.sexAssignedAtBirth})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-8 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Language & Health"}),(0,a.jsx)(Rt,{label:"Is English your primary language?",name:"isEnglishPrimary",value:s.isEnglishPrimary,onChange:e=>S("isEnglishPrimary",e),options:["Yes","No","Unknown"],error:c.isEnglishPrimary}),(0,a.jsx)(Ot,{label:"Do you have any cognitive impairment?",name:"cognitiveImpairment",value:s.cognitiveImpairment,onChange:y,options:["Yes","No","Unknown"],error:c.cognitiveImpairment})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-8 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Communication"}),(0,a.jsx)(Ot,{label:"What is your relationship to your communication partner?",name:"relationshipToPartner",value:s.relationshipToPartner,onChange:y,options:["Spouse/Partner","Child","Sibling","Friend","Other"],error:c.relationshipToPartner}),"Other"===s.relationshipToPartner&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(g,{htmlFor:"relationshipOther",className:"text-base",children:"Please specify relationship"}),(0,a.jsx)(i,{type:"text",id:"relationshipOther",name:"relationshipOther",value:s.relationshipOther||"",onChange:y,className:"mt-1 "+(c.relationshipOther?"border-red-500":"")}),c.relationshipOther&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.relationshipOther})]}),(0,a.jsx)(Ot,{label:"How often do you communicate with your partner?",name:"communicationFrequency",value:s.communicationFrequency,onChange:y,options:["Daily","Several Days Per Week","Weekly","Monthly","Less than Monthly"],error:c.communicationFrequency}),(0,a.jsx)(Ot,{label:"What is your primary mode of communication?",name:"communicationType",value:s.communicationType,onChange:y,options:["Face to face","Phone (audio only)","Video chat","Written or text (email, text message)"],error:c.communicationType})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-8 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Hearing"}),(0,a.jsx)(Ot,{label:"Do you have hearing loss?",name:"hearingLoss",value:s.hearingLoss,onChange:y,options:["Yes","No","Unknown"],error:c.hearingLoss}),(0,a.jsx)(Rt,{label:"Do you use hearing aids?",name:"hearingAids",value:s.hearingAids,onChange:e=>S("hearingAids",e),options:["Yes","No","Unknown"],error:c.hearingAids}),p&&(0,a.jsx)(At,{formData:s,setFormData:l,errors:c})]})]}),(0,a.jsx)(v,{className:"pt-6 !border-0",children:(0,a.jsxs)("div",{className:"w-full flex justify-end space-x-4",children:[(0,a.jsxs)(h,{type:"button",variant:"outline",onClick:r,className:"border-gray-300 text-gray-600 hover:bg-gray-50",children:[(0,a.jsx)(It,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsx)(h,{type:"submit",disabled:d,className:"bg-[#406368] hover:bg-[#6c8376] px-8",children:d?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"animate-spin mr-2",children:"\u25cf"}),"Submitting..."]}):(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N,{className:"w-4 h-4 mr-2"}),"Submit"]})})]})})]})]})})})},Mt={day1:[{id:"Trn_02_01",text:"Do you like amusement parks? Well, I sure do."},{id:"Trn_02_02",text:"To amuse myself, I went twice last spring."},{id:"Trn_02_03",text:"My most memorable moment was riding on the caterpillar."},{id:"Trn_02_04",text:"Which is a gigantic rollercoaster high above the ground."},{id:"Trn_02_05",text:"When I saw how high the Caterpillar rose into the bright blue sky, I knew it was for me."},{id:"Trn_02_06",text:"After waiting in line for thirty minutes, I made it to the front, where the man measured my height to see if I was tall enough."},{id:"Trn_02_07",text:"I gave the man my coins, asked for change, and jumped on the cart."},{id:"Trn_02_08",text:"Tick, tick, tick... The Caterpillar climbed slowly up the tracks."},{id:"Trn_02_09",text:"It went so high I could see the parking lot. Boy, I was scared."},{id:"Trn_02_10",text:'I thought to myself, "There\'s no turning back now."'},{id:"Trn_02_11",text:"People were so scared."},{id:"Trn_02_12",text:"They screamed as we swiftly zoomed, fast, fast, and faster along the tracks"},{id:"Trn_02_13",text:"As quickly as it started, the Caterpillar came to a stop."},{id:"Trn_02_14",text:"Unfortunately, it was time to pack the car and drive home."},{id:"Trn_02_15",text:"That night, I dreamt of the wild ride on the Caterpillar"},{id:"Trn_02_16",text:"Taking a trip to the amusement park and riding on the Caterpillar was my most memorable moment ever!"}],day2:[{id:"Trn_03_01",text:"Megan's cat, Snowball, loved to play in the garden."},{id:"Trn_03_02",text:"Every morning, Megan opened the back door, and Snowball dashed outside."},{id:"Trn_03_03",text:"The little cat chased butterflies, sniffed flowers, and climbed the old oak tree."},{id:"Trn_03_04",text:'Megan often called Snowball her "explorer" because she loved to investigate every corner of the yard.'},{id:"Trn_03_05",text:"One day, a squirrel darted across the lawn. Snowball froze."},{id:"Trn_03_06",text:"The squirrel stopped too, holding an acorn in its tiny paws."},{id:"Trn_03_07",text:"Megan watched from the window, curious to see what would happen."},{id:"Trn_03_08",text:"After a long pause, Snowball jumped forward, but the squirrel was faster."},{id:"Trn_03_09",text:"It ran up the tree and disappeared into the branches."},{id:"Trn_03_10",text:"Snowball meowed loudly, staring after it."},{id:"Trn_03_11",text:"A moment later, she darted back to Megan and curled up in her lap, playing with her blanket."},{id:"Trn_03_12",text:'Megan laughed and said, "Your playfulness never ends, Snowball!"'},{id:"Trn_03_13",text:'She patted her gently and added, "Maybe next time you\'ll catch that squirrel."'},{id:"Trn_03_14",text:"Snowball purred contentedly, resting her head on Megan's arm."}],day3:[{id:"Trn_04_01",text:"Every summer, Jake and his friends visited the lake near his grandfather's cabin."},{id:"Trn_04_02",text:"The water sparkled under the bright sun, and the tall trees swayed gently in the breeze."},{id:"Trn_04_03",text:"One afternoon, Jake decided to go fishing."},{id:"Trn_04_04",text:"He grabbed a rod, bait, and bucket, then walked to the dock."},{id:"Trn_04_05",text:"Sitting quietly, he cast his line into the water and waited and waited and waited."},{id:"Trn_04_06",text:"Suddenly, the rod jerked. Jake pulled hard, and a shiny fish wriggled at the end of the line."},{id:"Trn_04_07",text:'He shouted, "I caught one!" His friends ran over to see, cheering loudly.'},{id:"Trn_04_08",text:"Jake carefully placed the fish in the bucket."},{id:"Trn_04_09",text:'"Maybe next time, I\'ll catch a bigger one," he said with a grin.'},{id:"Trn_04_10",text:"Later that day, Jake returned to the cabin and told his grandfather about the fish."},{id:"Trn_04_11",text:'His grandfather smiled and said, "You\'ve got the makings of a great fisherman!"'},{id:"Trn_04_12",text:"Jake beamed proudly, excited to fish again tomorrow."}],day4:[{id:"Trn_07_01",text:"On a bright Saturday afternoon, Lucas went to the park with his family."},{id:"Trn_07_02",text:"As he walked through the grass, he saw a large, colorful kite soaring high in the sky."},{id:"Trn_07_03",text:"It was bright red with a long, yellow tail that flapped in the wind."},{id:"Trn_07_04",text:"Lucas watched in awe as the kite danced above the trees, its tail twisting and turning with each gust of wind."},{id:"Trn_07_05",text:"Curious, he walked closer and saw a boy standing near the edge of the field, holding the string of the kite."},{id:"Trn_07_06",text:'"Want to give it a try?" the boy asked, smiling.'},{id:"Trn_07_07",text:"Lucas nodded eagerly, his heart racing with excitement."},{id:"Trn_07_08",text:"He gripped the string tightly as the wind tugged, lifting the kite even higher into the air."},{id:"Trn_07_09",text:'"Hold it steady," the boy said, giving Lucas a few tips.'},{id:"Trn_07_10",text:'As the kite soared gracefully, Lucas heard the chirping of birds and the sharp "shh" of the trees swaying in the breeze.'},{id:"Trn_07_11",text:'Suddenly, a jet flew overhead with a loud "whoosh, " its engines roaring like thunder.'},{id:"Trn_07_12",text:'"That was amazing!" Lucas exclaimed.'},{id:"Trn_07_13",text:'The boy laughed and said, "Come back tomorrow, and we can fly it again.'},{id:"Trn_07_14",text:'We might even try a bigger kite and maybe chase a few more birds!"'}]},zt={1:"02",2:"03",3:"04",4:"07"},Lt={"02":{length:16,title:"Amusement Park"},"03":{length:14,title:"Snowball the Cat"},"04":{length:12,title:"Jake at the Lake"},"07":{length:14,title:"Lucas with the Kite"}},Ut={day1:Array.from({length:20},((e,t)=>({id:`TrnTest_02_${String(t+1).padStart(2,"0")}`,audioUrl:`/audio/training/test/day1/${String(t+1).padStart(2,"0")}`,type:"TrnTest",responseType:"full-phrase",day:1}))),day2:Array.from({length:20},((e,t)=>({id:`TrnTest_03_${String(t+1).padStart(2,"0")}`,audioUrl:`/audio/training/test/day2/${String(t+1).padStart(2,"0")}`,type:"TrnTest",responseType:"full-phrase",day:2}))),day3:Array.from({length:20},((e,t)=>({id:`TrnTest_04_${String(t+1).padStart(2,"0")}`,audioUrl:`/audio/training/test/day3/${String(t+1).padStart(2,"0")}`,type:"TrnTest",responseType:"full-phrase",day:3}))),day4:Array.from({length:20},((e,t)=>({id:`TrnTest_07_${String(t+1).padStart(2,"0")}`,audioUrl:`/audio/training/test/day4/${String(t+1).padStart(2,"0")}`,type:"TrnTest",responseType:"full-phrase",day:4})))},Bt=t=>{let{onComplete:r,onBack:s,trainingDay:i,trainingStimuli:l,intelligibilityStimuli:c,userId:u}=t;const[d,m]=(0,e.useState)("instruction"),[p,f]=(0,e.useState)(0),[g,y]=(0,e.useState)(!1),[S,k]=(0,e.useState)(""),[N,C]=(0,e.useState)(!1),[_,P]=(0,e.useState)(!1),[$,E]=(0,e.useState)(!1),[D,A]=(0,e.useState)(!1),[O,R]=(0,e.useState)(0),[F,z]=(0,e.useState)((()=>1===i||3===i?["02","04"]:2===i||4===i?["03","07"]:["02","04"]));(0,e.useEffect)((()=>{const{getTrainingStoriesForDay:e}=n(991),t=e(i);z(t),console.log(`Training day ${i} will use stories:`,t);(()=>{const e=`progress_${u}_training_day${i}`,t=`training_progress_day_${i}`;let n=localStorage.getItem(e);if(n||(n=localStorage.getItem(t),n&&console.log("Found legacy format progress data, will migrate to new format")),n)try{const e=JSON.parse(n);if(e.trainingDay===i)return console.log("Resuming from saved progress:",e),m(e.phase),f(e.stimulusIndex),y(!0),void 0!==e.storyPairIndex&&R(e.storyPairIndex),"test"!==e.phase&&E(e.audioPlayed||!1),!0}catch(r){console.error("Error parsing saved progress:",r)}return!1})()||(m("instruction"),f(0),R(0),y(!0),E(!1)),k(""),C(!1),A(!1),P(!1)}),[i]),(0,e.useEffect)((()=>{if("instruction"!==d){const e={trainingDay:i,phase:d,stimulusIndex:p,storyPairIndex:O,audioPlayed:$},t=`progress_${u}_training_day${i}`;localStorage.setItem(t,JSON.stringify(e)),localStorage.removeItem(`training_progress_day_${i}`),console.log("Saved progress using new format:",e)}}),[i,d,p,O,$,u]);const[L,U]=(0,e.useState)("loading"),[B,q]=(0,e.useState)(null),[H,W]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=e=>{const{storyNumber:t,fileNumber:n}=e.detail;if(console.log(`Event received: Story ${t}, File ${n} identified before audio plays`),U(t),n&&q(n),t&&Lt[t]){const e=Lt[t].length;console.log(`Setting total story stimuli to ${e} for story ${t}`),W(e)}};return window.addEventListener("trainingStoryIdentified",e),()=>{window.removeEventListener("trainingStoryIdentified",e)}}),[]),(0,e.useEffect)((()=>{const e=()=>{document.querySelectorAll("audio").forEach((e=>{if(e.src){console.log(`Mutation observer found audio: ${e.src}`);const t=[{regex:/Trn_(\d{2})_\d{2}/i,group:1},{regex:/day\/(\d{2})\/\d+/i,group:1},{regex:/(\d{2})_\d{2}\.wav/i,group:1}];for(const n of t){const t=e.src.match(n.regex);if(t&&t[n.group]){const e=t[n.group];if(console.log(`Observer detected story ${e} in audio element`),e!==L&&(U(e),Lt[e])){const t=Lt[e].length;console.log(`Observer setting total stimuli to ${t} for story ${e}`),W(t)}break}}}}))},t=new MutationObserver((t=>{t.some((e=>Array.from(e.addedNodes).some((e=>"AUDIO"===e.nodeName||1===e.nodeType&&e.querySelector("audio")))))&&(console.log("MutationObserver detected new audio element"),e())}));return t.observe(document.body,{childList:!0,subtree:!0}),e(),()=>{t.disconnect()}}),[L]);const[Y,V]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=(()=>{if("undefined"===typeof window||!window.navigator)return!1;const e=window.navigator.userAgent,t=/iPad/i.test(e)||/Macintosh/i.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1,n=/Chrome/i.test(e)&&!/Safari/i.test(e)||/Chrome/i.test(e)&&/Safari/i.test(e)&&!/Edg/i.test(e);return t&&n})();V(e),console.log("Device detection - iPad Chrome: "+(e?"true":"false"))}),[]),(0,e.useEffect)((()=>{if("training"===d&&!$&&!_){let e=null,t=null;const n=async()=>{try{P(!0);const e=Y?8e3:15e3;console.log(`Setting audio timeout: ${e}ms${Y?" (iPad Chrome shorter timeout)":""}`);const n=new Promise(((n,r)=>{t=setTimeout((()=>{r(new Error("Audio loading timeout"))}),e)})),r=p+1,o=F[O];console.log(`Auto-playing training audio for day ${i}, story ${o}, stimulus index ${r}`);const a=await Promise.race([M.playTrainingAudio(i,r,o),n]);t&&(clearTimeout(t),t=null);const s=a.storyNumber||o;console.log(`Audio played successfully with story number: ${s}`),U(s),q(r),E(!0)}catch(e){console.error("Error auto-playing audio:",e),t&&(clearTimeout(t),t=null);const n="AUDIO_NOT_FOUND"===e.message||e.message.includes("not found")||e.message.includes("404"),r="Audio loading timeout"===e.message||e.message.includes("timeout")||e.message.includes("timed out"),o=e.message.includes("play")||e.message.includes("NotAllowedError")||e.message.includes("NotSupportedError");n?(console.log("Audio file not found. Setting audio as played to allow continuing."),E(!0),alert("Audio file could not be found. You can proceed to the next phrase by clicking Next.")):r?(console.log("Audio playback timed out. Setting audio as played to allow continuing."),E(!0),alert("Audio playback timed out. You can proceed to the next phrase by clicking Next.")):o?(console.log("Playback permission or support error. Setting audio as played to allow continuing."),E(!0),alert("There was a problem playing the audio. You can proceed to the next phrase by clicking Next.")):(console.log("Unknown audio error. Setting audio as played to allow continuing."),E(!0),alert("An error occurred while playing audio. You can proceed to the next phrase by clicking Next.")),M.dispose()}finally{P(!1)}};return e=setTimeout((()=>{n()}),Y?50:100),()=>{e&&clearTimeout(e),t&&clearTimeout(t),M.dispose()}}}),[d,p,$,_,i,O,F,Y]);const G=()=>{if("training"===d){var e;E(!1),y(!0),U("loading"),q(null);const t=H||L&&(null===(e=Lt[L])||void 0===e?void 0:e.length)||l.length;console.log(`Checking if at end: index=${p}, total=${t}`),p<t-1?(console.log(`Moving to next stimulus (${p+1})`),f((e=>e+1))):(console.log(`End of story reached with ${p+1}/${t} stimuli`),O<F.length-1?(console.log(`Moving to next story in pair (${O+1}/${F.length})`),R((e=>e+1)),f(0),U(F[O+1])):(console.log("All stories completed, moving to test phase"),m("test"),f(0)))}},Q=()=>{console.log("Starting training session without preloading"),m("training"),E(!1)},J=async()=>{if(S.trim())try{C(!0);const t=localStorage.getItem("token"),{getGroupForPhase:a}=n(991),s=Math.min(p,19);"undefined"!==typeof window&&(window.currentTrainingDay=i,console.log(`Set current training day in window (submit): ${i}`));const l=a("training",i,u);if(console.log(`Getting randomized file for day ${i}, index ${s}:`,`Full sequence (${l.length}):`,l),!l||0===l.length)return console.error(`No randomized files returned for training day ${i}`),void alert("Error retrieving audio files. Please try again or contact support.");if(s>=l.length)return console.error(`Index ${s} out of bounds for array of length ${l.length}`),void alert("Invalid audio file selection. Please try again or contact support.");const c=l[s];if(c<1||c>160)return console.error(`Invalid file number ${c} - should be between 1 and 160`),void alert("Invalid audio file number. Please try again or contact support.");let d=c;if("undefined"!==typeof window&&window.lastRandomizedFileNumber){const e=window.lastRandomizedFileNumber;console.log(`Found stored randomized file number: ${e} - comparing with calculated: ${c}`),e!==c?(console.warn(`CRITICAL: Inconsistency detected - using stored file number ${e} instead of calculated ${c}`),d=e):console.log(`CONSISTENCY CONFIRMED: Playback and response using same file number: ${c}`)}else console.log(`No stored file number found - using calculated number: ${c}`);console.log(`Using randomized file number ${d} for index ${s} (day ${i})`);const m={phase:"training",testType:"intelligibility",stimulusId:`Int${String(d).padStart(2,"0")}`,response:S,trainingDay:i,currentTestType:"intelligibility",randomizedFileNumber:d};console.log("Submitting test response with data:",m);const h=await fetch(`${o.API_BASE_URL}/api/response`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(m)});if(h.ok)console.log("Response submission successful!");else{const e=await h.text();if(console.error(`Response submission failed with status ${h.status}: ${e}`),!e.includes("correct day")&&!e.includes("Please return"))throw new Error(`Server returned ${h.status}: ${e}`);console.warn("Ignoring day restriction for training test phase - continuing test")}console.log(`Submitted test response for file #${B}, stimulus index ${p}`);if(p<20-1)f((e=>e+1)),k(""),E(!1);else if(!D){A(!0);try{await M.endSession(),console.log("Played files have been cleaned up"),localStorage.removeItem(`progress_${u}_training_day${i}`),localStorage.removeItem(`training_progress_day_${i}`)}catch(e){console.error("Error cleaning up files:",e)}r(i)}}catch(e){console.error("Error submitting response:",e);let t="Failed to submit response. Please try again.";e.message&&e.message.includes("Server returned")?e.message.includes("correct day")||e.message.includes("Please return")?console.warn("Day restriction error - continuing with test without alerting user"):(t=e.message,alert(t)):alert(t),p<19&&(f((e=>e+1)),k(""),E(!1))}finally{C(!1)}else alert("Please enter the phrase you heard.")},Z=async()=>{U("loading"),console.log("Training test phase - available files for testing:",c);for(let t=1;t<=3;t++)try{console.log(`Attempt ${t} to play training test audio...`);const e=Math.min(p,19),{getGroupForPhase:r}=n(991),a=r("training",i,u),s=a[e];console.log(`Playing randomized training test audio: Using file #${s} for day ${i}, index ${e}`),console.log(`Full sequence (${a.length}):`,a.slice(0,5),"...");const l=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Audio playback timed out"))),1e4)})),c=await Promise.race([(async()=>{console.log(`Creating custom training test audio request for day ${i}`),"undefined"!==typeof window&&(window.currentTrainingDay=i,console.log(`Set current training day in window: ${i}`));const{getGroupForPhase:t}=n(991),r=t("training",i,u);if(!r||0===r.length)throw new Error(`No randomized files returned for training day ${i}`);if(e>=r.length)throw console.error(`Index ${e} out of bounds for randomized files array of length ${r.length}`),new Error(`Invalid file index: ${e} exceeds available files`);const a=r[e];if(a<1||a>160)throw console.error(`Invalid file number ${a} - should be between 1 and 160`),new Error(`Invalid file number: ${a}`);console.log(`Directly using file number ${a} from day ${i} sequence`),console.log(`Using direct training phase for intelligibility file #${a}`),"undefined"!==typeof window&&(window.lastRandomizedFileNumber=a,console.log(`Set lastRandomizedFileNumber in window: ${a}`));try{return await M.playTestAudio("training","intelligibility",null,a,{trainingDay:i,randomizedFileNumber:a})}catch(s){if("AUDIO_NOT_FOUND"===s.message||s.message.includes("not found")||s.message.includes("404")){console.warn(`File #${a} not found, trying fallback with sequential file`),console.log("Attempting to access file through backend API...");const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");console.log(`CRITICAL BACKUP: Using randomized file number ${a} for backup API call`),"undefined"!==typeof window&&(window.lastBackupFileNumber=a,console.log(`Set lastBackupFileNumber in window: ${a}`));const t=`${o.API_BASE_URL}/audio/training/intelligibility/null/${a}?trainingDay=${i}`;console.log(`Trying backup API endpoint: ${t}`);const n=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw console.error(`Backup API request failed: ${n.status}`),new Error("All file access methods failed");const r=await n.json();if(!r.url)throw new Error("No URL in backup API response");return console.log(`Got file URL from backup API: ${r.url}`),await M.playAudioFromUrl(`${o.API_BASE_URL}${r.url}`),!0}throw s}})(),l]);return c&&c.fileNumber&&(console.log(`Test audio result: file #${c.fileNumber}`),q(c.fileNumber),U(null)),setTimeout((()=>{const e=document.querySelector("audio");e&&e.src&&(console.log(`Test audio element source: ${e.src}`),e.src.includes("Int")&&console.log("Confirmed intelligibility file is being used"))}),500),console.log("Training test audio played successfully!"),E(!0),!0}catch(e){if(console.error(`Attempt ${t} failed:`,e),"AUDIO_NOT_FOUND"===e.message||e.message.includes("not found")||e.message.includes("404")||e.message.includes("timed out"))return console.log("Critical error in training test audio - providing fallback"),alert('Audio file could not be played. You can proceed by submitting "NA" as your response.'),k("NA"),E(!0),M.dispose(),!1;if(M.dispose(),t>=3)return console.log("All training audio retry attempts failed"),alert('After multiple attempts, the audio could not be played. You can proceed with "NA" as your response.'),k("NA"),E(!0),!1;await new Promise((e=>setTimeout(e,1e3))),console.log(`Waiting before retry attempt ${t+1}...`)}return!1};(0,e.useEffect)((()=>()=>{"instruction"===d||D||M.endSession().then((()=>console.log("Files cleaned up on component unmount"))).catch((e=>console.error("Failed to clean up files:",e)))}),[d,D]);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12 px-4",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsx)(h,{variant:"ghost",onClick:()=>{"instruction"===d||D?s():(A(!0),M.endSession().then((()=>{console.log("Files cleaned up on back navigation"),s()})).catch((()=>s())))},className:"mb-4 text-[#406368] hover:text-[#6c8376]",children:"\u2190 Back to Training Selection"}),"instruction"===d&&(0,a.jsxs)(b,{className:"shadow-lg",children:[(0,a.jsx)(x,{className:"bg-[#406368] text-white",children:(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:["Training Day ",i]})}),(0,a.jsx)(w,{className:"p-6 space-y-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Instructions"}),(0,a.jsx)("p",{children:"In this training session, you will:"}),(0,a.jsxs)("ol",{className:"list-decimal ml-5 space-y-2",children:[(0,a.jsx)("li",{children:"Listen to audio clips and see the text that matches what is being said"}),(0,a.jsx)("li",{children:"After completing all training clips, you will be tested on your ability to understand similar speech"})]}),(0,a.jsxs)("div",{className:"bg-[#f3ecda] p-4 rounded-lg border border-[#dad6d9] flex items-center space-x-2",children:[(0,a.jsx)(gt,{className:"h-5 w-5 text-[#406368]"}),(0,a.jsx)("p",{className:"text-[#406368]",children:"Please wear headphones during this training session."})]})]})}),(0,a.jsx)(v,{className:"border-t border-gray-100 pt-4",children:(0,a.jsxs)(h,{onClick:Q,className:"w-full bg-[#406368] hover:bg-[#6c8376]",children:["Start Training",(0,a.jsx)(T,{className:"ml-2 h-4 w-4"})]})})]}),"training"===d&&(()=>{var e;let t,n=!1;if("loading"===L)console.log("Audio story still loading - will show loading indicator"),n=!0,t=null;else if(L)console.log(`Using story number ${L} from audio playback`),t=L;else{console.log(`Using default story number ${zt[i]} from mapping`),t=zt[i];const e=document.querySelector("audio");if(e&&e.src){console.log(`Examining active audio element source: ${e.src}`);let n=null;const r=[{regex:/Trn_(\d{2})_\d{2}/i,group:1},{regex:/day\/(\d{2})\/\d+/i,group:1},{regex:/(\d{2})_\d{2}\.wav/i,group:1}];for(const t of r){const r=e.src.match(t.regex);if(r&&r[t.group]){n=r[t.group],console.log(`Detected story ${n} in currently playing audio via pattern ${t.regex}`);break}}if(n&&n!==L&&(console.log(`Updating story number to ${n} based on active audio element`),U(n),t=n,Lt[n])){const e=Lt[n].length;W(e)}}}const r=B||p+1;let o=null,s="";if(n)s="Loading audio...",console.log("Showing loading message while determining correct story");else if(t){var c;const e=`Trn_${t}_${String(r).padStart(2,"0")}`;console.log(`Looking up text for stimulus ID ${e}`);let n=null,a=null,i=null;if("02"===t?i="day1":"03"===t?i="day2":"04"===t?i="day3":"07"===t&&(i="day4"),i&&Mt[i]&&(n=Mt[i].find((t=>t.id===e)),n&&(a=i,console.log(`Found matching text in ${i} data (direct match): "${n.text}"`))),!n)for(const t in Mt){const r=Mt[t].find((t=>t.id===e));if(r){n=r,a=t,console.log(`Found matching text in ${t} data (fallback search): "${r.text}"`);break}}if(!n)for(const o in Mt){if(Mt[o].find((e=>e.id.includes(`_${t}_`)||e.id.includes(`Trn_${t}`)))){console.log(`Found at least one stimulus with story ${t} in ${o}`);const e=Mt[o].find((e=>e.id.endsWith(`_${String(r).padStart(2,"0")}`)));if(e){n=e,a=o,console.log(`Found matching index ${r} in ${o}: "${e.text}"`);break}}}o=n||l[p],n?console.log(`Using text from ${a} for story ${t}, stimulus ${r}: "${o.text}"`):console.warn(`Could not find training stimulus with ID ${e} in any day's data. Using fallback.`),s=(null===(c=o)||void 0===c?void 0:c.text)||"Loading text..."}else s="Preparing training session...";const u=H||t&&(null===(e=Lt[t])||void 0===e?void 0:e.length)||l.length;let d=0;if(F.length>0)for(const a of F){var m;d+=(null===(m=Lt[a])||void 0===m?void 0:m.length)||0}else d=u;let f=0;if(F.length>0)for(let a=0;a<O;a++){var y;const e=F[a];f+=(null===(y=Lt[e])||void 0===y?void 0:y.length)||0}f+=p+1;const S=f/d*100;return console.log(`Progress: ${f}/${d} = ${S.toFixed(1)}% (Story ${O+1}/${F.length}, stimuli ${p+1}/${u})`),(0,a.jsxs)(b,{className:"shadow-lg !border-0",children:[(0,a.jsx)(x,{className:"bg-[#406368] text-white",children:(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:["Training Day ",i]})}),(0,a.jsxs)(w,{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[F.length>0?(0,a.jsxs)(a.Fragment,{children:["Story ",O+1,"/",F.length,": Stimulus ",p+1," of ",u]}):(0,a.jsxs)(a.Fragment,{children:["Stimulus ",p+1," of ",u]}),t&&Lt[t]&&(0,a.jsxs)("span",{className:"ml-1 text-[#406368]",children:["(",Lt[t].title,")"]})]}),(0,a.jsxs)("span",{className:"text-[#406368] font-medium",children:[Math.round(S),"% Complete"]})]}),(0,a.jsx)("div",{className:"w-full h-2 bg-[#dad6d9] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-[#406368] rounded-full transition-all duration-300 ease-in-out",style:{width:`${S}%`}})})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)("div",{className:"w-full h-16 rounded-md flex items-center justify-center space-x-3 "+(_?"bg-[#f3ecda]":$&&!L?"bg-red-100":$?"bg-[#f3ecda] bg-opacity-70":"bg-[#dad6d9] bg-opacity-30"),children:_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{className:"h-6 w-6 text-[#406368] animate-spin"}),(0,a.jsx)("span",{className:"text-[#406368] font-medium",children:"Audio Playing..."})]}):$&&!L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ct,{className:"h-6 w-6 text-red-500"}),(0,a.jsx)("span",{className:"text-red-500 font-medium",children:"Audio Not Available - Click Next to Continue"})]}):$?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I,{className:"h-6 w-6 text-[#6c8376]"}),(0,a.jsx)("span",{className:"text-[#6c8376] font-medium",children:"Audio Played"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{className:"h-6 w-6 text-[#6e6e6d] animate-spin"}),(0,a.jsx)("span",{className:"text-[#6e6e6d]",children:"Loading Audio... (Training will start automatically)"})]})})}),g&&(0,a.jsx)("div",{className:`mt-6 p-6 ${$&&!L?"bg-red-50 border-red-200":"bg-[#f3ecda] border-[#dad6d9]"} rounded-lg border`,children:(0,a.jsx)("p",{className:"text-lg text-center font-medium text-gray-800",children:$&&!L?(0,a.jsx)("span",{className:"text-red-500 italic",children:"Audio file not available. Please click Next to continue."}):n?(0,a.jsx)("span",{className:"text-gray-500 italic",children:s}):`"${s}"`})})]}),(0,a.jsx)(v,{className:"border-t border-gray-100 pt-4",children:(0,a.jsxs)(h,{onClick:G,disabled:!$||_,className:`w-full ${$&&!L?"bg-red-500 hover:bg-red-600":"bg-[#406368] hover:bg-[#6c8376]"} disabled:bg-[#6e6e6d]`,children:["Next",(0,a.jsx)(T,{className:"ml-2 h-4 w-4"})]})})]})})(),"test"===d&&(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-[#406368] text-white px-6 py-4",children:(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:["Day ",i," Activity: Speech Intelligibility"]})}),(0,a.jsx)("div",{className:"p-6 bg-white",children:(0,a.jsx)(Tt,{userResponse:S,onResponseChange:k,onSubmit:J,currentStimulus:p,totalStimuli:20,onPlayAudio:Z,isSubmitting:N})})]})})]})})};class qt extends e.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null});try{const t=localStorage.getItem("userId"),n=localStorage.getItem("token"),r={userId:t,token:n,demographicsCompleted:localStorage.getItem("demographicsCompleted"),pretestDate:sessionStorage.getItem("pretestDate"),currentPhase:localStorage.getItem("currentPhase"),currentTestType:localStorage.getItem("currentTestType"),userDemographicsCompleted:t?localStorage.getItem(`demographicsCompleted_${t}`):null,lastActivity:localStorage.getItem("lastActivity"),trainingDay:localStorage.getItem("trainingDay"),trainingCompletedDate:localStorage.getItem("trainingCompletedDate")};if(this.state.error)try{localStorage.setItem("lastErrorMessage",this.state.error.toString()),localStorage.setItem("lastErrorTimestamp",(new Date).toISOString()),this.state.error.stack&&localStorage.setItem("lastErrorStack",this.state.error.stack)}catch(e){console.warn("Could not store error info:",e)}const o=["currentStimulus","inputBuffer",`progress_${t}_current`,"audioState",localStorage.getItem("currentTestType")?`progress_${t}_${localStorage.getItem("currentPhase")}_${localStorage.getItem("currentTestType")}`:null].filter(Boolean);console.log(`Targeted cleanup of potential problem keys: ${o.join(", ")}`),o.forEach((e=>{try{localStorage.removeItem(e),console.log(`Removed potential problem key: ${e}`)}catch(t){console.warn(`Failed to remove ${e}:`,t)}})),t&&!localStorage.getItem("userId")&&localStorage.setItem("userId",t),n&&!localStorage.getItem("token")&&localStorage.setItem("token",n),r.demographicsCompleted&&!localStorage.getItem("demographicsCompleted")&&localStorage.setItem("demographicsCompleted",r.demographicsCompleted),r.pretestDate&&sessionStorage.setItem("pretestDate",r.pretestDate),r.currentPhase&&localStorage.setItem("currentPhase",r.currentPhase),r.currentTestType&&localStorage.setItem("currentTestType",r.currentTestType),t&&r.userDemographicsCompleted&&localStorage.setItem(`demographicsCompleted_${t}`,r.userDemographicsCompleted),r.lastActivity&&localStorage.setItem("lastActivity",r.lastActivity),r.trainingDay&&localStorage.setItem("trainingDay",r.trainingDay),r.trainingCompletedDate&&localStorage.setItem("trainingCompletedDate",r.trainingCompletedDate),localStorage.setItem("lastRecoveryAttempt",(new Date).toISOString()),console.log("Session recovery completed - preserved user session while cleaning up potential issues")}catch(t){console.error("Failed during targeted recovery:",t);try{const e=localStorage.getItem("userId"),t=localStorage.getItem("token");localStorage.clear(),e&&localStorage.setItem("userId",e),t&&localStorage.setItem("token",t),console.log("Fallback recovery: preserved minimal login data")}catch(n){console.error("Complete recovery failure:",n)}}window.location.reload()},this.isIPadChrome=()=>{if("undefined"===typeof window||!window.navigator)return!1;const e=window.navigator.userAgent.toLowerCase(),t=/ipad/.test(e)||/macintosh/.test(e)&&"ontouchend"in document,n=/crios|chrome/.test(e)&&!/edge|edg|firefox|fxios|opera|opr/.test(e);return t&&n},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("App error caught by boundary:",e,t),this.setState({errorInfo:t})}render(){if(this.state.hasError){const e=this.isIPadChrome();return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12 px-4",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:"We're sorry, but there was an error in the application. This could be due to:"}),(0,a.jsxs)("ul",{className:"text-left list-disc ml-8 mb-6",children:[(0,a.jsx)("li",{children:"A temporary network issue"}),(0,a.jsx)("li",{children:"Audio playback problems"}),(0,a.jsx)("li",{children:"Browser compatibility issues"}),(0,a.jsx)("li",{children:"Data storage limitations"}),e&&(0,a.jsx)("li",{className:"font-medium text-orange-700",children:"iPad keyboard input issues with Chrome (we've fixed this now!)"})]}),e&&(0,a.jsxs)("div",{className:"mb-6 bg-yellow-50 p-4 border border-yellow-200 rounded-lg text-left",children:[(0,a.jsx)("h3",{className:"font-bold text-yellow-800 mb-2",children:"iPad Chrome Users"}),(0,a.jsx)("p",{className:"text-yellow-700 mb-2",children:"We've made improvements to fix input issues on iPad Chrome. After clicking the Reset button:"}),(0,a.jsxs)("ol",{className:"list-decimal ml-5 text-yellow-700",children:[(0,a.jsx)("li",{children:"Type slowly in input fields"}),(0,a.jsx)("li",{children:"If keyboard issues persist, try Safari instead of Chrome"}),(0,a.jsx)("li",{children:"Your progress should be preserved"})]})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:"Your progress has been saved. Please click the button below to continue."}),(0,a.jsx)("button",{onClick:this.handleReset,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Reset and Continue"}),this.state.error&&(0,a.jsxs)("div",{className:"mt-6 text-left",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Error details (for support):"}),(0,a.jsx)("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto max-h-40",children:this.state.error.toString()})]})]})})})}return this.props.children}}const Ht=()=>{const[t,r]=(0,e.useState)("auth"),[s,c]=(0,e.useState)("login"),[u,d]=(0,e.useState)(0),[m,p]=(0,e.useState)(""),[f,b]=(0,e.useState)(1),[x,w]=(0,e.useState)(!1),[v,S]=(0,e.useState)(""),[k,N]=(0,e.useState)(""),[j,C]=(0,e.useState)(""),[_,T]=(0,e.useState)(""),[P,$]=(0,e.useState)(""),[E,D]=(0,e.useState)(!1),[I,O]=(0,e.useState)("pretest"),[R,F]=(0,e.useState)(null),[z,L]=(0,e.useState)(null),[U,B]=(0,e.useState)(!1),[q,H]=(0,e.useState)(!1),[W,Y]=(0,e.useState)(!1),[V,G]=(0,e.useState)(null),[Q,J]=(0,e.useState)({}),[Z,K]=(0,e.useState)("intelligibility"),[X,ee]=(0,e.useState)(0),[te,ne]=(0,e.useState)(!1),[re,oe]=(0,e.useState)(!1),[ae,se]=(0,e.useState)({}),[ie,le]=(0,e.useState)(0);(0,e.useEffect)((()=>{if("pretest"===I||"training"===I){(()=>{if(!R)return console.log("No pretest date available, cannot proceed to training"),void B(!1);const{toEasternTime:e,getCurrentDateInEastern:t}=n(372),r=e(R),o=t(),a=new Date(r);a.setHours(0,0,0,0);const s=new Date(o);s.setHours(0,0,0,0);const i=s.getTime()>a.getTime();console.log("Calendar day check for training:",{pretestDate:a.toISOString(),today:s.toISOString(),canProceed:i,browserInfo:"undefined"!==typeof window?window.navigator.userAgent:"unknown"}),B(i)})()}}),[I,R]),(0,e.useEffect)((()=>{if("demographics"!==t){try{const s=localStorage.getItem("userId");if(s&&"selection"!==t&&"auth"!==t){const i=`progress_${s}_${t}_${Z||""}`;let l=null,c="localStorage";try{l=localStorage.getItem(i)}catch(e){console.error("Error accessing localStorage:",e)}if(!l)try{const e=`backup_${i}`,t=sessionStorage.getItem(e);t&&(console.log(`Found backup progress in sessionStorage: ${e}`),l=t,c="sessionStorage")}catch(n){console.error("Error accessing sessionStorage backup:",n)}if(l)try{const e=JSON.parse(l);if(e&&"object"===typeof e&&"timestamp"in e&&"stimulus"in e&&new Date(e.timestamp)>new Date(Date.now()-2592e6)){if(console.log(`Resuming valid saved progress for ${t} (${Z}) from ${c}:`,e),d("number"===typeof e.stimulus?e.stimulus:0),p("comprehension"===Z?void 0!==e.response?e.response:null:"string"===typeof e.response?e.response:""),"number"===typeof e.rating&&e.rating>=1&&e.rating<=100?G(e.rating):G(null),"number"===typeof e.questionIndex&&e.questionIndex>=0&&ee(e.questionIndex),"number"===typeof e.currentStoryIndex&&e.currentStoryIndex>=0&&le(e.currentStoryIndex),"sessionStorage"===c)try{localStorage.setItem(i,l),console.log("Restored progress from sessionStorage backup to localStorage")}catch(r){console.warn("Could not restore progress to localStorage:",r)}return}console.warn(`Invalid progress data format from ${c}, ignoring:`,e);try{localStorage.removeItem(i),sessionStorage.removeItem(`backup_${i}`),console.log(`Removed invalid progress data for key: ${i}`)}catch(o){console.error("Error removing invalid progress data:",o)}}catch(a){console.error(`Error parsing saved progress from ${c}:`,a);try{localStorage.removeItem(i),sessionStorage.removeItem(`backup_${i}`),console.log(`Removed corrupted progress data for key: ${i}`)}catch(o){console.error("Error removing corrupted progress data:",o)}}}}catch(P){console.error("Unexpected error in progress restoration:",P)}d(0),p("comprehension"===Z?null:""),G(null),w(!1)}}),[t,Z]),(0,e.useEffect)((()=>{const e=localStorage.getItem("demographicsCompleted"),t=localStorage.getItem(`demographicsCompleted_${localStorage.getItem("userId")}`);"true"===e&&"true"===t?(console.log("Demographics completion verified from localStorage - marking as completed"),oe(!0),J((e=>({...e,demographics:!0,pretest_demographics:!0})))):"true"!==e||t||(console.log("General demographics flag is true, but user-specific flag is missing - clearing flag"),localStorage.removeItem("demographicsCompleted"),oe(!1),J((e=>({...e,demographics:!1,pretest_demographics:!1}))))}),[]),(0,e.useEffect)((()=>{"demographics"===t&&(console.log("Demographics phase entered - ensuring clean state"),oe(!1),localStorage.removeItem("demographicsCompleted"),console.log("Removed demographics completion from localStorage for re-entry"),J((e=>({...e,demographics:!1,pretest_demographics:!1}))))}),[t]),(0,e.useEffect)((()=>{var e;console.log("State Update:",{phase:t,currentPhase:I,trainingDay:f,currentStimulus:u,showComplete:x,stimuliLength:null===(e=ue())||void 0===e?void 0:e.length});try{const e=localStorage.getItem("userId");if(e&&"selection"!==t&&"auth"!==t&&"demographics"!==t&&!x&&Z){const i=`progress_${e}_${t}_${Z}`,l={stimulus:u,response:m,timestamp:(new Date).toISOString(),version:2};if("effort"===Z&&null!==V&&(l.rating=V),"comprehension"===Z&&(l.questionIndex=X,l.currentStoryIndex=ie),u>0||"training"===t){console.log(`Saving progress for ${i}`,l);try{const e=`_test_${Date.now()}`;localStorage.setItem(e,"1"),localStorage.removeItem(e);const t=JSON.stringify(l);localStorage.setItem(i,t),console.log(`Successfully saved ${t.length} bytes to localStorage`);try{sessionStorage.setItem(`backup_${i}`,t)}catch(n){console.warn("Could not create sessionStorage backup:",n)}}catch(r){if(console.error("Failed to save progress to localStorage:",r),"QuotaExceededError"===r.name||22===r.code||r.message.includes("storage")||r.message.includes("quota")){console.warn("Storage quota exceeded, cleaning up old data...");try{const t=e,r=[];for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.startsWith("progress_")&&t!==i&&r.push(t)}let s=0;for(const e of r)if(e.includes(t)||(localStorage.removeItem(e),s++,console.log(`Removed other user's progress key: ${e}`)),s>=5)try{const e=JSON.stringify(l);return localStorage.setItem(i,e),void console.log("Successfully saved progress after cleanup")}catch(o){console.log("Still need to remove more data...")}try{const e=JSON.stringify(l);sessionStorage.setItem(`backup_${i}`,e),console.log("Saved progress to sessionStorage as fallback")}catch(n){console.warn("Could not create sessionStorage backup:",n)}const c=["pretest","training","posttest1","posttest2","posttest3"],u=c.indexOf(I);for(const e of c){if(c.indexOf(e)<u)for(const n of r)n.includes(t)&&n.includes(e)&&(localStorage.removeItem(n),s++,console.log(`Removed completed phase progress: ${n}`))}try{const e=JSON.stringify(l);localStorage.setItem(i,e),console.log("Successfully saved progress after targeted cleanup")}catch(a){console.error("Still unable to save after extensive cleanup:",a)}}catch(s){console.error("Error during storage cleanup:",s)}}else try{const e=JSON.stringify(l);sessionStorage.setItem(`backup_${i}`,e),console.log("Saved progress to sessionStorage as fallback after other error")}catch(n){console.error("All storage attempts failed:",n)}}}}}catch(P){console.error("Error in progress saving logic:",P)}}),[t,I,f,u,Z,m,V,X,ie,x]);const ce={pretest:{intelligibility:Array.from({length:20},((e,t)=>({id:t+1,audioUrl:`/audio/pretest/intelligibility/${String(t+1).padStart(2,"0")}`,type:"Int",responseType:"full-phrase"}))),effort:Array.from({length:30},((e,t)=>({id:t+1,audioUrl:`/audio/pretest/effort/${String(t+1).padStart(2,"0")}`,type:"Eff",responseType:"final-word",isHighPredictability:t<15}))),comprehension:Array.from({length:20},((e,t)=>({id:t+1,audioUrl:`/audio/pretest/comprehension/${Math.floor(t/10)+1}/${String(t%10+1).padStart(2,"0")}`,type:"Comp",responseType:"multiple-choice",storyNumber:Math.floor(t/10)+1})))},training:{...Array.from({length:4},((e,t)=>({[`day${t+1}`]:Array.from({length:20},((e,n)=>({id:n+1,audioUrl:`/audio/training/day${t+1}/${String(n+1).padStart(2,"0")}`,type:"Trn",responseType:"training",day:t+1})))}))).reduce(((e,t)=>({...e,...t})),{})},posttest:{intelligibility:Array.from({length:20},((e,t)=>({id:t+1,audioUrl:`/audio/posttest/intelligibility/${String(t+1).padStart(2,"0")}`,type:"Int",responseType:"full-phrase"}))),effort:Array.from({length:30},((e,t)=>({id:t+1,audioUrl:`/audio/posttest/effort/${String(t+1).padStart(2,"0")}`,type:"Eff",responseType:"final-word",isHighPredictability:t<15}))),comprehension:Array.from({length:20},((e,t)=>({id:t+1,audioUrl:`/audio/posttest/comprehension/${Math.floor(t/10)+1}/${String(t%10+1).padStart(2,"0")}`,type:"Comp",responseType:"multiple-choice",storyNumber:Math.floor(t/10)+1})))}},ue=()=>{let e;switch(t){case"pretest":e=ce.pretest;break;case"training":e=ce.training[f];break;case"posttest":e=ce.posttest;break;default:e=[]}return e&&0!==e.length?e:(console.warn(`No stimuli found for phase: ${t}${"training"===t?`, day: ${f}`:""}`),[])},de=async()=>{try{const e=await fetch(`${o.API_BASE_URL}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v,password:k})}),t=await e.json();if(e.ok){if(v.startsWith("test_")&&t.testUsersInitialized){console.log("Recently initialized test user detected! Clearing all localStorage progress...");[`progress_${v}_training_day1`,`progress_${v}_training_day2`,`progress_${v}_training_day3`,`progress_${v}_training_day4`,"training_progress_day_1","training_progress_day_2","training_progress_day_3","training_progress_day_4",`progress_${v}_pretest_intelligibility`,`progress_${v}_pretest_effort`,`progress_${v}_pretest_comprehension`,`progress_${v}_posttest1_intelligibility`,`progress_${v}_posttest1_effort`,`progress_${v}_posttest1_comprehension`,`progress_${v}_posttest2_intelligibility`,`progress_${v}_posttest2_effort`,`progress_${v}_posttest2_comprehension`,`progress_${v}_demographics_demographics`].forEach((e=>{null!==localStorage.getItem(e)&&(console.log(`Clearing localStorage key: ${e}`),localStorage.removeItem(e))})),console.log("Test user localStorage progress cleared"),alert("Test users have been reinitialized. All progress has been reset.")}localStorage.setItem("token",t.token),localStorage.setItem("userId",v),localStorage.setItem("user",JSON.stringify({userId:v,currentPhase:t.currentPhase,trainingDay:t.trainingDay,pretestDate:t.pretestDate,trainingCompletedDate:t.trainingCompletedDate,speaker:t.speaker||"OHSp01",canProceedToday:t.canProceedToday})),console.log(`User login complete. Speaker: ${t.speaker||"OHSp01"}`),S(v),O(t.currentPhase),b(t.trainingDay),F(t.pretestDate),L(t.trainingCompletedDate),B(t.canProceedToday),H(t.completed||!1),J(t.completedTests||{}),(e=>{const{randomizeComprehensionStories:t}=n(991),r=t(e);se(r),console.log("Comprehension story assignments:",r)})(v);const e=t.completedTests||{},o=!0===e.demographics||!0===e.pretest_demographics||!0===t.isDemographicsCompleted,a="true"===localStorage.getItem("demographicsCompleted"),s="true"===localStorage.getItem(`demographicsCompleted_${v}`),i=o||a&&s;console.log("Demographics completed status:",{fromData:t.isDemographicsCompleted,fromCompletedTests:e.demographics||e.pretest_demographics,fromLocalStorage:a,userSpecificFlag:s,finalStatus:i}),oe(i),o?(console.log(`Saving demographics completion from backend for user: ${v}`),localStorage.setItem("demographicsCompleted","true"),localStorage.setItem(`demographicsCompleted_${v}`,"true")):a&&!s&&(console.log("Clearing general demographics flag - not valid for current user"),localStorage.removeItem("demographicsCompleted")),!i||e.demographics&&e.pretest_demographics||(console.log("Updating completedTests to include demographics flags"),J((e=>({...e,demographics:!0,pretest_demographics:!0})))),r("selection")}else $(t.error||"Login failed")}catch(P){console.error("Login error:",P),$("Login failed. Please try again.")}},me=async()=>{if(he())try{const r=localStorage.getItem("token"),a=19===u,{getGroupForPhase:s}=n(991),i=s(t,null,v)[u],l=`Int${String(i).padStart(2,"0")}`;if(console.log(`Submitting intelligibility response for stimulus ${l} (sequential index: ${u+1})`),await fetch(`${o.API_BASE_URL}/api/response`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({phase:t,testType:"intelligibility",stimulusId:l,response:m,isTestCompleted:a})}),a){ne(!0);try{await fetch(`${o.API_BASE_URL}/api/test-completed`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({phase:t,testType:"intelligibility",completed:!0})}),console.log(`Explicitly marked ${t} intelligibility test as completed`)}catch(e){console.error("Error marking test as completed:",e)}}ge()}catch(P){console.error("Error submitting response:",P),alert("Failed to submit response. Please try again.")}finally{ne(!1)}},pe=async()=>{if(!he())return;ne(!0);let e=0;for(29===u&&console.log("THIS IS THE FINAL EFFORT STIMULUS - Special handling enabled");e<3;){e++,console.log(`Submission attempt ${e} of 3`);try{const e="number"===typeof V?Math.max(1,V):1,i=localStorage.getItem("token");if(!i)throw new Error("Authentication token not found. Please log in again.");const l=29===u;try{const{getEffortFilesForPhase:s}=n(991),c=s(t,v);if(!c||!Array.isArray(c)||c.length<=u){if(console.error(`Invalid randomized effort files for stimulus ${u+1}:`,c?`Array length: ${c.length}`:"null/undefined"),l)return console.log("This is the last stimulus - moving to completion instead of showing error"),J((e=>({...e,[`${t}_effort`]:!0,effort:!0}))),w(!0),setTimeout((()=>{r("selection"),w(!1),d(0),p(""),G(null)}),3e3),void ne(!1);throw new Error("Could not determine the correct file number for this stimulus")}const f=c[u];console.log(`Using randomized file number ${f} for stimulus ${u+1}`);const h=Math.min(Math.max(1,f||1),90),g=`Eff${String(h).padStart(2,"0")}`;console.log(`Submitting effort response for stimulus ${g} (sequential index: ${u+1}, file number: ${h})`);const y=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Request timed out"))),1e4)})),b=fetch(`${o.API_BASE_URL}/api/response`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({phase:t,testType:"effort",stimulusId:g,response:m,trainingDay:1,rating:e,isTestCompleted:l})}),x=await Promise.race([b,y]);if(!x.ok){const e=await x.json();throw console.error("Server error:",e),new Error(`Server error: ${x.status} ${e.message||"Unknown error"}`)}const S=await x.json();if(console.log("Server response:",S),l)try{await fetch(`${o.API_BASE_URL}/api/test-completed`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({phase:t,testType:"effort",completed:!0})}),console.log(`Explicitly marked ${t} effort test as completed`)}catch(a){console.error("Error marking test as completed:",a)}const k=u,N=m,j=e;ge(),console.log("After submission:",{previousStimulus:k,newStimulus:u,previousResponse:N,newResponse:m,previousRating:j,newRating:V});break}catch(s){throw console.error("Error during effort file randomization:",s),new Error("Unable to determine correct file number. Please try again.")}}catch(P){if(console.error(`Error submitting response (attempt ${e}):`,P),e>=3){console.error("All submission attempts failed");P.message.includes("network")||P.message.includes("timeout")||P.message.includes("offline")||P.message.includes("Failed to fetch")?alert("Network error: Please check your internet connection and try again."):alert(`Failed to submit response: ${P.message}`);break}console.log(`Waiting before retry attempt ${e+1}...`),await new Promise((e=>setTimeout(e,1e3)))}}ne(!1)},fe=async()=>{if(he()){ne(!0);try{const a=localStorage.getItem("token");if(!a)throw new Error("Authentication token not found. Please log in again.");const s=ae[t]||[],i=s.length>0?s[ie%s.length]:"Comp_01",l=Dt[i],c=l.questions[X],u=["A","B","C","D","E"],d=c.id,f=ie>=s.length-1,h=X>=l.questions.length-1,g=f&&h;console.log(`Submitting comprehension question answer: ${d}, ${g?"FINAL QUESTION":"more questions remain"}`);const y=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Request timed out"))),1e4)})),b=fetch(`${o.API_BASE_URL}/api/response`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({phase:t,testType:"comprehension",stimulusId:d,response:u[m],isCorrect:u[m]===c.answer,isTestCompleted:g})}),x=await Promise.race([b,y]);if(!x.ok){const e=await x.json();throw console.error("Server error:",e),new Error(`Server error: ${x.status} ${e.message||"Unknown error"}`)}if(g)try{await fetch(`${o.API_BASE_URL}/api/test-completed`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({phase:t,testType:"comprehension",completed:!0})}),console.log(`Explicitly marked ${t} comprehension test as completed`)}catch(e){console.error("Error marking test as completed:",e)}if(X<l.questions.length-1)ee((e=>e+1)),console.log(`Moving to next question in story: question ${X+2}`);else if(ie<s.length-1){le((e=>e+1)),ee(0),console.log(`Moving to next story: story ${ie+2}, starting with question 1`);try{const e=localStorage.getItem("userId");if(e){const n=`progress_${e}_${t}_comprehension`,r={questionIndex:0,currentStoryIndex:ie+1,timestamp:(new Date).toISOString(),version:2};localStorage.setItem(n,JSON.stringify(r)),console.log(`Saved progress for next story: ${n}`)}}catch(n){console.error("Error saving progress to localStorage:",n)}}else{console.log("Completing comprehension test - this was the final question of the final story"),J((e=>{const n={...e,[`${t}_comprehension`]:!0};return console.log("Marking comprehension test as completed in state:",n),n})),w(!0);try{const e=localStorage.getItem("userId");if(e){const n=`progress_${e}_${t}_comprehension`;localStorage.removeItem(n),console.log(`Cleared saved progress for completed comprehension test: ${n}`)}}catch(n){console.error("Error clearing localStorage:",n)}try{sessionStorage.setItem(`test_completed_${t}_comprehension`,"true")}catch(P){console.warn("Could not set session storage completion flag:",P)}"pretest"===t?(console.log("Pretest comprehension completed, transitioning to training phase"),O("training")):"posttest1"===t?(console.log("Posttest1 comprehension completed, transitioning to posttest2 phase"),O("posttest2")):"posttest2"===t&&(console.log("Posttest2 comprehension completed, marking all tests as completed"),O("completed"));setTimeout((()=>{r("selection"),w(!1),le(0),ee(0),p(null),console.log("Returned to selection screen after comprehension test completion")}),3e3)}p(null)}catch(P){console.error("Error submitting comprehension response:",P);P.message.includes("network")||P.message.includes("timeout")||P.message.includes("offline")||P.message.includes("Failed to fetch")?alert("Network error: Please check your internet connection and try again."):alert(`Failed to submit response: ${P.message}`)}finally{ne(!1)}}},he=()=>{switch(Z){case"intelligibility":if("NA"===m.trim())return console.log('Special case: "NA" response allowed for missing audio'),!0;if(!m.trim())return alert("Please enter the phrase you heard."),!1;break;case"effort":if("NA"===m.trim())return console.log('Special case: "NA" response for effort test with missing audio'),(null===V||V<1)&&(G(1),console.log('Auto-setting minimum rating for "NA" response')),!0;if(!m.trim())return alert("Please enter the final word you heard."),!1;if(null===V||V<1)return alert("Please rate your listening effort."),!1;break;case"comprehension":if(null===m)return alert("Please select an answer."),!1;break;case"training":return!0}return console.log(`Validation passed for ${Z} test, response: "${m}", rating: ${V}`),!0},ge=()=>{const e="intelligibility"===Z&&19===u||"comprehension"===Z&&19===u||"effort"===Z&&29===u;if(console.log(`Response submission: ${Z} test, stimulus ${u+1}/${"effort"===Z?30:20}, isLast: ${e}`),e){J((e=>{const n={...e,[`${t}_${Z}`]:!0,[Z]:!0};return console.log(`Marking ${Z} test as completed in state:`,n),n})),w(!0);try{const e=localStorage.getItem("userId");if(e){const n=`progress_${e}_${t}_${Z}`;localStorage.removeItem(n),console.log(`Cleared saved progress for completed test: ${n}`)}}catch(P){console.error("Error clearing saved progress:",P)}const e="comprehension"===Z?2e4:3e3;console.log(`Test completed: ${t} ${Z}. Showing completion message for ${e}ms`);try{sessionStorage.setItem(`test_completed_${t}_${Z}`,"true")}catch(P){console.warn("Could not set session storage completion flag:",P)}setTimeout((()=>{switch(Z){case"intelligibility":if("pretest"===t)try{console.log("Setting pretest date after intelligibility test completion");const e=localStorage.getItem("token");if(!e)throw new Error("No auth token available");const t=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Setting pretest date timed out"))),1e4)})),n=fetch(`${o.API_BASE_URL}/api/update-pretest-date`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});Promise.race([n,t]).then((e=>{if(!e.ok)throw new Error(`Server error: ${e.status}`);return e.json()})).then((e=>{if(console.log("Pretest date successfully set:",e.message),e.pretestDate){const n=(0,A.toEasternTime)(e.pretestDate);console.log(`Setting pretestDate state to: ${n}`),F(n);try{sessionStorage.setItem("pretestDate",n)}catch(t){console.warn("Could not save pretestDate to sessionStorage:",t)}}})).catch((t=>{console.error("Error updating pretest date:",t),setTimeout((()=>{console.log("Retrying pretest date setting..."),fetch(`${o.API_BASE_URL}/api/update-pretest-date`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}).catch((e=>console.error("Retry failed:",e)))}),3e3)}))}catch(P){console.error("Error in pretest date setting logic:",P)}break;case"effort":console.log(`${t} effort test completed, transitioning to comprehension test availability`);try{const e=localStorage.getItem("token");e&&(console.log("Making backup API call to ensure effort test is marked as completed"),fetch(`${o.API_BASE_URL}/api/test-completed`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({phase:t,testType:"effort",completed:!0})}).catch((e=>console.warn("Backup completion call failed:",e))))}catch(P){console.warn("Error in backup completion call:",P)}break;case"comprehension":"pretest"===t?(console.log("Pretest completed - marking completion for phase selection screen first"),localStorage.setItem("pretest_completed","true"),console.log("Setting pretest_completed flag in localStorage instead of auto-transitioning to training")):"posttest1"===t?(J((e=>({...e,[`${t}_COMPLETED`]:!0,posttest1_COMPLETED:!0}))),setTimeout((()=>{O("posttest2"),console.log("Posttest1 completed. Setting phase to posttest2 (will be date-restricted)")}),2e4)):"posttest2"===t&&setTimeout((()=>{O("completed")}),2e4)}if("training"===t&&f>=4)try{localStorage.getItem("token")&&(console.log("Fetching updated user data to get trainingCompletedDate"),fetch(`${o.API_BASE_URL}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:localStorage.getItem("userId"),password:localStorage.getItem("password")||""})}).then((e=>e.json())).then((e=>{if(e.trainingCompletedDate){console.log("Setting trainingCompletedDate to:",e.trainingCompletedDate),L(e.trainingCompletedDate);const n=JSON.parse(localStorage.getItem("user")||"{}");n.trainingCompletedDate=e.trainingCompletedDate,localStorage.setItem("user",JSON.stringify(n));try{sessionStorage.setItem("trainingCompletedDate",e.trainingCompletedDate)}catch(t){console.warn("Could not save trainingCompletedDate to sessionStorage:",t)}}})).catch((e=>console.error("Error fetching user data for trainingCompletedDate:",e))))}catch(P){console.error("Error updating trainingCompletedDate:",P)}r("selection"),w(!1),d(0),p("comprehension"===Z?null:""),G(null),console.log(`Returning to selection screen after completion of ${t} ${Z}`)}),e)}else{const e=u+1;console.log(`Moving to next stimulus: ${e+1}`),d(e),p("comprehension"===Z?null:""),G(null)}},ye=async e=>{try{if(console.log(`SIMPLIFIED handlePlayAudio - phase: ${t}, testType: ${Z}, stimulus: ${u+1}`),"string"===typeof e&&e.startsWith("Comp_")){const n=e.replace("Comp_","");console.log(`Playing story ${n} directly - no randomization or preloading`);const a=2;for(let e=1;e<=a;e++){const s=`${o.API_BASE_URL}/audio/${t}/comprehension/${n}/${e}`;console.log(`Directly accessing audio file URL: ${s}`);try{const e=localStorage.getItem("token"),t=await fetch(s,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Server error: ${t.status}`);const n=await t.json();await M.playAudioFromUrl(`${o.API_BASE_URL}${n.url}`)}catch(r){console.error(`Error playing clip ${e}:`,r)}e<a&&await new Promise((e=>setTimeout(e,100)))}return!0}if("intelligibility"===Z){console.log("Using randomized intelligibility file access with PRE-REQUEST randomization");try{const e=localStorage.getItem("userId");if(!e)throw new Error("User ID not found in localStorage");const{getGroupForPhase:r}=n(991),o=r(t,null,e),a=u,s=o[a];if(console.log(`*** PRE-REQUEST RANDOMIZATION: Index ${a+1} maps to file ${s} ***`),console.log(`Randomized files for ${t}: ${o.slice(0,5)}...`),!s)throw console.error(`ERROR: Could not get randomized file number for index ${a}`),new Error("Randomization failed - invalid file index");return console.log(`Using direct playTestAudio with randomizedFileNumber=${s}`),await M.playTestAudio(t,"intelligibility",null,s),!0}catch(P){console.error("Randomized access failed, trying fallback:",P);try{const{getGroupForPhase:e}=n(991),r=localStorage.getItem("userId"),a=e(t,null,r),s=a[u];if(!s)throw console.error(`ERROR in fallback: Could not get randomized file number for index ${u}`),new Error("Randomization failed in fallback - invalid file index");console.log(`App.js fallback: Using randomized file number: ${s} instead of sequential: ${u+1}`),console.log(`Fallback randomized files: ${a.slice(0,5)}...`),console.log(`Using API endpoint fallback with randomized number ${s}`);const i=localStorage.getItem("token"),l=`${o.API_BASE_URL}/audio/${t}/intelligibility/null/${s}`;console.log(`Fallback API URL: ${l}`);const c=await fetch(l,{headers:{Authorization:`Bearer ${i}`}});if(!c.ok)throw new Error(`Server error: ${c.status}`);const d=await c.json();return await M.playAudioFromUrl(`${o.API_BASE_URL}${d.url}`),!0}catch(a){throw console.error("All fallback attempts failed"),new Error("AUDIO_NOT_FOUND")}}}else if("effort"===Z){console.log("Using randomized effort file access");try{const e=localStorage.getItem("userId");if(!e)throw new Error("User ID not found in localStorage");return console.log(`Playing randomized effort audio for stimulus ${u+1}`),await M.playRandomizedEffortAudio(t,u+1,e),!0}catch(P){throw console.error("Randomized effort file access failed:",P),new Error("AUDIO_NOT_FOUND")}}else{console.log("Using generic fallback method for unknown test type");try{const e=`${o.API_BASE_URL}/audio/${t}/${Z||"intelligibility"}/null/${u+1}`;console.log(`Last-resort direct URL: ${e}`);const n=localStorage.getItem("token"),r=await fetch(e,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error(`Server error: ${r.status}`);const a=await r.json();return await M.playAudioFromUrl(`${o.API_BASE_URL}${a.url}`),!0}catch(P){throw console.error("Generic fallback method failed"),new Error("AUDIO_NOT_FOUND")}}}catch(P){return console.error("Error playing audio:",P),"AUDIO_NOT_FOUND"===P.message||P.message.includes("not found")||P.message.includes("timeout")||P.message.includes("404")||(console.error("General audio error:",P),M.dispose()),!1}finally{console.log("Finished audio playback attempt")}},be=()=>(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12 px-4",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-[#406368] mb-4",children:"Please Return Tomorrow"}),(0,a.jsx)("p",{className:"text-[#6e6e6d] mb-4",children:"To maintain the effectiveness of the training, each session must be completed on consecutive days. Please return tomorrow to continue your training."})]})})}),xe=e=>{e.preventDefault(),"login"===s?de():(async()=>{try{if($(""),"register"===s&&k!==j)return void $("Passwords do not match");if(!_.includes("@"))return void $("Please enter a valid email address");const e=await fetch(`${o.API_BASE_URL}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v,password:k,email:_})}),t=await e.json();e.ok?(alert("Registration successful! Please log in."),c("login"),N(""),C("")):$(t.error||"Registration failed")}catch(P){console.error("Registration error:",P),$("Registration failed. Please try again.")}})()},we=()=>{if("undefined"===typeof window)return"unknown";const e=window.navigator.userAgent.toLowerCase();return e.indexOf("edg")>-1?"edge":e.indexOf("opr")>-1||e.indexOf("opera")>-1?"opera":e.indexOf("chrome")>-1?"chrome":e.indexOf("safari")>-1?"safari":e.indexOf("firefox")>-1?"firefox":"other"};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:W?(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("adminToken"),Y(!1),D(!1)},className:"mb-4 text-blue-600 hover:text-blue-800 font-medium flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"\u2190"}),(0,a.jsx)("span",{children:"Back to Main App"})]}),(0,a.jsx)(l,{})]}):E?(0,a.jsx)(y,{onBack:()=>D(!1),onLoginSuccess:()=>{D(!1),Y(!0)}}):(0,a.jsx)(a.Fragment,{children:"auth"===t?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12",children:["chrome"!==we()&&(0,a.jsx)("div",{className:"max-w-5xl mx-auto mb-4 bg-yellow-100 border-l-4 border-yellow-500 p-4 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-500 mr-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800",children:"Browser Compatibility Notice"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700",children:"This application works best in Google Chrome. Some features may not function correctly in other browsers."})]})]})}),(0,a.jsx)(jt,{}),(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg px-8 py-6 mb-4 border border-[#dad6d9] max-w-5xl mx-auto px-4 mb-11",children:[(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)("p",{className:"text-[#6e6e6d]",children:"login"===s?"Welcome back! Please login to continue your study.":"Create an account to participate in the study."})})}),(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg px-8 py-6 mb-4 border border-[#dad6d9]",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"login"===s?"Login":"Create Account"}),P&&(0,a.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:(0,a.jsx)("p",{className:"text-red-700 text-sm",children:P})}),(0,a.jsx)("form",{onSubmit:xe,children:(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"userId",children:"User ID"}),(0,a.jsx)(i,{id:"userId",type:"text",placeholder:"Enter your user ID",value:v,onChange:e=>S(e.target.value),required:!0})]}),"register"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"email",children:"Email"}),(0,a.jsx)(i,{id:"email",type:"email",placeholder:"Enter your email",value:_,onChange:e=>T(e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"password",children:"Password"}),(0,a.jsx)(i,{id:"password",type:"password",placeholder:"Enter your password",value:k,onChange:e=>N(e.target.value),required:!0})]}),"register"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,a.jsx)(i,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:j,onChange:e=>C(e.target.value),required:!0})]}),(0,a.jsx)(h,{type:"submit",className:"w-full bg-[#406368] hover:bg-[#6c8376] text-white transition-colors",children:"login"===s?"Sign In":"Create Account"})]})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(h,{variant:"link",onClick:()=>{c("login"===s?"register":"login"),$(""),N(""),C("")},className:"text-[#406368] hover:text-[#6c8376]",children:"login"===s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsx)(h,{variant:"link",onClick:()=>D(!0),className:"text-gray-500 hover:text-[#406368]",children:"Access Admin Panel"})})]}),(0,a.jsx)(yt,{})]}):"demographics"===t?(0,a.jsx)(Ft,{onSubmit:()=>{console.log("Demographics completed - setting states and returning to selection"),oe(!0),J((e=>({...e,demographics:!0,pretest_demographics:!0})));const e=localStorage.getItem("userId");e?(console.log(`Saving demographics completion status for user: ${e}`),localStorage.setItem("demographicsCompleted","true"),localStorage.setItem(`demographicsCompleted_${e}`,"true")):(console.warn("No userId found when trying to save demographics completion"),localStorage.setItem("demographicsCompleted","true")),console.log("Demographics completion saved to localStorage on form submission");try{const e=localStorage.getItem("token");fetch(`${o.API_BASE_URL}/api/update-pretest-date`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{console.log("Pretest date status after demographics:",e.message),e.pretestDate&&!R&&F((0,A.toEasternTime)(e.pretestDate))})).catch((e=>console.error("Error updating pretest date after demographics:",e)))}catch(P){console.error("Error ensuring pretest date after demographics:",P)}r("selection")},onBack:()=>r("selection")}):"selection"===t?(0,a.jsx)(Nt,{currentPhase:I,trainingDay:f,pretestDate:R,trainingCompletedDate:z,canProceedToday:U,completed:q,onSelectPhase:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("demographics"===e)return console.log("Setting phase to demographics - completely separate from pretest"),oe(!1),J((e=>({...e,demographics:!1,pretest_demographics:!1}))),void r("demographics");if("training"===e){console.log(`Setting training day ${n}`),O(e),K("training"),n&&b(n),r(e);try{M.preloadAudioFiles(e,n||f).catch((e=>console.error("Error preloading training files:",e)))}catch(P){console.error("Failed to start preloading training files:",P)}return}let o=t||"intelligibility";const a=e;console.log(`Phase select: ${e}, test type: ${t}`),console.log("Completed tests:",Q),"intelligibility"===t||Q[`${a}_intelligibility`]?"effort"!==t&&Q[`${a}_intelligibility`]&&!Q[`${a}_effort`]?o="effort":"comprehension"!==t&&Q[`${a}_intelligibility`]&&Q[`${a}_effort`]&&!Q[`${a}_comprehension`]&&(o="comprehension"):o="intelligibility",O(e),K(o),r(e),d(0),p("comprehension"===o?null:""),G(null),console.log(`DISABLED: No preloading for ${e} - will load files only when needed`)},completedTests:Q,isDemographicsCompleted:re,onPhaseTransition:e=>{console.log(`PhaseSelection requested transition to ${e}`),O(e)}}):U||"pretest"===I?"training"===t?(()=>{const e=(()=>{switch(console.log(`App.js: Getting training data for day ${f}`),f){case 1:default:return{stimuli:Mt.day1,testStimuli:Ut.day1};case 2:return{stimuli:Mt.day2,testStimuli:Ut.day2};case 3:return{stimuli:Mt.day3,testStimuli:Ut.day3};case 4:return{stimuli:Mt.day4,testStimuli:Ut.day4}}})();return(0,a.jsx)(Bt,{trainingDay:f,trainingStimuli:e.stimuli,intelligibilityStimuli:e.testStimuli,userId:v,onComplete:e=>{if(J((t=>({...t,[`training_day${e}`]:!0}))),e>=4){console.log("Training day 4 completed, advancing to posttest1 phase"),O("posttest1");try{localStorage.getItem("token")&&(console.log("Fetching updated user data to get trainingCompletedDate"),fetch(`${o.API_BASE_URL}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:localStorage.getItem("userId"),password:localStorage.getItem("password")||""})}).then((e=>e.json())).then((e=>{if(e.trainingCompletedDate){console.log("Setting trainingCompletedDate to:",e.trainingCompletedDate),L(e.trainingCompletedDate);const n=JSON.parse(localStorage.getItem("user")||"{}");n.trainingCompletedDate=e.trainingCompletedDate,localStorage.setItem("user",JSON.stringify(n));try{sessionStorage.setItem("trainingCompletedDate",e.trainingCompletedDate)}catch(t){console.warn("Could not save trainingCompletedDate to sessionStorage:",t)}}})).catch((e=>console.error("Error fetching user data for trainingCompletedDate:",e))))}catch(P){console.error("Error updating trainingCompletedDate:",P)}}r("selection"),w(!0),setTimeout((()=>{w(!1)}),2e3)},onBack:()=>{r("selection")}})})():q?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12 px-4",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-[#406368] mb-4",children:"Study Completed"}),(0,a.jsx)("p",{className:"text-[#6e6e6d] mb-4",children:"Thank you for completing all phases of the study! Your participation is greatly appreciated."})]})})}):(()=>{const e=()=>{K(null),d(0),r("selection")};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white py-12 px-4",children:[(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-[#406368] text-white px-6 py-4",children:(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"intelligibility"===Z?"Speech Intelligibility":"effort"===Z?"Listening Effort":"Story Comprehension"})}),(0,a.jsx)("div",{className:"p-6 bg-white",children:(()=>{switch(Z){case"intelligibility":return(0,a.jsx)(Tt,{userResponse:m,onResponseChange:p,onSubmit:me,currentStimulus:u,totalStimuli:20,onPlayAudio:ye,onBack:e,isSubmitting:te});case"effort":return(0,a.jsx)(Pt,{userResponse:m,rating:V,onResponseChange:p,onRatingChange:G,onSubmit:pe,currentStimulus:u,totalStimuli:30,onPlayAudio:ye,onBack:e,isSubmitting:te});case"comprehension":const n=ae[t]||[],r=n.length>0?n[ie%n.length]:"Comp_01",o=Dt[r],s=(null===o||void 0===o?void 0:o.questions[X])||{};return(0,a.jsx)(Et,{storyId:r,question:s.question,options:s.options,userResponse:m,onResponseChange:p,onSubmit:fe,currentStimulus:X,totalStimuli:(null===o||void 0===o?void 0:o.questions.length)||10,currentStoryIndex:ie,onPlayAudio:ye,onBack:e,isSubmitting:te});default:return null}})()})]})}),x&&u===ue().length-1&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-[#f3ecda] rounded-lg max-w-md w-full p-6 shadow-xl",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-[#406368] mb-4",children:"pretest"===t||"intelligibility"===t?"Initial Assessment Complete":"training"===t?`Training Day ${f} Complete`:"posttest1"===t?"1-Week Follow-up Complete":"posttest2"===t?"1-Month Follow-up Complete":"Assessment Complete"}),(0,a.jsx)("p",{className:"text-[#6e6e6d] mb-6",children:"pretest"===t||"intelligibility"===t?"Excellent work! You've completed the initial assessment. Return tomorrow to begin your training.":"training"===t?f<4?`Great job! You've completed training day ${f}. Return tomorrow for day ${f+1}.`:"Congratulations! You've completed all training sessions. Return tomorrow for your follow-up assessment.":"posttest1"===t?"Thank you for completing the 1-week follow-up! Please return in 3 weeks to complete the 1-month follow-up.":"posttest2"===t?"Congratulations! You've successfully completed all parts of the study. Thank you for your participation!":"Congratulations! You've successfully completed the study."}),"training"===t&&(0,a.jsx)("div",{className:"w-full bg-[#dad6d9] rounded-full h-2 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-[#406368] h-full transition-all duration-1000 ease-out",style:{width:"100%"}})})]})})]})})():(0,a.jsx)(be,{})})})};function Wt(){return(0,a.jsx)(qt,{children:(0,a.jsx)(Ht,{})})}r.createRoot(document.getElementById("root")).render((0,a.jsx)(e.StrictMode,{children:(0,a.jsx)(Wt,{})}))})()})();
//# sourceMappingURL=main.2eaf9dde.js.map